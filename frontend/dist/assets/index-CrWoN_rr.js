import{j as t,m,H as z,B as $e,S as Nt,a as ye,U as ce,C as Na,b as Ft,A as be,c as Lt,d as St,e as kt,L as Te,Z as Fe,f as Et,g as Gt,T as Yt,h as Ue,i as ge,X as nt,k as Sa,I as ka,l as Be,M as Ce,E as qe,n as je,G as Ss,P as Ea,o as ks,p as et,q as Es,r as Pa,s as Ps,t as Aa,u as Ca,v as Ta,R as Ra,w as Ia,x as $t,y as As,z as gt,D as Xe,F as Kt,J as Pt,K as At,N as Oa,O as Ma,Q as _a,V as Da,W as Fa,Y as La}from"./ui-DRxlJr_a.js";import{a as $a,r as b,g as Ua,b as fe}from"./vendor-CDaM45aE.js";import{u as K,L as Se,B as Ba,R as qa,a as J,N as Ha}from"./router-ZldRIXIq.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var Cs,Xt=$a;Cs=Xt.createRoot,Xt.hydrateRoot;let za={data:""},Wa=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||za,Va=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ja=/\/\*[^]*?\*\/|  +/g,Zt=/\n+/g,he=(e,s)=>{let a="",r="",n="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":r+=o[1]=="f"?he(i,o):o+"{"+he(i,o[1]=="k"?"":s)+"}":typeof i=="object"?r+=he(i,s?s.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=he.p?he.p(o,i):o+":"+i+";")}return a+(s&&n?s+"{"+n+"}":n)+r},me={},Ts=e=>{if(typeof e=="object"){let s="";for(let a in e)s+=a+Ts(e[a]);return s}return e},Qa=(e,s,a,r,n)=>{let o=Ts(e),i=me[o]||(me[o]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(o));if(!me[i]){let u=o!==e?e:(c=>{let d,f,x=[{}];for(;d=Va.exec(c.replace(Ja,""));)d[4]?x.shift():d[3]?(f=d[3].replace(Zt," ").trim(),x.unshift(x[0][f]=x[0][f]||{})):x[0][d[1]]=d[2].replace(Zt," ").trim();return x[0]})(e);me[i]=he(n?{["@keyframes "+i]:u}:u,a?"":"."+i)}let l=a&&me.g?me.g:null;return a&&(me.g=me[i]),((u,c,d,f)=>{f?c.data=c.data.replace(f,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(me[i],s,r,l),i},Ga=(e,s,a)=>e.reduce((r,n,o)=>{let i=s[o];if(i&&i.call){let l=i(a),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=u?"."+u:l&&typeof l=="object"?l.props?"":he(l,""):l===!1?"":l}return r+n+(i??"")},"");function ct(e){let s=this||{},a=e.call?e(s.p):e;return Qa(a.unshift?a.raw?Ga(a,[].slice.call(arguments,1),s.p):a.reduce((r,n)=>Object.assign(r,n&&n.call?n(s.p):n),{}):a,Wa(s.target),s.g,s.o,s.k)}let Rs,Ct,Tt;ct.bind({g:1});let pe=ct.bind({k:1});function Ya(e,s,a,r){he.p=s,Rs=e,Ct=a,Tt=r}function we(e,s){let a=this||{};return function(){let r=arguments;function n(o,i){let l=Object.assign({},o),u=l.className||n.className;a.p=Object.assign({theme:Ct&&Ct()},l),a.o=/ *go\d+/.test(u),l.className=ct.apply(a,r)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),Tt&&c[0]&&Tt(l),Rs(c,l)}return n}}var Ka=e=>typeof e=="function",it=(e,s)=>Ka(e)?e(s):e,Xa=(()=>{let e=0;return()=>(++e).toString()})(),Is=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");e=!s||s.matches}return e}})(),Za=20,Ut="default",Os=(e,s)=>{let{toastLimit:a}=e.settings;switch(s.type){case 0:return{...e,toasts:[s.toast,...e.toasts].slice(0,a)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:r}=s;return Os(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=s;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...e,pausedAt:s.time};case 6:let o=s.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},tt=[],Ms={toasts:[],pausedAt:void 0,settings:{toastLimit:Za}},de={},_s=(e,s=Ut)=>{de[s]=Os(de[s]||Ms,e),tt.forEach(([a,r])=>{a===s&&r(de[s])})},Ds=e=>Object.keys(de).forEach(s=>_s(e,s)),er=e=>Object.keys(de).find(s=>de[s].toasts.some(a=>a.id===e)),dt=(e=Ut)=>s=>{_s(s,e)},tr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sr=(e={},s=Ut)=>{let[a,r]=b.useState(de[s]||Ms),n=b.useRef(de[s]);b.useEffect(()=>(n.current!==de[s]&&r(de[s]),tt.push([s,r]),()=>{let i=tt.findIndex(([l])=>l===s);i>-1&&tt.splice(i,1)}),[s]);let o=a.toasts.map(i=>{var l,u,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((u=e[i.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||tr[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...a,toasts:o}},ar=(e,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Xa()}),We=e=>(s,a)=>{let r=ar(s,e,a);return dt(r.toasterId||er(r.id))({type:2,toast:r}),r.id},q=(e,s)=>We("blank")(e,s);q.error=We("error");q.success=We("success");q.loading=We("loading");q.custom=We("custom");q.dismiss=(e,s)=>{let a={type:3,toastId:e};s?dt(s)(a):Ds(a)};q.dismissAll=e=>q.dismiss(void 0,e);q.remove=(e,s)=>{let a={type:4,toastId:e};s?dt(s)(a):Ds(a)};q.removeAll=e=>q.remove(void 0,e);q.promise=(e,s,a)=>{let r=q.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let o=s.success?it(s.success,n):void 0;return o?q.success(o,{id:r,...a,...a==null?void 0:a.success}):q.dismiss(r),n}).catch(n=>{let o=s.error?it(s.error,n):void 0;o?q.error(o,{id:r,...a,...a==null?void 0:a.error}):q.dismiss(r)}),e};var rr=1e3,nr=(e,s="default")=>{let{toasts:a,pausedAt:r}=sr(e,s),n=b.useRef(new Map).current,o=b.useCallback((f,x=rr)=>{if(n.has(f))return;let h=setTimeout(()=>{n.delete(f),i({type:4,toastId:f})},x);n.set(f,h)},[]);b.useEffect(()=>{if(r)return;let f=Date.now(),x=a.map(h=>{if(h.duration===1/0)return;let y=(h.duration||0)+h.pauseDuration-(f-h.createdAt);if(y<0){h.visible&&q.dismiss(h.id);return}return setTimeout(()=>q.dismiss(h.id,s),y)});return()=>{x.forEach(h=>h&&clearTimeout(h))}},[a,r,s]);let i=b.useCallback(dt(s),[s]),l=b.useCallback(()=>{i({type:5,time:Date.now()})},[i]),u=b.useCallback((f,x)=>{i({type:1,toast:{id:f,height:x}})},[i]),c=b.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),d=b.useCallback((f,x)=>{let{reverseOrder:h=!1,gutter:y=8,defaultPosition:v}=x||{},p=a.filter(w=>(w.position||v)===(f.position||v)&&w.height),N=p.findIndex(w=>w.id===f.id),j=p.filter((w,k)=>k<N&&w.visible).length;return p.filter(w=>w.visible).slice(...h?[j+1]:[0,j]).reduce((w,k)=>w+(k.height||0)+y,0)},[a]);return b.useEffect(()=>{a.forEach(f=>{if(f.dismissed)o(f.id,f.removeDelay);else{let x=n.get(f.id);x&&(clearTimeout(x),n.delete(f.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:d}}},ir=pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,or=pe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lr=pe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cr=we("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ir} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${or} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,dr=pe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ur=we("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${dr} 1s linear infinite;
`,mr=pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pr=pe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hr=we("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fr=we("div")`
  position: absolute;
`,xr=we("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yr=pe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gr=we("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,br=({toast:e})=>{let{icon:s,type:a,iconTheme:r}=e;return s!==void 0?typeof s=="string"?b.createElement(gr,null,s):s:a==="blank"?null:b.createElement(xr,null,b.createElement(ur,{...r}),a!=="loading"&&b.createElement(fr,null,a==="error"?b.createElement(cr,{...r}):b.createElement(hr,{...r})))},wr=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jr=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,vr="0%{opacity:0;} 100%{opacity:1;}",Nr="0%{opacity:1;} 100%{opacity:0;}",Sr=we("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kr=we("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Er=(e,s)=>{let a=e.includes("top")?1:-1,[r,n]=Is()?[vr,Nr]:[wr(a),jr(a)];return{animation:s?`${pe(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pe(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Pr=b.memo(({toast:e,position:s,style:a,children:r})=>{let n=e.height?Er(e.position||s||"top-center",e.visible):{opacity:0},o=b.createElement(br,{toast:e}),i=b.createElement(kr,{...e.ariaProps},it(e.message,e));return b.createElement(Sr,{className:e.className,style:{...n,...a,...e.style}},typeof r=="function"?r({icon:o,message:i}):b.createElement(b.Fragment,null,o,i))});Ya(b.createElement);var Ar=({id:e,className:s,style:a,onHeightUpdate:r,children:n})=>{let o=b.useCallback(i=>{if(i){let l=()=>{let u=i.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return b.createElement("div",{ref:o,className:s,style:a},n)},Cr=(e,s)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Is()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...r,...n}},Tr=ct`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ze=16,Rr=({reverseOrder:e,position:s="top-center",toastOptions:a,gutter:r,children:n,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:u,handlers:c}=nr(a,o);return b.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Ze,left:Ze,right:Ze,bottom:Ze,pointerEvents:"none",...i},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(d=>{let f=d.position||s,x=c.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:s}),h=Cr(f,x);return b.createElement(Ar,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Tr:"",style:h},d.type==="custom"?it(d.message,d):n?n(d):b.createElement(Pr,{toast:d,position:f}))}))},L=q;const Ir={},es=e=>{let s;const a=new Set,r=(d,f)=>{const x=typeof d=="function"?d(s):d;if(!Object.is(x,s)){const h=s;s=f??(typeof x!="object"||x===null)?x:Object.assign({},s,x),a.forEach(y=>y(s,h))}},n=()=>s,u={setState:r,getState:n,getInitialState:()=>c,subscribe:d=>(a.add(d),()=>a.delete(d)),destroy:()=>{(Ir?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},c=s=e(r,n,u);return u},Or=e=>e?es(e):es;var Fs={exports:{}},Ls={},$s={exports:{}},Us={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=b;function Mr(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var _r=typeof Object.is=="function"?Object.is:Mr,Dr=Re.useState,Fr=Re.useEffect,Lr=Re.useLayoutEffect,$r=Re.useDebugValue;function Ur(e,s){var a=s(),r=Dr({inst:{value:a,getSnapshot:s}}),n=r[0].inst,o=r[1];return Lr(function(){n.value=a,n.getSnapshot=s,bt(n)&&o({inst:n})},[e,a,s]),Fr(function(){return bt(n)&&o({inst:n}),e(function(){bt(n)&&o({inst:n})})},[e]),$r(a),a}function bt(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!_r(e,a)}catch{return!0}}function Br(e,s){return s()}var qr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Br:Ur;Us.useSyncExternalStore=Re.useSyncExternalStore!==void 0?Re.useSyncExternalStore:qr;$s.exports=Us;var Hr=$s.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=b,zr=Hr;function Wr(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Vr=typeof Object.is=="function"?Object.is:Wr,Jr=zr.useSyncExternalStore,Qr=ut.useRef,Gr=ut.useEffect,Yr=ut.useMemo,Kr=ut.useDebugValue;Ls.useSyncExternalStoreWithSelector=function(e,s,a,r,n){var o=Qr(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Yr(function(){function u(h){if(!c){if(c=!0,d=h,h=r(h),n!==void 0&&i.hasValue){var y=i.value;if(n(y,h))return f=y}return f=h}if(y=f,Vr(d,h))return y;var v=r(h);return n!==void 0&&n(y,v)?(d=h,y):(d=h,f=v)}var c=!1,d,f,x=a===void 0?null:a;return[function(){return u(s())},x===null?void 0:function(){return u(x())}]},[s,a,r,n]);var l=Jr(e,o[0],o[1]);return Gr(function(){i.hasValue=!0,i.value=l},[l]),Kr(l),l};Fs.exports=Ls;var Xr=Fs.exports;const Zr=Ua(Xr),Bs={},{useDebugValue:en}=fe,{useSyncExternalStoreWithSelector:tn}=Zr;let ts=!1;const sn=e=>e;function an(e,s=sn,a){(Bs?"production":void 0)!=="production"&&a&&!ts&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ts=!0);const r=tn(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,a);return en(r),r}const ss=e=>{(Bs?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?Or(e):e,a=(r,n)=>an(s,r,n);return Object.assign(a,s),a},rn=e=>e?ss(e):ss;function qs(e,s){return function(){return e.apply(s,arguments)}}const{toString:nn}=Object.prototype,{getPrototypeOf:Bt}=Object,{iterator:mt,toStringTag:Hs}=Symbol,pt=(e=>s=>{const a=nn.call(s);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ne=e=>(e=e.toLowerCase(),s=>pt(s)===e),ht=e=>s=>typeof s===e,{isArray:Ie}=Array,He=ht("undefined");function Ve(e){return e!==null&&!He(e)&&e.constructor!==null&&!He(e.constructor)&&G(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zs=ne("ArrayBuffer");function on(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&zs(e.buffer),s}const ln=ht("string"),G=ht("function"),Ws=ht("number"),Je=e=>e!==null&&typeof e=="object",cn=e=>e===!0||e===!1,st=e=>{if(pt(e)!=="object")return!1;const s=Bt(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Hs in e)&&!(mt in e)},dn=e=>{if(!Je(e)||Ve(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},un=ne("Date"),mn=ne("File"),pn=ne("Blob"),hn=ne("FileList"),fn=e=>Je(e)&&G(e.pipe),xn=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||G(e.append)&&((s=pt(e))==="formdata"||s==="object"&&G(e.toString)&&e.toString()==="[object FormData]"))},yn=ne("URLSearchParams"),[gn,bn,wn,jn]=["ReadableStream","Request","Response","Headers"].map(ne),vn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qe(e,s,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),Ie(e))for(r=0,n=e.length;r<n;r++)s.call(null,e[r],r,e);else{if(Ve(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],s.call(null,e[l],l,e)}}function Vs(e,s){if(Ve(e))return null;s=s.toLowerCase();const a=Object.keys(e);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const ve=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Js=e=>!He(e)&&e!==ve;function Rt(){const{caseless:e}=Js(this)&&this||{},s={},a=(r,n)=>{const o=e&&Vs(s,n)||n;st(s[o])&&st(r)?s[o]=Rt(s[o],r):st(r)?s[o]=Rt({},r):Ie(r)?s[o]=r.slice():s[o]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Qe(arguments[r],a);return s}const Nn=(e,s,a,{allOwnKeys:r}={})=>(Qe(s,(n,o)=>{a&&G(n)?e[o]=qs(n,a):e[o]=n},{allOwnKeys:r}),e),Sn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kn=(e,s,a,r)=>{e.prototype=Object.create(s.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),a&&Object.assign(e.prototype,a)},En=(e,s,a,r)=>{let n,o,i;const l={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!r||r(i,e,s))&&!l[i]&&(s[i]=e[i],l[i]=!0);e=a!==!1&&Bt(e)}while(e&&(!a||a(e,s))&&e!==Object.prototype);return s},Pn=(e,s,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=s.length;const r=e.indexOf(s,a);return r!==-1&&r===a},An=e=>{if(!e)return null;if(Ie(e))return e;let s=e.length;if(!Ws(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=e[s];return a},Cn=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Bt(Uint8Array)),Tn=(e,s)=>{const r=(e&&e[mt]).call(e);let n;for(;(n=r.next())&&!n.done;){const o=n.value;s.call(e,o[0],o[1])}},Rn=(e,s)=>{let a;const r=[];for(;(a=e.exec(s))!==null;)r.push(a);return r},In=ne("HTMLFormElement"),On=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),as=(({hasOwnProperty:e})=>(s,a)=>e.call(s,a))(Object.prototype),Mn=ne("RegExp"),Qs=(e,s)=>{const a=Object.getOwnPropertyDescriptors(e),r={};Qe(a,(n,o)=>{let i;(i=s(n,o,e))!==!1&&(r[o]=i||n)}),Object.defineProperties(e,r)},_n=e=>{Qs(e,(s,a)=>{if(G(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(G(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Dn=(e,s)=>{const a={},r=n=>{n.forEach(o=>{a[o]=!0})};return Ie(e)?r(e):r(String(e).split(s)),a},Fn=()=>{},Ln=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function $n(e){return!!(e&&G(e.append)&&e[Hs]==="FormData"&&e[mt])}const Un=e=>{const s=new Array(10),a=(r,n)=>{if(Je(r)){if(s.indexOf(r)>=0)return;if(Ve(r))return r;if(!("toJSON"in r)){s[n]=r;const o=Ie(r)?[]:{};return Qe(r,(i,l)=>{const u=a(i,n+1);!He(u)&&(o[l]=u)}),s[n]=void 0,o}}return r};return a(e,0)},Bn=ne("AsyncFunction"),qn=e=>e&&(Je(e)||G(e))&&G(e.then)&&G(e.catch),Gs=((e,s)=>e?setImmediate:s?((a,r)=>(ve.addEventListener("message",({source:n,data:o})=>{n===ve&&o===a&&r.length&&r.shift()()},!1),n=>{r.push(n),ve.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",G(ve.postMessage)),Hn=typeof queueMicrotask<"u"?queueMicrotask.bind(ve):typeof process<"u"&&process.nextTick||Gs,zn=e=>e!=null&&G(e[mt]),g={isArray:Ie,isArrayBuffer:zs,isBuffer:Ve,isFormData:xn,isArrayBufferView:on,isString:ln,isNumber:Ws,isBoolean:cn,isObject:Je,isPlainObject:st,isEmptyObject:dn,isReadableStream:gn,isRequest:bn,isResponse:wn,isHeaders:jn,isUndefined:He,isDate:un,isFile:mn,isBlob:pn,isRegExp:Mn,isFunction:G,isStream:fn,isURLSearchParams:yn,isTypedArray:Cn,isFileList:hn,forEach:Qe,merge:Rt,extend:Nn,trim:vn,stripBOM:Sn,inherits:kn,toFlatObject:En,kindOf:pt,kindOfTest:ne,endsWith:Pn,toArray:An,forEachEntry:Tn,matchAll:Rn,isHTMLForm:In,hasOwnProperty:as,hasOwnProp:as,reduceDescriptors:Qs,freezeMethods:_n,toObjectSet:Dn,toCamelCase:On,noop:Fn,toFiniteNumber:Ln,findKey:Vs,global:ve,isContextDefined:Js,isSpecCompliantForm:$n,toJSONObject:Un,isAsyncFn:Bn,isThenable:qn,setImmediate:Gs,asap:Hn,isIterable:zn};function T(e,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}g.inherits(T,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}});const Ys=T.prototype,Ks={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ks[e]={value:e}});Object.defineProperties(T,Ks);Object.defineProperty(Ys,"isAxiosError",{value:!0});T.from=(e,s,a,r,n,o)=>{const i=Object.create(Ys);return g.toFlatObject(e,i,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),T.call(i,e.message,s,a,r,n),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const Wn=null;function It(e){return g.isPlainObject(e)||g.isArray(e)}function Xs(e){return g.endsWith(e,"[]")?e.slice(0,-2):e}function rs(e,s,a){return e?e.concat(s).map(function(n,o){return n=Xs(n),!a&&o?"["+n+"]":n}).join(a?".":""):s}function Vn(e){return g.isArray(e)&&!e.some(It)}const Jn=g.toFlatObject(g,{},null,function(s){return/^is[A-Z]/.test(s)});function ft(e,s,a){if(!g.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,a=g.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,p){return!g.isUndefined(p[v])});const r=a.metaTokens,n=a.visitor||d,o=a.dots,i=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(s);if(!g.isFunction(n))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(g.isDate(y))return y.toISOString();if(g.isBoolean(y))return y.toString();if(!u&&g.isBlob(y))throw new T("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer(y)||g.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,p){let N=y;if(y&&!p&&typeof y=="object"){if(g.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(g.isArray(y)&&Vn(y)||(g.isFileList(y)||g.endsWith(v,"[]"))&&(N=g.toArray(y)))return v=Xs(v),N.forEach(function(w,k){!(g.isUndefined(w)||w===null)&&s.append(i===!0?rs([v],k,o):i===null?v:v+"[]",c(w))}),!1}return It(y)?!0:(s.append(rs(p,v,o),c(y)),!1)}const f=[],x=Object.assign(Jn,{defaultVisitor:d,convertValue:c,isVisitable:It});function h(y,v){if(!g.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),g.forEach(y,function(N,j){(!(g.isUndefined(N)||N===null)&&n.call(s,N,g.isString(j)?j.trim():j,v,x))===!0&&h(N,v?v.concat(j):[j])}),f.pop()}}if(!g.isObject(e))throw new TypeError("data must be an object");return h(e),s}function ns(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function qt(e,s){this._pairs=[],e&&ft(e,this,s)}const Zs=qt.prototype;Zs.append=function(s,a){this._pairs.push([s,a])};Zs.toString=function(s){const a=s?function(r){return s.call(this,r,ns)}:ns;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Qn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ea(e,s,a){if(!s)return e;const r=a&&a.encode||Qn;g.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(n?o=n(s,a):o=g.isURLSearchParams(s)?s.toString():new qt(s,a).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class is{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){g.forEach(this.handlers,function(r){r!==null&&s(r)})}}const ta={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gn=typeof URLSearchParams<"u"?URLSearchParams:qt,Yn=typeof FormData<"u"?FormData:null,Kn=typeof Blob<"u"?Blob:null,Xn={isBrowser:!0,classes:{URLSearchParams:Gn,FormData:Yn,Blob:Kn},protocols:["http","https","file","blob","url","data"]},Ht=typeof window<"u"&&typeof document<"u",Ot=typeof navigator=="object"&&navigator||void 0,Zn=Ht&&(!Ot||["ReactNative","NativeScript","NS"].indexOf(Ot.product)<0),ei=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ti=Ht&&window.location.href||"http://localhost",si=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ht,hasStandardBrowserEnv:Zn,hasStandardBrowserWebWorkerEnv:ei,navigator:Ot,origin:ti},Symbol.toStringTag,{value:"Module"})),V={...si,...Xn};function ai(e,s){return ft(e,new V.classes.URLSearchParams,{visitor:function(a,r,n,o){return V.isNode&&g.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function ri(e){return g.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function ni(e){const s={},a=Object.keys(e);let r;const n=a.length;let o;for(r=0;r<n;r++)o=a[r],s[o]=e[o];return s}function sa(e){function s(a,r,n,o){let i=a[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=a.length;return i=!i&&g.isArray(n)?n.length:i,u?(g.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!l):((!n[i]||!g.isObject(n[i]))&&(n[i]=[]),s(a,r,n[i],o)&&g.isArray(n[i])&&(n[i]=ni(n[i])),!l)}if(g.isFormData(e)&&g.isFunction(e.entries)){const a={};return g.forEachEntry(e,(r,n)=>{s(ri(r),n,a,0)}),a}return null}function ii(e,s,a){if(g.isString(e))try{return(s||JSON.parse)(e),g.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const Ge={transitional:ta,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,o=g.isObject(s);if(o&&g.isHTMLForm(s)&&(s=new FormData(s)),g.isFormData(s))return n?JSON.stringify(sa(s)):s;if(g.isArrayBuffer(s)||g.isBuffer(s)||g.isStream(s)||g.isFile(s)||g.isBlob(s)||g.isReadableStream(s))return s;if(g.isArrayBufferView(s))return s.buffer;if(g.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ai(s,this.formSerializer).toString();if((l=g.isFileList(s))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ft(l?{"files[]":s}:s,u&&new u,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),ii(s)):s}],transformResponse:[function(s){const a=this.transitional||Ge.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(g.isResponse(s)||g.isReadableStream(s))return s;if(s&&g.isString(s)&&(r&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(l){if(i)throw l.name==="SyntaxError"?T.from(l,T.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:V.classes.FormData,Blob:V.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],e=>{Ge.headers[e]={}});const oi=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),li=e=>{const s={};let a,r,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!a||s[a]&&oi[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},os=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function at(e){return e===!1||e==null?e:g.isArray(e)?e.map(at):String(e)}function ci(e){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)s[r[1]]=r[2];return s}const di=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wt(e,s,a,r,n){if(g.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!g.isString(s)){if(g.isString(r))return s.indexOf(r)!==-1;if(g.isRegExp(r))return r.test(s)}}function ui(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function mi(e,s){const a=g.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(n,o,i){return this[r].call(this,s,n,o,i)},configurable:!0})})}let Y=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function o(l,u,c){const d=_e(u);if(!d)throw new Error("header name must be a non-empty string");const f=g.findKey(n,d);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||u]=at(l))}const i=(l,u)=>g.forEach(l,(c,d)=>o(c,d,u));if(g.isPlainObject(s)||s instanceof this.constructor)i(s,a);else if(g.isString(s)&&(s=s.trim())&&!di(s))i(li(s),a);else if(g.isObject(s)&&g.isIterable(s)){let l={},u,c;for(const d of s){if(!g.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?g.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}i(l,a)}else s!=null&&o(a,s,r);return this}get(s,a){if(s=_e(s),s){const r=g.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return ci(n);if(g.isFunction(a))return a.call(this,n,r);if(g.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=_e(s),s){const r=g.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||wt(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function o(i){if(i=_e(i),i){const l=g.findKey(r,i);l&&(!a||wt(r,r[l],l,a))&&(delete r[l],n=!0)}}return g.isArray(s)?s.forEach(o):o(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const o=a[r];(!s||wt(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const a=this,r={};return g.forEach(this,(n,o)=>{const i=g.findKey(r,o);if(i){a[i]=at(n),delete a[o];return}const l=s?ui(o):String(o).trim();l!==o&&delete a[o],a[l]=at(n),r[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return g.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&g.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[os]=this[os]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=_e(i);r[l]||(mi(n,i),r[l]=!0)}return g.isArray(s)?s.forEach(o):o(s),this}};Y.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors(Y.prototype,({value:e},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(r){this[a]=r}}});g.freezeMethods(Y);function jt(e,s){const a=this||Ge,r=s||a,n=Y.from(r.headers);let o=r.data;return g.forEach(e,function(l){o=l.call(a,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function aa(e){return!!(e&&e.__CANCEL__)}function Oe(e,s,a){T.call(this,e??"canceled",T.ERR_CANCELED,s,a),this.name="CanceledError"}g.inherits(Oe,T,{__CANCEL__:!0});function ra(e,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):s(new T("Request failed with status code "+a.status,[T.ERR_BAD_REQUEST,T.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function pi(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function hi(e,s){e=e||10;const a=new Array(e),r=new Array(e);let n=0,o=0,i;return s=s!==void 0?s:1e3,function(u){const c=Date.now(),d=r[o];i||(i=c),a[n]=u,r[n]=c;let f=o,x=0;for(;f!==n;)x+=a[f++],f=f%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),c-i<s)return;const h=d&&c-d;return h?Math.round(x*1e3/h):void 0}}function fi(e,s){let a=0,r=1e3/s,n,o;const i=(c,d=Date.now())=>{a=d,n=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-a;f>=r?i(c,d):(n=c,o||(o=setTimeout(()=>{o=null,i(n)},r-f)))},()=>n&&i(n)]}const ot=(e,s,a=3)=>{let r=0;const n=hi(50,250);return fi(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-r,c=n(u),d=i<=l;r=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(f)},a)},ls=(e,s)=>{const a=e!=null;return[r=>s[0]({lengthComputable:a,total:e,loaded:r}),s[1]]},cs=e=>(...s)=>g.asap(()=>e(...s)),xi=V.hasStandardBrowserEnv?((e,s)=>a=>(a=new URL(a,V.origin),e.protocol===a.protocol&&e.host===a.host&&(s||e.port===a.port)))(new URL(V.origin),V.navigator&&/(msie|trident)/i.test(V.navigator.userAgent)):()=>!0,yi=V.hasStandardBrowserEnv?{write(e,s,a,r,n,o){const i=[e+"="+encodeURIComponent(s)];g.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),g.isString(r)&&i.push("path="+r),g.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gi(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bi(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function na(e,s,a){let r=!gi(s);return e&&(r||a==!1)?bi(e,s):s}const ds=e=>e instanceof Y?{...e}:e;function Pe(e,s){s=s||{};const a={};function r(c,d,f,x){return g.isPlainObject(c)&&g.isPlainObject(d)?g.merge.call({caseless:x},c,d):g.isPlainObject(d)?g.merge({},d):g.isArray(d)?d.slice():d}function n(c,d,f,x){if(g.isUndefined(d)){if(!g.isUndefined(c))return r(void 0,c,f,x)}else return r(c,d,f,x)}function o(c,d){if(!g.isUndefined(d))return r(void 0,d)}function i(c,d){if(g.isUndefined(d)){if(!g.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,f){if(f in s)return r(c,d);if(f in e)return r(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,f)=>n(ds(c),ds(d),f,!0)};return g.forEach(Object.keys({...e,...s}),function(d){const f=u[d]||n,x=f(e[d],s[d],d);g.isUndefined(x)&&f!==l||(a[d]=x)}),a}const ia=e=>{const s=Pe({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=s;s.headers=i=Y.from(i),s.url=ea(na(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(g.isFormData(a)){if(V.hasStandardBrowserEnv||V.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[c,...d]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...d].join("; "))}}if(V.hasStandardBrowserEnv&&(r&&g.isFunction(r)&&(r=r(s)),r||r!==!1&&xi(s.url))){const c=n&&o&&yi.read(o);c&&i.set(n,c)}return s},wi=typeof XMLHttpRequest<"u",ji=wi&&function(e){return new Promise(function(a,r){const n=ia(e);let o=n.data;const i=Y.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=n,d,f,x,h,y;function v(){h&&h(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function N(){if(!p)return;const w=Y.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),M={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:w,config:e,request:p};ra(function(P){a(P),v()},function(P){r(P),v()},M),p=null}"onloadend"in p?p.onloadend=N:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(N)},p.onabort=function(){p&&(r(new T("Request aborted",T.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new T("Network Error",T.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const M=n.transitional||ta;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),r(new T(k,M.clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,e,p)),p=null},o===void 0&&i.setContentType(null),"setRequestHeader"in p&&g.forEach(i.toJSON(),function(k,M){p.setRequestHeader(M,k)}),g.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),l&&l!=="json"&&(p.responseType=n.responseType),c&&([x,y]=ot(c,!0),p.addEventListener("progress",x)),u&&p.upload&&([f,h]=ot(u),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(d=w=>{p&&(r(!w||w.type?new Oe(null,e,p):w),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const j=pi(n.url);if(j&&V.protocols.indexOf(j)===-1){r(new T("Unsupported protocol "+j+":",T.ERR_BAD_REQUEST,e));return}p.send(o||null)})},vi=(e,s)=>{const{length:a}=e=e?e.filter(Boolean):[];if(s||a){let r=new AbortController,n;const o=function(c){if(!n){n=!0,l();const d=c instanceof Error?c:this.reason;r.abort(d instanceof T?d:new Oe(d instanceof Error?d.message:d))}};let i=s&&setTimeout(()=>{i=null,o(new T(`timeout ${s} of ms exceeded`,T.ETIMEDOUT))},s);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>g.asap(l),u}},Ni=function*(e,s){let a=e.byteLength;if(a<s){yield e;return}let r=0,n;for(;r<a;)n=r+s,yield e.slice(r,n),r=n},Si=async function*(e,s){for await(const a of ki(e))yield*Ni(a,s)},ki=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},us=(e,s,a,r)=>{const n=Si(e,s);let o=0,i,l=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await n.next();if(c){l(),u.close();return}let f=d.byteLength;if(a){let x=o+=f;a(x)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},xt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oa=xt&&typeof ReadableStream=="function",Ei=xt&&(typeof TextEncoder=="function"?(e=>s=>e.encode(s))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),la=(e,...s)=>{try{return!!e(...s)}catch{return!1}},Pi=oa&&la(()=>{let e=!1;const s=new Request(V.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!s}),ms=64*1024,Mt=oa&&la(()=>g.isReadableStream(new Response("").body)),lt={stream:Mt&&(e=>e.body)};xt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!lt[s]&&(lt[s]=g.isFunction(e[s])?a=>a[s]():(a,r)=>{throw new T(`Response type '${s}' is not supported`,T.ERR_NOT_SUPPORT,r)})})})(new Response);const Ai=async e=>{if(e==null)return 0;if(g.isBlob(e))return e.size;if(g.isSpecCompliantForm(e))return(await new Request(V.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(g.isArrayBufferView(e)||g.isArrayBuffer(e))return e.byteLength;if(g.isURLSearchParams(e)&&(e=e+""),g.isString(e))return(await Ei(e)).byteLength},Ci=async(e,s)=>{const a=g.toFiniteNumber(e.getContentLength());return a??Ai(s)},Ti=xt&&(async e=>{let{url:s,method:a,data:r,signal:n,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:x}=ia(e);c=c?(c+"").toLowerCase():"text";let h=vi([n,o&&o.toAbortSignal()],i),y;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(u&&Pi&&a!=="get"&&a!=="head"&&(p=await Ci(d,r))!==0){let M=new Request(s,{method:"POST",body:r,duplex:"half"}),S;if(g.isFormData(r)&&(S=M.headers.get("content-type"))&&d.setContentType(S),M.body){const[P,R]=ls(p,ot(cs(u)));r=us(M.body,ms,P,R)}}g.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;y=new Request(s,{...x,signal:h,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:N?f:void 0});let j=await fetch(y,x);const w=Mt&&(c==="stream"||c==="response");if(Mt&&(l||w&&v)){const M={};["status","statusText","headers"].forEach(I=>{M[I]=j[I]});const S=g.toFiniteNumber(j.headers.get("content-length")),[P,R]=l&&ls(S,ot(cs(l),!0))||[];j=new Response(us(j.body,ms,P,()=>{R&&R(),v&&v()}),M)}c=c||"text";let k=await lt[g.findKey(lt,c)||"text"](j,e);return!w&&v&&v(),await new Promise((M,S)=>{ra(M,S,{data:k,headers:Y.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:y})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new T("Network Error",T.ERR_NETWORK,e,y),{cause:N.cause||N}):T.from(N,N&&N.code,e,y)}}),_t={http:Wn,xhr:ji,fetch:Ti};g.forEach(_t,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const ps=e=>`- ${e}`,Ri=e=>g.isFunction(e)||e===null||e===!1,ca={getAdapter:e=>{e=g.isArray(e)?e:[e];const{length:s}=e;let a,r;const n={};for(let o=0;o<s;o++){a=e[o];let i;if(r=a,!Ri(a)&&(r=_t[(i=String(a)).toLowerCase()],r===void 0))throw new T(`Unknown adapter '${i}'`);if(r)break;n[i||"#"+o]=r}if(!r){const o=Object.entries(n).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=s?o.length>1?`since :
`+o.map(ps).join(`
`):" "+ps(o[0]):"as no adapter specified";throw new T("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:_t};function vt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oe(null,e)}function hs(e){return vt(e),e.headers=Y.from(e.headers),e.data=jt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ca.getAdapter(e.adapter||Ge.adapter)(e).then(function(r){return vt(e),r.data=jt.call(e,e.transformResponse,r),r.headers=Y.from(r.headers),r},function(r){return aa(r)||(vt(e),r&&r.response&&(r.response.data=jt.call(e,e.transformResponse,r.response),r.response.headers=Y.from(r.response.headers))),Promise.reject(r)})}const da="1.11.0",yt={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{yt[e]=function(r){return typeof r===e||"a"+(s<1?"n ":" ")+e}});const fs={};yt.transitional=function(s,a,r){function n(o,i){return"[Axios v"+da+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(s===!1)throw new T(n(i," has been removed"+(a?" in "+a:"")),T.ERR_DEPRECATED);return a&&!fs[i]&&(fs[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(o,i,l):!0}};yt.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function Ii(e,s,a){if(typeof e!="object")throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const o=r[n],i=s[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new T("option "+o+" must be "+u,T.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new T("Unknown option "+o,T.ERR_BAD_OPTION)}}const rt={assertOptions:Ii,validators:yt},le=rt.validators;let ke=class{constructor(s){this.defaults=s||{},this.interceptors={request:new is,response:new is}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Pe(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:o}=a;r!==void 0&&rt.assertOptions(r,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),n!=null&&(g.isFunction(n)?a.paramsSerializer={serialize:n}:rt.assertOptions(n,{encode:le.function,serialize:le.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),rt.assertOptions(a,{baseUrl:le.spelling("baseURL"),withXsrfToken:le.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&g.merge(o.common,o[a.method]);o&&g.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),a.headers=Y.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(a)===!1||(u=u&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,f=0,x;if(!u){const y=[hs.bind(this),void 0];for(y.unshift(...l),y.push(...c),x=y.length,d=Promise.resolve(a);f<x;)d=d.then(y[f++],y[f++]);return d}x=l.length;let h=a;for(f=0;f<x;){const y=l[f++],v=l[f++];try{h=y(h)}catch(p){v.call(this,p);break}}try{d=hs.call(this,h)}catch(y){return Promise.reject(y)}for(f=0,x=c.length;f<x;)d=d.then(c[f++],c[f++]);return d}getUri(s){s=Pe(this.defaults,s);const a=na(s.baseURL,s.url,s.allowAbsoluteUrls);return ea(a,s.params,s.paramsSerializer)}};g.forEach(["delete","get","head","options"],function(s){ke.prototype[s]=function(a,r){return this.request(Pe(r||{},{method:s,url:a,data:(r||{}).data}))}});g.forEach(["post","put","patch"],function(s){function a(r){return function(o,i,l){return this.request(Pe(l||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ke.prototype[s]=a(),ke.prototype[s+"Form"]=a(!0)});let Oi=class ua{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(n);return i.cancel=function(){r.unsubscribe(o)},i},s(function(o,i,l){r.reason||(r.reason=new Oe(o,i,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new ua(function(n){s=n}),cancel:s}}};function Mi(e){return function(a){return e.apply(null,a)}}function _i(e){return g.isObject(e)&&e.isAxiosError===!0}const Dt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dt).forEach(([e,s])=>{Dt[s]=e});function ma(e){const s=new ke(e),a=qs(ke.prototype.request,s);return g.extend(a,ke.prototype,s,{allOwnKeys:!0}),g.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return ma(Pe(e,n))},a}const $=ma(Ge);$.Axios=ke;$.CanceledError=Oe;$.CancelToken=Oi;$.isCancel=aa;$.VERSION=da;$.toFormData=ft;$.AxiosError=T;$.Cancel=$.CanceledError;$.all=function(s){return Promise.all(s)};$.spread=Mi;$.isAxiosError=_i;$.mergeConfig=Pe;$.AxiosHeaders=Y;$.formToJSON=e=>sa(g.isHTMLForm(e)?new FormData(e):e);$.getAdapter=ca.getAdapter;$.HttpStatusCode=Dt;$.default=$;const{Axios:_o,AxiosError:Do,CanceledError:Fo,isCancel:Lo,CancelToken:$o,VERSION:Uo,all:Bo,Cancel:qo,isAxiosError:Ho,spread:zo,toFormData:Wo,AxiosHeaders:Vo,HttpStatusCode:Jo,formToJSON:Qo,getAdapter:Go,mergeConfig:Yo}=$,Di=()=>"/api",Fi=Di(),A=$.create({baseURL:Fi,withCredentials:!1,headers:{"Content-Type":"application/json"}});A.interceptors.request.use(e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));A.interceptors.response.use(e=>e,async e=>{var i,l,u,c,d,f,x,h,y;const s=e.config,a=(i=e.response)==null?void 0:i.status,r=((u=(l=e.response)==null?void 0:l.data)==null?void 0:u.message)||"An error occurred",n=(f=(d=(c=e.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:f.type,o=((y=(h=(x=e.response)==null?void 0:x.data)==null?void 0:h.error)==null?void 0:y.suggestion)||"";switch(console.error("API Error:",{status:a,message:r,errorType:n,url:s==null?void 0:s.url}),a){case 401:L.error("Please log in to continue. "+o,{duration:6e3}),!s._retry&&n!=="AUTH_TOKEN_INVALID"&&(s._retry=!0,localStorage.removeItem("accessToken"),window.location.href="/login");break;case 413:L.error(`${r} ${o}`,{duration:6e3});break;case 404:L.error("API endpoint not found. Please try again later.",{duration:6e3});break;case 500:L.error("Server error. Please try again or contact support.",{duration:6e3});break;default:L.error(r,{duration:6e3})}return Promise.reject(e)});const se={register:e=>A.post("/auth/register",e),login:e=>A.post("/auth/login",e),logout:e=>A.post("/auth/logout",e),forgotPassword:e=>A.post("/auth/forgot-password",e),resetPassword:e=>A.post("/auth/reset-password",e),changePassword:e=>A.put("/auth/change-password",e),verifyEmail:e=>A.get(`/auth/verify-email?token=${e}`),resendVerification:()=>A.post("/auth/resend-verification"),refreshToken:e=>A.post("/auth/refresh",e),getMe:()=>A.get("/auth/me"),deleteAccount:e=>A.delete("/auth/delete-account",{data:e}),updateProfile:e=>A.put("/users/profile",e)},xs={uploadSingle:(e,s)=>(console.log("Uploading single image with FormData:",e),A.post("/images/upload",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(s&&a.total){const r=Math.round(a.loaded*100/a.total);s(r)}},timeout:6e4})),uploadMultiple:(e,s)=>A.post("/images/upload-multiple",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(s&&a.total){const r=Math.round(a.loaded*100/a.total);s(r)}},timeout:12e4}),deletePhoto:e=>A.delete("/images/delete",{data:e}),reorderPhotos:e=>A.put("/images/reorder",e),testConnection:()=>A.get("/images/test")},ys={getMatches:()=>A.get("/matches"),createMatch:e=>A.post("/matches",e),updateMatchStatus:(e,s)=>A.put(`/matches/${e}/status`,s),getMatchDetails:e=>A.get(`/matches/${e}`),getPotentialMatches:e=>A.get("/users/matches",{params:e}),getPendingMatches:()=>A.get("/matches/pending"),getAcceptedMatches:()=>A.get("/matches/accepted")},gs={getConversations:()=>A.get("/messages/conversations"),getConversation:(e,s)=>A.get(`/messages/conversation/${e}`,{params:s}),sendMessage:e=>A.post("/messages",e),markAsRead:e=>A.put(`/messages/read/${e}`),getUnreadCount:()=>A.get("/messages/unread/count"),deleteMessage:e=>A.delete(`/messages/${e}`)},Li={getProfile:()=>A.get("/users/profile"),updateProfile:e=>A.put("/users/profile",e),getPotentialMatches:e=>A.get("/users/matches",{params:e}),getMyMatches:()=>A.get("/users/matches/my"),deleteAccount:()=>A.delete("/users/account")},Le={getCurrencies:()=>A.get("/payments/currencies"),estimatePayment:e=>A.post("/payments/estimate",e),createPayment:e=>A.post("/payments/create",e),getPaymentStatus:e=>A.get(`/payments/status/${e}`),createSubscription:e=>A.post("/payments/subscription",e),getPaymentHistory:e=>A.get("/payments/history",{params:e}),createNOWPayments:e=>A.post("/payments/nowpayments/create",e)},Ae=rn((e,s)=>({user:null,loading:!0,error:null,isAuthenticated:!1,signUp:async a=>{var r,n,o;e({loading:!0,error:null});try{console.log("Starting signup process...");const i=await se.register(a);if(i.data.success){console.log("Signup successful:",i.data);const l=(r=i.data.data)==null?void 0:r.tokens;l!=null&&l.accessToken&&(localStorage.setItem("accessToken",l.accessToken),console.log("Access token stored")),l!=null&&l.refreshToken&&(localStorage.setItem("refreshToken",l.refreshToken),console.log("Refresh token stored"));const u=i.data.data.user;e({user:u,loading:!1,isAuthenticated:!0,error:null}),console.log("User data set in store:",u)}else throw new Error(i.data.message||"Signup failed")}catch(i){console.error("Signup error:",i);const l=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message||"Signup failed. Please try again.";throw e({error:l,loading:!1,user:null,isAuthenticated:!1}),i}},signIn:async a=>{var r,n;e({loading:!0,error:null});try{console.log("Starting signin process...");const o=await se.login(a);if(o.data.success){console.log("Signin successful:",o.data);const i=o.data.data.tokens;i!=null&&i.accessToken&&(i!=null&&i.refreshToken)?(localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),console.log("Tokens stored successfully")):console.warn("Missing tokens in response");const l=o.data.data.user;e({user:l,loading:!1,isAuthenticated:!0,error:null}),console.log("User signed in:",l)}else throw new Error(o.data.message||"Login failed")}catch(o){console.error("Signin error:",o);const i=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||o.message||"Login failed. Please check your credentials.";throw e({error:i,loading:!1,user:null,isAuthenticated:!1}),o}},signOut:async()=>{e({loading:!0,error:null});try{const a=localStorage.getItem("refreshToken");a&&(console.log("Sending logout request to server..."),await se.logout({refreshToken:a}))}catch(a){console.error("Logout API error:",a)}finally{console.log("Clearing tokens and user data..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,loading:!1,isAuthenticated:!1,error:null}),console.log("User signed out successfully")}},checkAuth:async()=>{var r;if(!localStorage.getItem("accessToken")){console.log("No access token found"),e({user:null,loading:!1,isAuthenticated:!1});return}e({loading:!0,error:null});try{console.log("Checking authentication status...");const n=await se.getMe();if(n.data.success){const o=n.data.data.user;console.log("Auth check successful:",o),e({user:o,loading:!1,isAuthenticated:!0,error:null})}else throw console.log("Auth check failed - invalid response"),new Error("Invalid response from server")}catch(n){if(console.error("Auth check error:",n),((r=n.response)==null?void 0:r.status)===401&&(console.log("Token expired, attempting refresh..."),await s().refreshToken()))try{const i=await se.getMe();if(i.data.success){const l=i.data.data.user;e({user:l,loading:!1,isAuthenticated:!0,error:null});return}}catch(i){console.error("Retry auth check failed:",i)}console.log("Clearing invalid auth data..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,loading:!1,isAuthenticated:!1,error:null})}},updateProfile:async a=>{var n,o;const r=s().user;if(!r)throw new Error("No user logged in");e({loading:!0,error:null});try{console.log("Updating profile:",a);const i=await se.updateProfile(a);if(i!=null&&i.data.success){const l={...r,...i.data.data.user};console.log("Profile updated successfully:",l),e({user:l,loading:!1,error:null})}else throw new Error((i==null?void 0:i.data.message)||"Profile update failed")}catch(i){console.error("Profile update error:",i);const l=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message||"Profile update failed";throw e({error:l,loading:!1}),i}},verifyEmail:async a=>{var r,n;e({loading:!0,error:null});try{console.log("Verifying email with token...");const o=await se.verifyEmail(a);if(o.data.success){console.log("Email verified successfully");const i=s().user;e(i?{user:{...i,isVerified:!0},loading:!1,error:null}:{loading:!1,error:null})}else throw new Error(o.data.message||"Email verification failed")}catch(o){console.error("Email verification error:",o);const i=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||o.message||"Email verification failed";throw e({error:i,loading:!1}),o}},resendVerification:async()=>{var a,r;e({loading:!0,error:null});try{console.log("Resending verification email...");const n=await se.resendVerification();if(n.data.success)console.log("Verification email sent successfully"),e({loading:!1,error:null});else throw new Error(n.data.message||"Failed to resend verification email")}catch(n){console.error("Resend verification error:",n);const o=((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||n.message||"Failed to resend verification email";throw e({error:o,loading:!1}),n}},forgotPassword:async a=>{var r,n;e({loading:!0,error:null});try{console.log("Sending forgot password request...");const o=await se.forgotPassword({email:a});if(o.data.success)console.log("Password reset email sent"),e({loading:!1,error:null});else throw new Error(o.data.message||"Failed to send reset email")}catch(o){console.error("Forgot password error:",o);const i=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||o.message||"Failed to send reset email";throw e({error:i,loading:!1}),o}},resetPassword:async(a,r,n)=>{var o,i;e({loading:!0,error:null});try{console.log("Resetting password...");const l=await se.resetPassword({token:a,userId:r,newPassword:n});if(l.data.success)console.log("Password reset successfully"),e({loading:!1,error:null});else throw new Error(l.data.message||"Password reset failed")}catch(l){console.error("Reset password error:",l);const u=((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.message)||l.message||"Password reset failed";throw e({error:u,loading:!1}),l}},changePassword:async(a,r)=>{var n,o;e({loading:!0,error:null});try{console.log("Changing password...");const i=await se.changePassword({currentPassword:a,newPassword:r});if(i.data.success)console.log("Password changed successfully"),e({loading:!1,error:null});else throw new Error(i.data.message||"Password change failed")}catch(i){console.error("Change password error:",i);const l=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message||"Password change failed";throw e({error:l,loading:!1}),i}},refreshToken:async()=>{const a=localStorage.getItem("refreshToken");if(!a)return console.log("No refresh token available"),!1;try{console.log("Attempting to refresh access token...");const r=await se.refreshToken({refreshToken:a});if(r.data.success){const{accessToken:n,refreshToken:o}=r.data.data.tokens;return localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",o),console.log("Tokens refreshed successfully"),!0}else return console.log("Token refresh failed - invalid response"),!1}catch(r){return console.error("Token refresh error:",r),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,isAuthenticated:!1,error:null}),!1}},isTokenValid:()=>{const a=localStorage.getItem("accessToken");if(!a)return!1;try{return a.split(".").length===3}catch{return!1}},clearError:()=>{e({error:null})}}));let bs=!1;bs||(bs=!0,setTimeout(()=>{console.log("Initializing auth check..."),Ae.getState().checkAuth()},100));const $i=()=>{const e=K(),{user:s}=Ae();return fe.useEffect(()=>{s&&e("/dashboard")},[s,e]),t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-lavender-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"0.5s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(z,{className:"w-12 h-12 text-white",fill:"currentColor"})}),t.jsx(m.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-5xl font-friendly font-bold bg-gradient-to-r from-coral-500 to-peach-500 bg-clip-text text-transparent mb-3",children:"SoulSync"}),t.jsx(m.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-warm-700 text-xl font-medium mb-2",children:"Where Hearts Align with AI"}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"flex items-center justify-center gap-2 text-warm-600 text-sm",children:[t.jsx($e,{className:"w-4 h-4 text-mint-500"}),t.jsx("span",{children:"Powered by Emotion. Perfected by AI."}),t.jsx(Nt,{className:"w-4 h-4 text-gold-400"})]}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"flex items-center justify-center gap-4 mt-4 text-xs text-warm-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ye,{className:"w-3 h-3 text-gold-400 fill-current"}),t.jsx("span",{children:"4.9/5 Rating"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ce,{className:"w-3 h-3 text-sky-400"}),t.jsx("span",{children:"10K+ Matches"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Na,{className:"w-3 h-3 text-sage-500"}),t.jsx("span",{children:"Human Touch"})]})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"friendly-card p-8 space-y-4",children:[t.jsx(Se,{to:"/signup",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"friendly-button w-full flex items-center justify-center gap-2 font-semibold",children:["Start Your Journey",t.jsx(Ft,{className:"w-5 h-5"})]})}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-warm-600",children:"Already have an account? "}),t.jsx(Se,{to:"/login",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign In"})]})]}),t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},className:"text-center mt-6 text-xs text-warm-500",children:t.jsx("p",{children:"By continuing, you agree to our Terms & Privacy Policy"})})]})]})},Ui={user:null,currentStep:0,personalityAnswers:{},compatibilityAnswers:{},hasPayment:!1,hasPremium:!1,subscription:null,currentMatch:null,acceptedMatch:null,rejectedMatches:[],dailyMatchCount:0,lastMatchDate:new Date().toDateString(),messages:[]},pa=b.createContext(null);function Bi(e,s){var a,r;switch(s.type){case"SET_USER":return{...e,user:s.payload,hasPremium:((a=s.payload)==null?void 0:a.hasPremium)||!1,subscription:((r=s.payload)==null?void 0:r.subscription)||null};case"SET_STEP":return{...e,currentStep:s.payload};case"SET_PERSONALITY_ANSWERS":return{...e,personalityAnswers:s.payload};case"SET_COMPATIBILITY_ANSWERS":return{...e,compatibilityAnswers:s.payload};case"SET_PAYMENT_STATUS":return{...e,hasPayment:s.payload};case"SET_PREMIUM_STATUS":return{...e,hasPremium:s.payload.hasPremium,subscription:s.payload.subscription};case"SET_MATCH":return{...e,currentMatch:s.payload};case"ACCEPT_MATCH":return{...e,acceptedMatch:s.payload,currentMatch:null,dailyMatchCount:e.dailyMatchCount+1,lastMatchDate:new Date().toDateString()};case"REJECT_MATCH":{const n=new Date().toDateString(),o=e.lastMatchDate!==n;return{...e,rejectedMatches:[...e.rejectedMatches,s.payload],currentMatch:null,dailyMatchCount:o?1:e.dailyMatchCount+1,lastMatchDate:n}}case"RESET_DAILY_MATCHES":return{...e,dailyMatchCount:0,lastMatchDate:new Date().toDateString(),rejectedMatches:[]};case"ADD_MESSAGE":return{...e,messages:[...e.messages,{id:Date.now().toString(),senderId:s.payload.senderId,content:s.payload.content,timestamp:new Date}]};default:return e}}function qi({children:e}){const[s,a]=b.useReducer(Bi,Ui);return t.jsx(pa.Provider,{value:{state:s,dispatch:a},children:e})}function ie(){const e=b.useContext(pa);if(!e)throw new Error("useApp must be used within AppProvider");return e}const ha=[{id:"love_language",category:"personality",question:"What's your primary love language?",type:"multiple",emoji:"",weight:9,options:[{value:"words",label:"Words of Affirmation",emoji:""},{value:"quality",label:"Quality Time",emoji:""},{value:"gifts",label:"Receiving Gifts",emoji:""},{value:"touch",label:"Physical Touch",emoji:""},{value:"service",label:"Acts of Service",emoji:""}]},{id:"ideal_sunday",category:"lifestyle",question:"Describe your ideal Sunday:",type:"multiple",emoji:"",weight:7,options:[{value:"adventure",label:"Outdoor Adventure",emoji:""},{value:"cozy",label:"Cozy Home Vibes",emoji:""},{value:"social",label:"Friends & Family",emoji:""},{value:"cultural",label:"Museums & Art",emoji:""},{value:"active",label:"Sports & Fitness",emoji:""}]},{id:"red_flag",category:"values",question:"What's your biggest red flag in dating?",type:"multiple",emoji:"",weight:10,options:[{value:"dishonesty",label:"Dishonesty",emoji:""},{value:"selfish",label:"Self-Centered",emoji:""},{value:"lazy",label:"No Ambition",emoji:""},{value:"rude",label:"Rude to Service Staff",emoji:""},{value:"phone",label:"Always on Phone",emoji:""}]},{id:"relationship_goal",category:"relationship",question:"What do you want in your next relationship?",type:"multiple",emoji:"",weight:10,options:[{value:"serious",label:"Something Serious",emoji:""},{value:"fun",label:"Fun & Casual",emoji:""},{value:"growth",label:"Personal Growth",emoji:""},{value:"adventure",label:"Adventure Partner",emoji:""},{value:"stability",label:"Stability & Comfort",emoji:""}]},{id:"conflict_style",category:"communication",question:"How do you handle conflict in relationships?",type:"multiple",emoji:"",weight:9,options:[{value:"direct",label:"Address it head-on",emoji:""},{value:"avoid",label:"Give space, then discuss",emoji:""},{value:"compromise",label:"Find middle ground",emoji:""},{value:"listen",label:"Listen first, then respond",emoji:""}]},{id:"spontaneity",category:"personality",question:"Are you more spontaneous or planned?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Very Planned","Very Spontaneous"]},{id:"emotional_intelligence",category:"personality",question:"Rate your emotional intelligence:",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Still Learning","Very High"]},{id:"social_energy",category:"lifestyle",question:"After a long week, you prefer:",type:"multiple",emoji:"",weight:7,options:[{value:"party",label:"Going out with friends",emoji:""},{value:"date",label:"Intimate dinner for two",emoji:""},{value:"home",label:"Cozy night at home",emoji:""},{value:"adventure",label:"Trying something new",emoji:""}]},{id:"communication_style",category:"communication",question:"Your communication style is:",type:"multiple",emoji:"",weight:8,options:[{value:"direct",label:"Direct and honest",emoji:""},{value:"gentle",label:"Gentle and thoughtful",emoji:""},{value:"playful",label:"Playful and humorous",emoji:""},{value:"deep",label:"Deep and meaningful",emoji:""}]},{id:"life_goals",category:"values",question:"Your biggest life goal is:",type:"multiple",emoji:"",weight:9,options:[{value:"career",label:"Career success",emoji:""},{value:"family",label:"Building a family",emoji:""},{value:"travel",label:"Exploring the world",emoji:""},{value:"impact",label:"Making a difference",emoji:""},{value:"growth",label:"Personal growth",emoji:""}]},{id:"relocation",category:"relationship",question:"Would you relocate for love?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Never","Absolutely"]},{id:"morning_person",category:"lifestyle",question:"Are you a morning person or night owl?",type:"scale",emoji:"",weight:5,min:1,max:10,labels:["Night Owl","Morning Person"]},{id:"risk_tolerance",category:"personality",question:"How do you feel about taking risks?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Very Cautious","Love Taking Risks"]},{id:"social_preference",category:"lifestyle",question:"Do you prefer small gatherings or big parties?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Small Groups","Big Parties"]},{id:"decision_making",category:"personality",question:"How do you make important decisions?",type:"multiple",emoji:"",weight:7,options:[{value:"logical",label:"Logic and analysis",emoji:""},{value:"intuitive",label:"Trust my gut feeling",emoji:""},{value:"research",label:"Extensive research",emoji:""},{value:"advice",label:"Seek advice from others",emoji:""}]},{id:"stress_management",category:"personality",question:"How do you handle stress?",type:"multiple",emoji:"",weight:7,options:[{value:"exercise",label:"Exercise and movement",emoji:""},{value:"meditation",label:"Meditation and mindfulness",emoji:""},{value:"social",label:"Talk to friends/family",emoji:""},{value:"creative",label:"Creative activities",emoji:""},{value:"nature",label:"Spend time in nature",emoji:""}]},{id:"money_attitude",category:"values",question:"What's your attitude toward money?",type:"multiple",emoji:"",weight:8,options:[{value:"saver",label:"Save for the future",emoji:""},{value:"spender",label:"Enjoy it while you can",emoji:""},{value:"investor",label:"Invest for growth",emoji:""},{value:"balanced",label:"Balance saving and spending",emoji:""}]},{id:"family_importance",category:"values",question:"How important is family in your life?",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Not Very Important","Extremely Important"]},{id:"career_ambition",category:"values",question:"How ambitious are you about your career?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Work to Live","Live to Work"]},{id:"physical_activity",category:"lifestyle",question:"How important is physical fitness to you?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Not Important","Very Important"]},{id:"travel_frequency",category:"lifestyle",question:"How often do you like to travel?",type:"multiple",emoji:"",weight:6,options:[{value:"rarely",label:"Rarely travel",emoji:""},{value:"yearly",label:"Once or twice a year",emoji:""},{value:"quarterly",label:"Every few months",emoji:""},{value:"monthly",label:"Monthly adventures",emoji:""},{value:"nomad",label:"Digital nomad lifestyle",emoji:""}]},{id:"learning_style",category:"personality",question:"How do you prefer to learn new things?",type:"multiple",emoji:"",weight:5,options:[{value:"reading",label:"Reading and research",emoji:""},{value:"hands_on",label:"Hands-on experience",emoji:""},{value:"discussion",label:"Discussion and debate",emoji:""},{value:"visual",label:"Visual and multimedia",emoji:""}]},{id:"humor_style",category:"personality",question:"What's your sense of humor like?",type:"multiple",emoji:"",weight:7,options:[{value:"witty",label:"Witty and clever",emoji:""},{value:"silly",label:"Silly and goofy",emoji:""},{value:"sarcastic",label:"Sarcastic and dry",emoji:""},{value:"wholesome",label:"Wholesome and clean",emoji:""},{value:"dark",label:"Dark and edgy",emoji:""}]},{id:"pet_preference",category:"lifestyle",question:"What's your relationship with pets?",type:"multiple",emoji:"",weight:6,options:[{value:"dog_lover",label:"Dog lover",emoji:""},{value:"cat_lover",label:"Cat lover",emoji:""},{value:"both",label:"Love all animals",emoji:""},{value:"allergic",label:"Allergic to pets",emoji:""},{value:"no_pets",label:"Prefer no pets",emoji:""}]},{id:"music_taste",category:"lifestyle",question:"What music moves your soul?",type:"multiple",emoji:"",weight:5,options:[{value:"pop",label:"Pop and mainstream",emoji:""},{value:"rock",label:"Rock and alternative",emoji:""},{value:"electronic",label:"Electronic and EDM",emoji:""},{value:"classical",label:"Classical and jazz",emoji:""},{value:"hip_hop",label:"Hip-hop and R&B",emoji:""},{value:"indie",label:"Indie and folk",emoji:""}]},{id:"food_adventure",category:"lifestyle",question:"How adventurous are you with food?",type:"scale",emoji:"",weight:5,min:1,max:10,labels:["Stick to Favorites","Try Anything Once"]},{id:"technology_comfort",category:"lifestyle",question:"How comfortable are you with technology?",type:"scale",emoji:"",weight:4,min:1,max:10,labels:["Basic User","Tech Enthusiast"]},{id:"environmental_consciousness",category:"values",question:"How important is environmental sustainability to you?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Not a Priority","Very Important"]},{id:"political_engagement",category:"values",question:"How engaged are you with politics?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Not Interested","Very Engaged"]},{id:"spirituality",category:"values",question:"How important is spirituality in your life?",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Not Important","Very Important"]},{id:"work_life_balance",category:"values",question:"How do you prioritize work-life balance?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Work First","Life First"]}],Ee=(e,s,a=[])=>{let r=ha.filter(o=>!a.includes(o.id));return e!=="all"&&(r=r.filter(o=>o.category===e)),r.sort(()=>.5-Math.random()).slice(0,s)},Hi=(e,s=[])=>ha.filter(r=>r.weight>=8&&!s.includes(r.id)).sort(()=>.5-Math.random()).slice(0,e),zi=()=>{const[e,s]=b.useState(0),[a,r]=b.useState({}),[n,o]=b.useState([]),i=K(),{dispatch:l}=ie();b.useEffect(()=>{const v=Ee("personality",3),p=Ee("lifestyle",2),N=Ee("values",2),j=[...v,...p,...N];o(j)},[]);const u=(v,p)=>{r(N=>({...N,[v]:p}))},c=()=>{e<n.length-1?s(v=>v+1):(l({type:"SET_PERSONALITY_ANSWERS",payload:a}),i("/payment"))},d=()=>{e>0&&s(v=>v-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full"})});const f=(e+1)/n.length*100,x=n[e],h=a[x.id],y=()=>{var v,p,N;switch(x.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(v=x.options)==null?void 0:v.map((j,w)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},onClick:()=>u(x.id,j.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${h===j.value?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400 hover:bg-pink-400/10"}`,children:[j.emoji&&t.jsx("span",{className:"text-2xl",children:j.emoji}),t.jsx("span",{className:"font-medium",children:j.label})]},j.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(p=x.labels)==null?void 0:p[0]}),t.jsx("span",{children:(N=x.labels)==null?void 0:N[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:x.min,max:x.max,value:h||x.min,onChange:j=>u(x.id,parseInt(j.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #ec4899 0%, #ec4899 ${((h||x.min)-x.min)/(x.max-x.min)*100}%, rgba(255,255,255,0.2) ${((h||x.min)-x.min)/(x.max-x.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:x.max-x.min+1},(j,w)=>t.jsx("span",{className:"text-xs text-gray-500",children:x.min+w},w))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-pink-400",children:h||x.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>u(x.id,!0),className:`p-6 rounded-xl border-2 transition-all ${h===!0?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>u(x.id,!1),className:`p-6 rounded-xl border-2 transition-all ${h===!1?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mb-4",children:t.jsx(z,{className:"w-8 h-8 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Let's get to know the real you"}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${f}%`},className:"bg-gradient-to-r from-pink-500 to-purple-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[x.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:x.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:x.question})]}),y()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(be,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,disabled:h==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Continue":"Next",t.jsx(Lt,{className:"w-5 h-5"})]})]})]})})};/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Q||(Q={}));var xe;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(xe||(xe={}));var ws;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(ws||(ws={}));var U=function(){return U=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},U.apply(this,arguments)};function fa(e,s){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}function js(e,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return e.concat(o||Array.prototype.slice.call(s))}var ze="data-react-paypal-script-id",Ne={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},Wi="Failed to load the PayPal JS SDK script.",xa="paypal",Vi="usePayPalScriptReducer must be used within a PayPalScriptProvider";function Ji(e){return e===void 0&&(e=xa),window[e]}function Qi(e){for(var s="",a=0;a<e.length;a++){var r=e[a].charCodeAt(0)*a;e[a+1]&&(r+=e[a+1].charCodeAt(0)*(a-1)),s+=String.fromCharCode(97+Math.abs(r)%26)}return s}function Gi(e){var s=e.reactComponentName,a=e.sdkComponentKey,r=e.sdkRequestedComponents,n=r===void 0?"":r,o=e.sdkDataNamespace,i=o===void 0?xa:o,l=a.charAt(0).toUpperCase().concat(a.substring(1)),u="Unable to render <".concat(s," /> because window.").concat(i,".").concat(l," is undefined."),c=typeof n=="string"?n:n.join(",");if(!c.includes(a)){var d=[c,a].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(a,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return u}function ya(e){var s=e,a=ze;s[a];var r=fa(s,[a+""]);return"react-paypal-js-".concat(Qi(JSON.stringify(r)))}function Yi(e){var s=self.document.querySelector("script[".concat(ze,'="').concat(e,'"]'));s!=null&&s.parentNode&&s.parentNode.removeChild(s)}function Ki(e,s){var a,r;switch(s.type){case xe.LOADING_STATUS:return typeof s.value=="object"?U(U({},e),{loadingStatus:s.value.state,loadingStatusErrorMessage:s.value.message}):U(U({},e),{loadingStatus:s.value});case xe.RESET_OPTIONS:return Yi(e.options[ze]),U(U({},e),{loadingStatus:Q.PENDING,options:U(U((a={},a[Ne.DATA_SDK_INTEGRATION_SOURCE]=Ne.DATA_LIBRARY_VALUE,a),s.value),(r={},r[ze]="".concat(ya(s.value)),r))});case xe.SET_BRAINTREE_INSTANCE:return U(U({},e),{braintreePayPalCheckoutInstance:s.value});default:return e}}var ga=b.createContext(null);function Xi(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(Vi)}function Zi(){var e=Xi(b.useContext(ga)),s=U(U({},e),{isInitial:e.loadingStatus===Q.INITIAL,isPending:e.loadingStatus===Q.PENDING,isResolved:e.loadingStatus===Q.RESOLVED,isRejected:e.loadingStatus===Q.REJECTED});return[s,e.dispatch]}b.createContext({});function eo(e){var s=b.useRef(new Proxy({},{get:function(a,r,n){return typeof a[r]=="function"?function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return a[r].apply(a,o)}:Reflect.get(a,r,n)}}));return s.current=Object.assign(s.current,e),s.current}var zt=function(e){var s,a=e.className,r=a===void 0?"":a,n=e.disabled,o=n===void 0?!1:n,i=e.children,l=e.forceReRender,u=l===void 0?[]:l,c=fa(e,["className","disabled","children","forceReRender"]),d=o?{opacity:.38}:{},f="".concat(r," ").concat(o?"paypal-buttons-disabled":"").trim(),x=b.useRef(null),h=b.useRef(null),y=eo(c),v=Zi()[0],p=v.isResolved,N=v.options,j=b.useState(null),w=j[0],k=j[1],M=b.useState(!0),S=M[0],P=M[1],R=b.useState(null),I=R[1];function C(){h.current!==null&&h.current.close().catch(function(){})}return!((s=h.current)===null||s===void 0)&&s.updateProps&&h.current.updateProps({message:c.message}),b.useEffect(function(){if(p===!1)return C;var O=Ji(N.dataNamespace);if(O===void 0||O.Buttons===void 0)return I(function(){throw new Error(Gi({reactComponentName:zt.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[Ne.DATA_NAMESPACE]}))}),C;var W=function(D,E){k(E),typeof c.onInit=="function"&&c.onInit(D,E)};try{h.current=O.Buttons(U(U({},y),{onInit:W}))}catch(D){return I(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(D))})}return h.current.isEligible()===!1?(P(!1),C):(x.current&&h.current.render(x.current).catch(function(D){x.current===null||x.current.children.length===0||I(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(D))})}),C)},js(js([p],u,!0),[c.fundingSource],!1)),b.useEffect(function(){w!==null&&(o===!0?w.disable().catch(function(){}):w.enable().catch(function(){}))},[o,w]),fe.createElement(fe.Fragment,null,S?fe.createElement("div",{ref:x,style:d,className:f}):i)};zt.displayName="PayPalButtons";function to(e,s){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}function so(e,s){var a=document.querySelector('script[src="'.concat(e,'"]'));if(a===null)return null;var r=ba(e,s),n=a.cloneNode();if(delete n.dataset.uidAuto,Object.keys(n.dataset).length!==Object.keys(r.dataset).length)return null;var o=!0;return Object.keys(n.dataset).forEach(function(i){n.dataset[i]!==r.dataset[i]&&(o=!1)}),o?a:null}function ao(e){var s=e.url,a=e.attributes,r=e.onSuccess,n=e.onError,o=ba(s,a);o.onerror=n,o.onload=r,document.head.insertBefore(o,document.head.firstElementChild)}function ro(e){var s=e.sdkBaseUrl,a=e.environment,r=to(e,["sdkBaseUrl","environment"]),n=s||oo(a),o=r,i=Object.keys(o).filter(function(c){return typeof o[c]<"u"&&o[c]!==null&&o[c]!==""}).reduce(function(c,d){var f=o[d].toString();return d=no(d),d.substring(0,4)==="data"||d==="crossorigin"?c.attributes[d]=f:c.queryParams[d]=f,c},{queryParams:{},attributes:{}}),l=i.queryParams,u=i.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(n,"?").concat(io(l)),attributes:u}}function no(e){var s=function(a,r){return(r?"-":"")+a.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,s)}function io(e){var s="";return Object.keys(e).forEach(function(a){s.length!==0&&(s+="&"),s+=a+"="+e[a]}),s}function oo(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function ba(e,s){s===void 0&&(s={});var a=document.createElement("script");return a.src=e,Object.keys(s).forEach(function(r){a.setAttribute(r,s[r]),r==="data-csp-nonce"&&a.setAttribute("nonce",s["data-csp-nonce"])}),a}function lo(e,s){if(s===void 0&&(s=Promise),wa(e,s),typeof document>"u")return s.resolve(null);var a=ro(e),r=a.url,n=a.attributes,o=n["data-namespace"]||"paypal",i=vs(o);return n["data-js-sdk-library"]||(n["data-js-sdk-library"]="paypal-js"),so(r,n)&&i?s.resolve(i):co({url:r,attributes:n},s).then(function(){var l=vs(o);if(l)return l;throw new Error("The window.".concat(o," global variable is not available."))})}function co(e,s){s===void 0&&(s=Promise),wa(e,s);var a=e.url,r=e.attributes;if(typeof a!="string"||a.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new s(function(n,o){if(typeof document>"u")return n();ao({url:a,attributes:r,onSuccess:function(){return n()},onError:function(){var i=new Error('The script "'.concat(a,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return o(i)}})})}function vs(e){return window[e]}function wa(e,s){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var a=e.environment;if(a&&a!=="production"&&a!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof s<"u"&&typeof s!="function")throw new Error("Expected PromisePonyfill to be a function.")}var uo=function(e){var s,a=e.options,r=a===void 0?{clientId:"test"}:a,n=e.children,o=e.deferLoading,i=o===void 0?!1:o,l=b.useReducer(Ki,{options:U(U({},r),(s={},s[Ne.DATA_JS_SDK_LIBRARY]=Ne.DATA_LIBRARY_VALUE,s[Ne.DATA_SDK_INTEGRATION_SOURCE]=Ne.DATA_LIBRARY_VALUE,s[ze]="".concat(ya(r)),s)),loadingStatus:i?Q.INITIAL:Q.PENDING}),u=l[0],c=l[1];return b.useEffect(function(){if(i===!1&&u.loadingStatus===Q.INITIAL)return c({type:xe.LOADING_STATUS,value:Q.PENDING});if(u.loadingStatus===Q.PENDING){var d=!0;return lo(u.options).then(function(){d&&c({type:xe.LOADING_STATUS,value:Q.RESOLVED})}).catch(function(f){console.error("".concat(Wi," ").concat(f)),d&&c({type:xe.LOADING_STATUS,value:{state:Q.REJECTED,message:String(f)}})}),function(){d=!1}}},[u.options,i,u.loadingStatus]),fe.createElement(ga.Provider,{value:U(U({},u),{dispatch:c})},n)};function Ns(){}b.createContext({cardFieldsForm:null,fields:{},registerField:Ns,unregisterField:Ns});const mo=({amount:e,currency:s,description:a,onSuccess:r,onError:n,onPending:o})=>{const i=async()=>{try{o();const c=(await Le.createNOWPayments({amount:e,currency:s,description:a})).data;c.success?c.data.payment.hostedUrl&&(window.open(c.data.payment.hostedUrl,"_blank"),l(c.data.payment.id)):n(c.message||"Failed to create payment")}catch{n("Failed to initiate payment")}},l=async u=>{const c=setInterval(async()=>{try{const f=(await Le.getPaymentStatus(u)).data;f.success&&f.data.payment.status==="completed"?(clearInterval(c),r()):f.success&&f.data.payment.status==="failed"&&(clearInterval(c),n("Payment failed"))}catch(d){console.error("Payment status check error:",d)}},5e3);setTimeout(()=>{clearInterval(c),n("Payment timeout")},9e5)};return t.jsxs("button",{onClick:i,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(St,{className:"w-5 h-5"}),"Pay with NOWPayments ($",e,")"]})},po=()=>{const[e,s]=b.useState(!1),[a,r]=b.useState(""),[n,o]=b.useState(!1),[i,l]=b.useState("crypto"),[u,c]=b.useState(null),[d,f]=b.useState("pending"),x=K(),{dispatch:h}=ie(),y={clientId:"AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUXlkA59kJXE7M6R",currency:"USD",intent:"capture"},v=async()=>{try{s(!0),r("");const S=await Le.createPayment({amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer"}),{payment:P}=S.data.data;c(P.id),P.hostedUrl&&window.open(P.hostedUrl,"_blank"),p(P.id)}catch(S){console.error("Crypto payment creation error:",S),r("Failed to create payment. Please try again."),s(!1)}},p=async S=>{const P=setInterval(async()=>{try{const R=await Le.getPaymentStatus(S),{payment:I}=R.data.data;I.status==="completed"?(f("completed"),o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),clearInterval(P),setTimeout(()=>{x("/compatibility-quiz")},2e3)):I.status==="failed"&&(f("failed"),r("Payment failed. Please try again."),s(!1),clearInterval(P))}catch(R){console.error("Payment status check error:",R)}},5e3);setTimeout(()=>{clearInterval(P),d==="pending"&&(r("Payment timeout. Please try again."),s(!1))},6e5)},N=(S,P)=>(s(!0),r(""),P.order.create({purchase_units:[{amount:{value:"10.00",currency_code:"USD"},description:"SoulSync AI Matchmaking - Limited Launch Offer"}],application_context:{brand_name:"SoulSync",user_action:"PAY_NOW"}})),j=async(S,P)=>{try{const R=await P.order.capture();await Le.createPayment({amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer",provider:"paypal",providerId:R.id}),console.log("PayPal payment completed:",R),o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{x("/compatibility-quiz")},2e3)}catch(R){console.error("PayPal payment error:",R),r("Payment failed. Please try again."),s(!1)}},w=S=>{console.error("PayPal error:",S),r("Payment failed. Please try again."),s(!1)},k=()=>{s(!1),r("Payment was cancelled.")},M=()=>{s(!0),r(""),setTimeout(()=>{o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{x("/compatibility-quiz")},2e3)},2e3)};return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full mb-6",children:t.jsx(kt,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Payment Successful! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:"Welcome to SoulSync! Let's find your perfect match."}),t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full"})]})}):t.jsx(uo,{options:y,children:t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mb-4",children:t.jsx(Te,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Limited Launch Offer"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Unlock SoulSync AI Matchmaking & Premium Chat"}),t.jsxs("div",{className:"bg-gradient-to-r from-pink-500/20 to-purple-600/20 border border-pink-500/30 rounded-xl p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(ye,{className:"w-5 h-5 text-yellow-400",fill:"currentColor"}),t.jsx("span",{className:"text-2xl font-bold text-white",children:"$10"}),t.jsx("span",{className:"text-gray-400 line-through",children:"$29"})]}),t.jsx("p",{className:"text-sm text-gray-300",children:"We're invite-only. Your payment ensures real users & accurate matching."})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Fe,{className:"w-5 h-5 text-yellow-400"}),"What You Get:"]}),t.jsx("div",{className:"space-y-3",children:["AI-Powered Compatibility Matching","Unlimited Premium Chat Features","Advanced Personality Analysis","Smart Date Location Finder","Priority Match Recommendations"].map((S,P)=>t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+P*.1},className:"flex items-center gap-3",children:[t.jsx(kt,{className:"w-5 h-5 text-green-400"}),t.jsx("span",{className:"text-gray-300",children:S})]},S))})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[t.jsx(Et,{className:"w-5 h-5"}),"Payment Method"]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("crypto"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="crypto"?"border-orange-500 bg-orange-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-orange-400"}`,children:[t.jsx(Gt,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"Crypto"}),t.jsx("div",{className:"text-xs opacity-75",children:"Recommended"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("paypal"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="paypal"?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx(Et,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"PayPal"}),t.jsx("div",{className:"text-xs opacity-75",children:"Fallback"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("nowpayments"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="nowpayments"?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx(St,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"NOW"}),t.jsx("div",{className:"text-xs opacity-75",children:"Payments"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("demo"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="demo"?"border-green-500 bg-green-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-green-400"}`,children:[t.jsx(Yt,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"Demo"}),t.jsx("div",{className:"text-xs opacity-75",children:"Testing"})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Secure Payment"}),t.jsx("p",{className:"text-sm text-gray-400",children:i==="crypto"?"Pay securely with Bitcoin, Ethereum, or other cryptocurrencies":i==="paypal"?"Pay securely with PayPal or credit card":"Demo payment for testing purposes"})]}),a&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:a})}),i==="crypto"&&u&&t.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-orange-500/20 border border-orange-500/30 rounded-lg p-3 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(St,{className:"w-4 h-4 text-orange-400"}),t.jsx("span",{className:"text-orange-400 text-sm font-medium",children:"Crypto Payment"})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:"Payment page opened in new tab. Please complete payment there."}),t.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Status: ",d==="pending"?"Waiting for payment...":d]})]}),i==="crypto"?t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:v,disabled:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),e?"Creating Payment...":"Pay with Crypto ($10)"]}):i==="paypal"?t.jsx("div",{className:"paypal-button-container",children:t.jsx(zt,{style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",height:45},createOrder:N,onApprove:j,onError:w,onCancel:k,disabled:e})}):i==="nowpayments"?t.jsx(mo,{amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer",onSuccess:()=>{o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{x("/compatibility-quiz")},2e3)},onError:S=>{r(S),s(!1)},onPending:()=>{s(!0),r("")}}):t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:M,disabled:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),e?"Processing Demo Payment...":"Complete Demo Payment ($10)"]}),e&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300",children:i==="crypto"?"Creating crypto payment...":"Processing payment..."})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsxs("p",{className:"text-xs text-gray-400 flex items-center justify-center gap-1",children:[t.jsx(Te,{className:"w-3 h-3"}),i==="crypto"?"Secured by Coinbase Commerce & blockchain technology":i==="paypal"?"Secured by PayPal & 256-bit SSL encryption":"Demo mode - No real payment processed"]})})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>x(-1),className:"text-gray-400 hover:text-white transition-colors text-sm",children:" Back to quiz"})})]})})})},ho=()=>{const[e,s]=b.useState(0),[a,r]=b.useState({}),[n,o]=b.useState([]),i=K(),{dispatch:l,state:u}=ie();b.useEffect(()=>{const p=Object.keys(u.personalityAnswers),N=Hi(4,p),j=Ee("communication",2,p),w=Ee("relationship",2,p),k=Ee("compatibility",1,p),M=[...N,...j,...w,...k].slice(0,8);o(M)},[u.personalityAnswers]);const c=(p,N)=>{r(j=>({...j,[p]:N}))},d=()=>{if(e<n.length-1)s(p=>p+1);else{const p={...u.personalityAnswers,...a};l({type:"SET_COMPATIBILITY_ANSWERS",payload:p}),i("/ai-matching")}},f=()=>{e>0&&s(p=>p-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full"})});const x=(e+1)/n.length*100,h=n[e],y=a[h.id],v=()=>{var p,N,j;switch(h.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(p=h.options)==null?void 0:p.map((w,k)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},onClick:()=>c(h.id,w.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${y===w.value?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400 hover:bg-purple-400/10"}`,children:[w.emoji&&t.jsx("span",{className:"text-2xl",children:w.emoji}),t.jsx("span",{className:"font-medium",children:w.label})]},w.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(N=h.labels)==null?void 0:N[0]}),t.jsx("span",{children:(j=h.labels)==null?void 0:j[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:h.min,max:h.max,value:y||h.min,onChange:w=>c(h.id,parseInt(w.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #8b5cf6 0%, #8b5cf6 ${((y||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) ${((y||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:h.max-h.min+1},(w,k)=>t.jsx("span",{className:"text-xs text-gray-500",children:h.min+k},k))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-purple-400",children:y||h.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>c(h.id,!0),className:`p-6 rounded-xl border-2 transition-all ${y===!0?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>c(h.id,!1),className:`p-6 rounded-xl border-2 transition-all ${y===!1?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full mb-4",children:t.jsx($e,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"The magic begins here"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Our AI engine needs your honesty "}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${x}%`},className:"bg-gradient-to-r from-purple-500 to-blue-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[h.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:h.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:h.question}),h.weight>=8&&t.jsx("div",{className:"inline-flex items-center gap-1 bg-yellow-500/20 border border-yellow-500/30 rounded-full px-3 py-1 mb-4",children:t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"High Impact Question"})})]}),v()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(be,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:y==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Find My Match":"Next",t.jsx(Lt,{className:"w-5 h-5"})]})]})]})})},fo=()=>{const[e,s]=b.useState(0),[a,r]=b.useState(0),[n,o]=b.useState(!1),[i,l]=b.useState(null),u=K(),{dispatch:c,state:d}=ie(),f=b.useMemo(()=>[{icon:$e,text:"Analyzing your personality profile...",duration:3e3},{icon:z,text:"Processing emotional compatibility vectors...",duration:4e3},{icon:ce,text:"Scanning potential matches...",duration:5e3},{icon:Fe,text:"Calculating relationship chemistry...",duration:3e3}],[]),x=b.useCallback(async()=>{try{o(!0),l(null);const v=d.hasPremium?10:2;if(d.dailyMatchCount>=v)return l(`Daily match limit reached! ${d.hasPremium?"Premium users can match with 10 people per day.":"Free users can only match with 2 people per day."} Please try again tomorrow.`),null;const p=await Li.getPotentialMatches({limit:20,offset:0}),{matches:N}=p.data.data;return N.length===0?(l("No potential matches found. Please try again later."),null):N}catch(v){return console.error("Error fetching potential matches:",v),l("Failed to fetch potential matches. Please try again."),null}finally{o(!1)}},[d.hasPremium,d.dailyMatchCount]),h=b.useCallback(()=>{let v=7;return v+=Math.random()*3,Math.min(10,Math.max(7,v))},[]);b.useEffect(()=>{const v=f.reduce((j,w)=>j+w.duration,0);let p=0;const N=setInterval(()=>{p+=100;const j=p/v*100;s(j);let w=0;for(let k=0;k<f.length;k++)if(w+=f[k].duration,p<=w){r(k);break}p>=v&&(clearInterval(N),setTimeout(async()=>{try{const k=await x();if(!k)return;const M=d.rejectedMatches.map(P=>P.id),S=k.filter(P=>!M.includes(P.id));if(S.length===0){c({type:"RESET_DAILY_MATCHES"});const R=k.map(C=>{var O;return{...C,age:C.age||25,bio:C.bio||"No bio available",interests:C.interests||[],photo:((O=C.photos)==null?void 0:O[0])||"/default-avatar.png",compatibility:Math.round(h()*10)/10}});R.sort((C,O)=>O.compatibility-C.compatibility);const I=R[0];I?(c({type:"SET_MATCH",payload:I}),u("/match-reveal")):l("No compatible matches found. Please try again later.")}else{const P=S.map(I=>{var C;return{...I,age:I.age||25,bio:I.bio||"No bio available",interests:I.interests||[],photo:((C=I.photos)==null?void 0:C[0])||"/default-avatar.png",compatibility:Math.round(h()*10)/10}});P.sort((I,C)=>C.compatibility-I.compatibility);const R=P[0];R?(c({type:"SET_MATCH",payload:R}),u("/match-reveal")):l("No compatible matches found. Please try again later.")}}catch(k){console.error("Error in matching process:",k),l("Failed to find matches. Please try again.")}},1e3))},100);return()=>clearInterval(N)},[f,x,d.rejectedMatches,d.compatibilityAnswers,c,u,h]);const y=()=>{l(null),s(0),r(0),window.location.reload()};return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-600 rounded-full mb-6",children:t.jsx(Ue,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Oops! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:i}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Try Again"})]})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsxs(m.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:4,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-full mb-8 relative",children:[t.jsx(z,{className:"w-12 h-12 text-white",fill:"currentColor"}),[...Array(6)].map((v,p)=>t.jsx(m.div,{className:"absolute w-2 h-2 bg-white rounded-full",animate:{rotate:[0,360],x:[20,-20,20],y:[20,-20,20]},transition:{duration:3+p*.5,repeat:1/0,ease:"linear",delay:p*.5},style:{top:"50%",left:"50%",transform:`rotate(${p*60}deg) translateX(40px)`}},p))]}),t.jsx(m.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"SoulSyncing You Now..."}),t.jsx(m.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-300 text-lg mb-8 max-w-sm mx-auto",children:"Your answers are being analyzed by our AI compatibility engine. We're finding someone who gets you. "}),t.jsx("div",{className:"space-y-6 mb-8",children:f.map((v,p)=>{const N=v.icon,j=p===a,w=p<a;return t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:j||w?1:.4,x:0,scale:j?1.05:1},transition:{delay:p*.2},className:`flex items-center gap-4 p-4 rounded-xl backdrop-blur-sm ${j?"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30":"bg-white/5 border border-white/10"}`,children:[t.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full ${j||w?"bg-gradient-to-r from-pink-500 to-purple-500":"bg-white/10"}`,children:t.jsx(N,{className:"w-6 h-6 text-white"})}),t.jsx("div",{className:"flex-1 text-left",children:t.jsx("p",{className:`font-medium ${j?"text-white":"text-gray-400"}`,children:v.text})}),j&&t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full"})]},p)})}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-3 mb-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${e}%`},className:"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 h-3 rounded-full relative overflow-hidden",transition:{duration:.5},children:t.jsx(m.div,{animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12"})})}),t.jsxs("p",{className:"text-gray-400 text-sm",children:[Math.round(e),"% Complete"]}),n&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300",children:"Finding your perfect match..."})]}),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((v,p)=>t.jsx(m.div,{className:"absolute text-pink-400/20",initial:{y:"100vh",x:Math.random()*window.innerWidth},animate:{y:"-10vh",x:Math.random()*window.innerWidth,rotate:[0,360]},transition:{duration:Math.random()*10+10,repeat:1/0,delay:Math.random()*5,ease:"linear"},children:t.jsx(z,{className:"w-4 h-4",fill:"currentColor"})},p))})]})})},xo=({user:e,isOpen:s,onClose:a,onAction:r,showActions:n=!0})=>{const[o,i]=b.useState(0),l=e.photos||[],u=()=>{l.length>1&&i(f=>(f+1)%l.length)},c=()=>{l.length>1&&i(f=>(f-1+l.length)%l.length)},d=f=>{f.target===f.currentTarget&&a()};return s?t.jsx(ge,{children:t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:d,children:t.jsxs(m.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl overflow-hidden max-w-md w-full max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e.name}),e.compatibility&&t.jsxs("div",{className:"flex items-center gap-1 bg-pink-100 px-2 py-1 rounded-full",children:[t.jsx(ye,{className:"w-4 h-4 text-pink-500 fill-current"}),t.jsxs("span",{className:"text-pink-600 font-semibold text-sm",children:[e.compatibility,"/10"]})]})]}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:t.jsx(nt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsx("div",{className:"relative aspect-square bg-gray-100",children:l.length>0?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:l[o],alt:`${e.name} - Photo ${o+1}`,className:"w-full h-full object-cover"}),l.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:c,className:"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors",children:t.jsx(Sa,{className:"w-5 h-5"})}),t.jsx("button",{onClick:u,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors",children:t.jsx(Ft,{className:"w-5 h-5"})}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:l.map((f,x)=>t.jsx("button",{onClick:()=>i(x),className:`w-2 h-2 rounded-full transition-all ${x===o?"bg-white scale-125":"bg-white/50"}`},x))})]})]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-400",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center",children:t.jsx(ka,{className:"w-8 h-8"})}),t.jsx("p",{children:"No photos available"})]})})}),t.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(Be,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.age," years old"]})]}),e.location&&t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(Ce,{className:"w-4 h-4"}),t.jsx("span",{children:e.location})]})]}),e.bio&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"About"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.bio})]}),e.interests&&e.interests.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.interests.map((f,x)=>t.jsx("span",{className:"px-3 py-1 bg-coral-100 text-coral-700 rounded-full text-sm",children:f},x))})]})]}),n&&r&&t.jsxs("div",{className:"p-4 border-t border-gray-200 flex gap-3",children:[t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r("pass"),className:"flex-1 py-3 px-6 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Pass"}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r("like"),className:"flex-1 py-3 px-6 bg-gradient-to-r from-pink-500 to-coral-500 text-white rounded-xl font-semibold hover:from-pink-600 hover:to-coral-600 transition-all flex items-center justify-center gap-2",children:[t.jsx(z,{className:"w-5 h-5 fill-current"}),"Like"]})]})]})})}):null},yo=()=>{var v;const[e,s]=b.useState(!1),[a,r]=b.useState(!1),[n,o]=b.useState(!1),i=K(),{state:l,dispatch:u}=ie(),c=l.currentMatch,d=[{id:"2",name:"Alex",age:26,bio:"Coffee enthusiast and weekend hiker. Looking for someone to explore the city with.",interests:["Coffee","Hiking","Art","Music"],compatibility:9.2,photo:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1212984/pexels-photo-1212984.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"San Francisco, CA"},{id:"3",name:"Jordan",age:30,bio:"Bookworm by day, chef by night. Love trying new recipes and cozy conversations.",interests:["Reading","Cooking","Wine","Theater"],compatibility:8.9,photo:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1819483/pexels-photo-1819483.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"Oakland, CA"},{id:"4",name:"Sam",age:29,bio:"Fitness enthusiast and dog lover. Always up for outdoor adventures and good conversations.",interests:["Fitness","Dogs","Outdoor","Photography"],compatibility:8.7,photo:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1065084/pexels-photo-1065084.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1559486/pexels-photo-1559486.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"Berkeley, CA"},{id:"5",name:"Riley",age:27,bio:"Creative soul with a passion for music and art. Looking for deep connections and shared experiences.",interests:["Music","Art","Writing","Travel"],compatibility:8.5,photo:"https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1385472/pexels-photo-1385472.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"San Jose, CA"}];if(!c)return i("/ai-matching"),null;const f=[{label:"Emotional Intelligence",score:Math.round((c.compatibility-1)*10)/10},{label:"Communication Style",score:Math.round((c.compatibility-.3)*10)/10},{label:"Life Goals",score:Math.round((c.compatibility+.1)*10)/10},{label:"Humor Compatibility",score:Math.round((c.compatibility-.4)*10)/10},{label:"Values Alignment",score:Math.round((c.compatibility-.1)*10)/10}],x=async()=>{var p,N,j;s(!0);try{await ys.createMatch({matchedUserId:c.id,compatibilityScore:c.compatibility}),u({type:"ACCEPT_MATCH",payload:c}),i("/chat")}catch(w){console.error("Error creating match:",w),(j=(N=(p=w.response)==null?void 0:p.data)==null?void 0:N.message)!=null&&j.includes("Daily match limit")?(L.error("Daily match limit reached! You can only match with 2 people per day."),r(!0)):L.error("Failed to create match. Please try again."),s(!1)}},h=async()=>{var p,N,j;s(!0);try{await ys.createMatch({matchedUserId:c.id,compatibilityScore:c.compatibility}),u({type:"REJECT_MATCH",payload:c});const w=new Date().toDateString(),M=l.lastMatchDate!==w?1:l.dailyMatchCount+1,S=l.hasPremium?10:2;if(M>=S)r(!0),s(!1);else{const P=[...l.rejectedMatches.map(I=>I.id),c.id],R=d.find(I=>!P.includes(I.id));R?setTimeout(()=>{u({type:"SET_MATCH",payload:R}),s(!1)},1500):(r(!0),s(!1))}}catch(w){console.error("Error creating match:",w),(j=(N=(p=w.response)==null?void 0:p.data)==null?void 0:N.message)!=null&&j.includes("Daily match limit")?(L.error("Daily match limit reached! You can only match with 2 people per day."),r(!0)):L.error("Failed to process match. Please try again."),s(!1)}},y=p=>{o(!1),p==="like"?x():h()};return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mb-6",children:t.jsx(Ue,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Daily Match Limit Reached"}),t.jsx("p",{className:"text-gray-300 text-lg mb-6 max-w-sm mx-auto",children:"You've seen your 2 matches for today. Quality over quantity - come back tomorrow for fresh connections! "}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Why the limit?"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("p",{children:" Prevents decision fatigue"}),t.jsx("p",{children:" Ensures thoughtful connections"}),t.jsx("p",{children:" Better matches with fresh perspective"}),t.jsx("p",{children:" Quality over quantity approach"})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i("/"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Return Tomorrow"}),t.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"New matches available in 24 hours"})]})}):t.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"w-full max-w-lg",children:[t.jsx(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-4",children:t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 border border-white/20 rounded-full px-4 py-2",children:[t.jsx(z,{className:"w-4 h-4 text-pink-400",fill:"currentColor"}),t.jsxs("span",{className:"text-white text-sm",children:["Match ",l.dailyMatchCount+1," of 2 today"]})]})}),t.jsx(m.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.5,duration:1,ease:"easeOut"},className:"text-center mb-6",children:t.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-full px-6 py-3",children:[t.jsx(Nt,{className:"w-5 h-5 text-yellow-400"}),t.jsx("span",{className:"text-white font-semibold",children:"Perfect Match Found!"}),t.jsx(Nt,{className:"w-5 h-5 text-yellow-400"})]})}),t.jsxs(m.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"relative inline-block",children:[t.jsx("img",{src:c.photo||((v=c.photos)==null?void 0:v[0])||"https://via.placeholder.com/150",alt:c.name,className:"w-32 h-32 rounded-full object-cover border-4 border-gradient-to-r from-pink-500 to-purple-500 shadow-xl"}),t.jsx(m.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.8,type:"spring"},className:"absolute -top-2 -right-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full p-2 border-4 border-white/20",children:t.jsx("div",{className:"text-white text-xs font-bold",children:c.compatibility})})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mt-4",children:[t.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Meet ",c.name]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[t.jsx(ye,{className:"w-5 h-5 text-yellow-400",fill:"currentColor"}),t.jsxs("span",{className:"text-2xl font-bold text-pink-400",children:[c.compatibility,"/10"]}),t.jsx("span",{className:"text-gray-300",children:"compatibility match"})]}),t.jsx("p",{className:"text-gray-300 text-sm max-w-sm mx-auto",children:"SoulSync says you two really feel each other "})]})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.9},children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:["About ",c.name]}),t.jsx("p",{className:"text-gray-300",children:c.bio}),c.location&&t.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[" ",c.location]})]}),c.photos&&c.photos.length>1&&t.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"bg-white/5 rounded-lg p-3",children:t.jsxs("p",{className:"text-gray-300 text-sm",children:[" ",c.photos.length," photos available in full profile"]})}),t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1},children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Shared Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:c.interests.map((p,N)=>t.jsx(m.span,{initial:{scale:0},animate:{scale:1},transition:{delay:1.3+N*.1},className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 text-pink-300 px-3 py-1 rounded-full text-sm",children:p},p))})]}),t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Compatibility Breakdown"}),t.jsx("div",{className:"space-y-3",children:f.map((p,N)=>t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.7+N*.1},className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300 text-sm",children:p.label}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 h-2 bg-white/10 rounded-full overflow-hidden",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${p.score/10*100}%`},transition:{delay:1.9+N*.1,duration:.5},className:"h-full bg-gradient-to-r from-pink-500 to-purple-600 rounded-full"})}),t.jsx("span",{className:"text-pink-400 font-semibold text-sm",children:p.score})]})]},p.label))})]})]}),t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"px-6 pb-4",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(!0),className:"w-full bg-white/10 border border-white/20 text-white py-3 px-6 rounded-xl font-medium mb-4 hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[t.jsx(qe,{className:"w-5 h-5"}),"View Full Profile"]})})]},c.id),t.jsx(ge,{children:!e&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:2.2},className:"mt-6 flex gap-4",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,className:"flex-1 bg-white/10 border border-red-500/30 text-red-400 py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-red-500/10 transition-all",children:[t.jsx(nt,{className:"w-5 h-5"}),"Pass"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 hover:shadow-lg transition-all",children:[t.jsx(z,{className:"w-5 h-5",fill:"currentColor"}),"Like"]})]})}),t.jsx(ge,{children:e&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full mb-2"}),t.jsx("p",{className:"text-gray-300",children:l.dailyMatchCount>=1?"Finding your next match...":"Processing your choice..."})]})}),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[...Array(15)].map((p,N)=>t.jsx(m.div,{className:"absolute text-pink-400/40",initial:{y:window.innerHeight+50,x:Math.random()*window.innerWidth,rotate:0,scale:Math.random()*.5+.5},animate:{y:-50,rotate:360,x:Math.random()*window.innerWidth},transition:{duration:Math.random()*3+4,delay:Math.random()*2,ease:"easeOut"},children:t.jsx(z,{className:"w-6 h-6",fill:"currentColor"})},N))})]}),t.jsx(xo,{user:{...c,photos:c.photos||[c.photo].filter(Boolean)},isOpen:n,onClose:()=>o(!1),onAction:y,showActions:!0})]})},go=()=>{var l,u;const[e,s]=b.useState(!1),a=K(),{state:r,dispatch:n}=ie(),o=[{icon:Ea,label:"Edit Profile",path:"/edit-profile"},{icon:Et,label:"Billing & Payments",path:"/billing"},{icon:ce,label:"Refer Friends",path:"/refer-friend"},{icon:z,label:"Match History",path:"/match-history"},{icon:ks,label:"Notifications",path:"/notifications"},{icon:et,label:"Privacy & Safety",path:"/privacy"},{icon:Es,label:"Settings",path:"/settings"},{icon:ce,label:"Production Features",path:"/production-features"},{icon:Pa,label:"Help & Support",path:"/help"}],i=()=>{n({type:"SET_USER",payload:null}),a("/")};return t.jsxs("div",{className:"relative",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!e),className:"relative flex items-center justify-center w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full border-2 border-white/20 hover:border-white/40 transition-all",children:[t.jsx(je,{className:"w-5 h-5 text-white"}),t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-slate-900"})]}),t.jsx(ge,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),t.jsxs(m.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute top-12 right-0 w-72 backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl z-50 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(je,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:((l=r.user)==null?void 0:l.name)||"User"}),t.jsx("p",{className:"text-gray-400 text-sm",children:(u=r.user)==null?void 0:u.email})]})]}),t.jsxs("div",{className:"mt-3 inline-flex items-center gap-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-full px-3 py-1",children:[t.jsx(Ss,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"Premium Member"})]})]}),t.jsx("div",{className:"py-2",children:o.map((c,d)=>t.jsxs(m.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},onClick:()=>{a(c.path),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-white/5 transition-all group",children:[t.jsx(c.icon,{className:"w-5 h-5 group-hover:text-pink-400 transition-colors"}),t.jsx("span",{className:"flex-1 text-left",children:c.label}),t.jsx(Ft,{className:"w-4 h-4 opacity-50 group-hover:opacity-100 transition-opacity"})]},c.label))}),t.jsx("div",{className:"border-t border-white/10 p-2",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-xl transition-all",children:[t.jsx(Ps,{className:"w-5 h-5"}),t.jsx("span",{children:"Sign Out"})]})})]})]})})]})},bo=()=>{var M;const[e,s]=b.useState(""),[a,r]=b.useState(!0),[n,o]=b.useState(!1),[i,l]=b.useState(null),[u,c]=b.useState([]),d=b.useRef(null),f=K(),{state:x,dispatch:h}=ie(),y=x.acceptedMatch||x.currentMatch,v=["I see you love travel! What's your dream destination? ","Your photography skills look amazing! What's your favorite subject? ","Fellow foodie here! What's your go-to comfort food? ","I love that you're into yoga! How long have you been practicing? "],p=["You both love sushi  ask about their favorite place!","They mentioned hiking  share your favorite trail!","Perfect time to suggest meeting up! "],N=async S=>{try{const P=await gs.getConversation(S,{limit:50,offset:0}),{messages:R}=P.data.data;h({type:"SET_MESSAGES",payload:R.map(I=>({id:I.id,senderId:I.senderId,content:I.content,timestamp:new Date(I.createdAt),isRead:I.isRead}))})}catch(P){console.error("Error fetching messages:",P),l("Failed to load messages")}};if(b.useEffect(()=>{y&&N(y.id)},[y]),b.useEffect(()=>{var S;(S=d.current)==null||S.scrollIntoView({behavior:"smooth"})},[x.messages]),b.useEffect(()=>{x.messages.length===0&&y&&(h({type:"ADD_MESSAGE",payload:{senderId:y.id,content:"Hey! I'm so excited we matched! Your profile really caught my attention "}}),setTimeout(()=>{h({type:"ADD_MESSAGE",payload:{senderId:y.id,content:"Our compatibility score is incredible! I'd love to get to know you better "}})},2e3))},[y,x.messages.length,h]),!y)return f("/"),null;const j=async S=>{var P;if(!(!S.trim()||!y))try{o(!0),l(null),await gs.sendMessage({receiverId:y.id,content:S.trim()}),h({type:"ADD_MESSAGE",payload:{senderId:((P=x.user)==null?void 0:P.id)||"user",content:S.trim(),timestamp:new Date}}),s(""),r(!1),x.messages.filter(R=>{var I;return R.senderId===((I=x.user)==null?void 0:I.id)}).length>=4&&setTimeout(()=>{h({type:"ADD_MESSAGE",payload:{senderId:y.id,content:"This conversation is going so well! Would you like to meet up sometime? I know a great place we could check out together "}}),setTimeout(()=>{k(!0)},3e3)},1500)}catch(R){console.error("Error sending message:",R),l("Failed to send message. Please try again.")}finally{o(!1)}},[w,k]=b.useState(!1);return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-600 rounded-full mb-6",children:t.jsx(Ue,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Oops! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:i}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Try Again"})]})}):t.jsxs("div",{className:"min-h-screen flex flex-col",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border-b border-white/20 p-4 flex items-center gap-4",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(be,{className:"w-5 h-5 text-white"})}),t.jsx("img",{src:y.photo||((M=y.photos)==null?void 0:M[0])||"https://via.placeholder.com/48",alt:y.name,className:"w-12 h-12 rounded-full object-cover border-2 border-pink-500/50"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-white font-semibold",children:y.name}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-400",children:[t.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Online now"]})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-pink-500/20 border border-pink-500/30 rounded-full px-3 py-1",children:[t.jsx(z,{className:"w-4 h-4 text-pink-400",fill:"currentColor"}),t.jsx("span",{className:"text-pink-400 font-semibold text-sm",children:y.compatibility||"9.2"})]}),t.jsx(go,{})]}),t.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[t.jsx(ge,{children:x.messages.map(S=>{var R;const P=S.senderId===((R=x.user)==null?void 0:R.id);return t.jsx(m.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:500,damping:30},className:`flex ${P?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${P?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-white/10 backdrop-blur-sm text-gray-100 border border-white/20"} ${P?"rounded-br-sm":"rounded-bl-sm"}`,children:[t.jsx("p",{children:S.content}),t.jsx("p",{className:`text-xs mt-1 ${P?"text-pink-100":"text-gray-400"}`,children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},S.id||Math.random())})}),x.messages.length>2&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:"SoulSync AI suggests:"})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:p[Math.floor(Math.random()*p.length)]})]}),t.jsx(ge,{children:w&&t.jsxs(m.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(Ce,{className:"w-5 h-5 text-pink-400"}),t.jsx("span",{className:"text-white font-semibold",children:"Things are heating up!"})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Want to meet? Enter your zip codes, and we'll find a romantic spot midway."}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f("/date-planner"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2",children:[t.jsx(Be,{className:"w-4 h-4"}),"Plan Our Date"]})]})}),t.jsx("div",{ref:d})]}),a&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border-t border-white/10",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-3 text-center",children:"Conversation starters:"}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map((S,P)=>t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(S),disabled:n,className:"bg-white/10 backdrop-blur-sm border border-white/20 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap hover:bg-pink-500/20 hover:border-pink-500/30 hover:text-white transition-all disabled:opacity-50",children:S},P))})]}),t.jsxs("div",{className:"p-4 border-t border-white/10",children:[t.jsxs("form",{onSubmit:S=>{S.preventDefault(),j(e)},className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:e,onChange:S=>s(S.target.value),placeholder:"Type a message...",disabled:n,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-6 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all disabled:opacity-50"}),t.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:!e.trim()||n,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white p-3 rounded-full disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:t.jsx(Ca,{className:"w-5 h-5"})})]}),n&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-4 h-4 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300 text-sm",children:"Sending message..."})]})]})]})},wo=()=>{const[e,s]=b.useState(""),[a,r]=b.useState(""),[n,o]=b.useState(""),[i,l]=b.useState(!1),[u,c]=b.useState([]),[d,f]=b.useState(null),x=K(),{state:h}=ie(),y=h.currentMatch,v=[{value:"romantic",label:"Romantic Dinner",emoji:""},{value:"casual",label:"Casual Coffee",emoji:""},{value:"active",label:"Active Date",emoji:""},{value:"cultural",label:"Cultural Experience",emoji:""},{value:"drinks",label:"Cocktails & Drinks",emoji:""}],p=[{id:1,name:"The Velvet Room",type:"Italian Restaurant",rating:4.8,priceRange:"$$$",description:"Candlelit Italian dining with intimate ambiance",address:"123 Romance St",distance:"15 min from both",image:"https://images.pexels.com/photos/67468/pexels-photo-67468.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Candlelit","Wine Selection","Outdoor Seating"]},{id:2,name:"Sunset Rooftop",type:"Wine Bar",rating:4.9,priceRange:"$$",description:"Stunning city views with craft cocktails",address:"456 Skyline Ave",distance:"12 min from both",image:"https://images.pexels.com/photos/1581384/pexels-photo-1581384.jpeg?auto=compress&cs=tinysrgb&w=400",features:["City Views","Craft Cocktails","Live Music"]},{id:3,name:"Garden Caf",type:"Coffee & Brunch",rating:4.7,priceRange:"$$",description:"Charming garden setting perfect for conversation",address:"789 Garden Way",distance:"18 min from both",image:"https://images.pexels.com/photos/1307698/pexels-photo-1307698.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Garden Setting","Brunch Menu","Pet Friendly"]}],N=async()=>{!e||!a||!n||(l(!0),await new Promise(w=>setTimeout(w,2e3)),c(p),l(!1))},j=w=>{f(w)};return y?t.jsx("div",{className:"min-h-screen p-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(be,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Plan Your Date"}),t.jsxs("p",{className:"text-gray-300",children:["with ",y.name]})]})]}),u.length?t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Perfect Spots Found! "}),t.jsx("p",{className:"text-gray-300",children:"Romantic locations midway between you both"})]}),t.jsx("div",{className:"space-y-4",children:u.map(w=>t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:`backdrop-blur-xl border-2 rounded-2xl overflow-hidden cursor-pointer transition-all ${(d==null?void 0:d.id)===w.id?"border-pink-500 bg-pink-500/10":"border-white/20 bg-white/10 hover:border-pink-400/50"}`,onClick:()=>j(w),children:t.jsxs("div",{className:"flex",children:[t.jsx("img",{src:w.image,alt:w.name,className:"w-32 h-32 object-cover"}),t.jsxs("div",{className:"flex-1 p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:w.name}),t.jsx("p",{className:"text-gray-400 text-sm",children:w.type})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ye,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"}),t.jsx("span",{className:"text-white font-medium",children:w.rating}),t.jsx("span",{className:"text-gray-400 ml-2",children:w.priceRange})]})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-3",children:w.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ce,{className:"w-4 h-4"}),w.distance]}),t.jsx("div",{children:w.address})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:w.features.map((k,M)=>t.jsx("span",{className:"bg-white/10 text-gray-300 px-2 py-1 rounded-full text-xs",children:k},M))})]})]})},w.id))}),d&&t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"backdrop-blur-xl bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Be,{className:"w-6 h-6 text-pink-400"}),"Perfect Choice!"]}),t.jsxs("p",{className:"text-gray-300 mb-4",children:["This Friday at 7PM at ",d.name,"? We'll notify ",y.name," about your date suggestion!"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2",children:[t.jsx(Be,{className:"w-5 h-5"}),"Confirm Date"]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white/10 border border-white/20 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2",children:[t.jsx(Ta,{className:"w-5 h-5"}),"View on Map"]})]})]})]}):t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"What kind of date?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(w=>t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(w.value),className:`p-4 rounded-xl border-2 transition-all text-left ${n===w.value?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-2xl mb-2",children:w.emoji}),t.jsx("div",{className:"font-medium",children:w.label})]},w.value))})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Ce,{className:"w-6 h-6"}),"Location Details"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Zip Code"}),t.jsx("input",{type:"text",value:e,onChange:w=>s(w.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",placeholder:"Enter your zip code",maxLength:5})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[y.name,"'s Zip Code"]}),t.jsx("input",{type:"text",value:a,onChange:w=>r(w.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",placeholder:"Enter their zip code",maxLength:5})]})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,disabled:!e||!a||!n||i,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:i?t.jsxs(t.Fragment,{children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Finding Perfect Spots..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ce,{className:"w-5 h-5"}),"Find Date Locations"]})})]})]})}):(x("/"),null)},jo=()=>{const[e,s]=b.useState(0),[a,r]=b.useState({}),[n,o]=b.useState([]),i=K(),{dispatch:l,state:u}=ie();b.useEffect(()=>{const p=Object.keys(u.compatibilityAnswers),N=Ee("all",5,p);o(N)},[u.compatibilityAnswers]);const c=(p,N)=>{r(j=>({...j,[p]:N}))},d=()=>{if(e<n.length-1)s(p=>p+1);else{const p={...u.compatibilityAnswers,...a};l({type:"SET_COMPATIBILITY_ANSWERS",payload:p}),i("/ai-matching")}},f=()=>{e>0&&s(p=>p-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full"})});const x=(e+1)/n.length*100,h=n[e],y=a[h.id],v=()=>{var p,N,j;switch(h.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(p=h.options)==null?void 0:p.map((w,k)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},onClick:()=>c(h.id,w.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${y===w.value?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400 hover:bg-blue-400/10"}`,children:[w.emoji&&t.jsx("span",{className:"text-2xl",children:w.emoji}),t.jsx("span",{className:"font-medium",children:w.label})]},w.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(N=h.labels)==null?void 0:N[0]}),t.jsx("span",{children:(j=h.labels)==null?void 0:j[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:h.min,max:h.max,value:y||h.min,onChange:w=>c(h.id,parseInt(w.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${((y||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) ${((y||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:h.max-h.min+1},(w,k)=>t.jsx("span",{className:"text-xs text-gray-500",children:h.min+k},k))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-blue-400",children:y||h.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>c(h.id,!0),className:`p-6 rounded-xl border-2 transition-all ${y===!0?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>c(h.id,!1),className:`p-6 rounded-xl border-2 transition-all ${y===!1?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full mb-4",children:t.jsx(Ra,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Let's find you better matches"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"A few more questions to improve your compatibility "}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${x}%`},className:"bg-gradient-to-r from-blue-500 to-cyan-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[h.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:h.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:h.question}),h.weight>=8&&t.jsx("div",{className:"inline-flex items-center gap-1 bg-yellow-500/20 border border-yellow-500/30 rounded-full px-3 py-1 mb-4",children:t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"High Impact Question"})})]}),v()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(be,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:y==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Find Better Matches":"Next",t.jsx(Lt,{className:"w-5 h-5"})]})]})]})})},vo=()=>{var x,h;const[e,s]=b.useState(""),[a,r]=b.useState(!1),[n,o]=b.useState(!1),i=K(),{state:l}=ie(),u=`SOUL${(h=(x=l.user)==null?void 0:x.id)==null?void 0:h.slice(-6).toUpperCase()}`,c=`https://soulsync.ai/join?ref=${u}`,d=()=>{navigator.clipboard.writeText(c),r(!0),setTimeout(()=>r(!1),2e3)},f=y=>{y.preventDefault(),e&&(o(!0),s(""),setTimeout(()=>o(!1),3e3))};return t.jsx("div",{className:"min-h-screen p-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(be,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Refer Friends"}),t.jsx("p",{className:"text-gray-300",children:"Share the love, earn rewards"})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-xl bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-2xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ss,{className:"w-8 h-8 text-pink-400"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Earn $5 for Each Friend"}),t.jsx("p",{className:"text-gray-300",children:"They get 50% off, you get rewarded"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-pink-400",children:"$5"}),t.jsx("div",{className:"text-sm text-gray-300",children:"Per successful referral"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"50%"}),t.jsx("div",{className:"text-sm text-gray-300",children:"Friend's discount"})]})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(ce,{className:"w-5 h-5"}),"Your Referral Code"]}),t.jsx("div",{className:"bg-white/5 border border-white/20 rounded-xl p-4 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-2xl font-mono font-bold text-pink-400",children:u}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"flex items-center gap-2 bg-pink-500/20 border border-pink-500/30 text-pink-300 px-3 py-2 rounded-lg text-sm",children:[a?t.jsx(kt,{className:"w-4 h-4"}):t.jsx(Ia,{className:"w-4 h-4"}),a?"Copied!":"Copy"]})]})}),t.jsx("div",{className:"bg-white/5 border border-white/20 rounded-xl p-3",children:t.jsx("p",{className:"text-gray-300 text-sm break-all",children:c})})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx($t,{className:"w-5 h-5"}),"Send Personal Invite"]}),t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsx("input",{type:"email",value:e,onChange:y=>s(y.target.value),placeholder:"Friend's email address",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",required:!0}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:!e||n,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:n?"Invite Sent! ":"Send Invite"})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(As,{className:"w-5 h-5"}),"Share on Social"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.open(`https://twitter.com/intent/tweet?text=Just found my perfect match on SoulSync!  Join me with my referral code: ${u}&url=${c}`,"_blank"),className:"bg-blue-500/20 border border-blue-500/30 text-blue-300 py-3 px-4 rounded-xl font-medium hover:bg-blue-500/30 transition-all",children:"Share on Twitter"}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=${c}`,"_blank"),className:"bg-blue-600/20 border border-blue-600/30 text-blue-300 py-3 px-4 rounded-xl font-medium hover:bg-blue-600/30 transition-all",children:"Share on Facebook"})]})]})]})})},No=()=>{const[e,s]=b.useState("analytics"),[a,r]=b.useState({totalUsers:0,activeMatches:0,successRate:0,revenue:0});b.useEffect(()=>{const i=setInterval(()=>{r(l=>({totalUsers:Math.min(l.totalUsers+Math.floor(Math.random()*3),19247),activeMatches:Math.min(l.activeMatches+Math.floor(Math.random()*2),8934),successRate:Math.min(l.successRate+.1,94.7),revenue:Math.min(l.revenue+Math.floor(Math.random()*50),127450)}))},2e3);return()=>clearInterval(i)},[]);const n={analytics:{title:"Behavioral Analytics & ML Pipeline",icon:Kt,items:[{title:"User Interaction Tracking",description:"Track swipes, message response rates, and conversation quality to improve matching algorithms",icon:qe,status:"active"},{title:"Machine Learning Pipeline",description:"Continuous learning from successful matches to refine compatibility scoring",icon:$e,status:"active"},{title:"A/B Testing Framework",description:"Test question variations, UI optimizations, and matching algorithms",icon:gt,status:"development"},{title:"Retention Analytics",description:"Track daily/monthly active users and match success rates",icon:ce,status:"active"}]},security:{title:"Security & Trust Features",icon:et,items:[{title:"Identity Verification",description:"Phone/email verification and AI-powered photo authentication",icon:Pt,status:"active"},{title:"Privacy Controls",description:"Granular privacy settings with end-to-end encryption",icon:Te,status:"active"},{title:"Safety Features",description:"Block/report functionality, background checks, emergency contacts",icon:et,status:"development"},{title:"GDPR Compliance",description:"Full compliance with GDPR, CCPA for global market expansion",icon:Pt,status:"active"}]},engagement:{title:"Engagement & Growth",icon:Fe,items:[{title:"Push Notifications",description:"Smart notifications for new matches, messages, and engagement",icon:Fe,status:"development"},{title:"Gamification",description:"Daily match limits, streak rewards, and achievement systems",icon:ye,status:"active"},{title:"Viral Mechanics",description:"Referral tracking, social proof, and viral sharing features",icon:ce,status:"active"},{title:"Conversion Funnels",description:"Track user journey and optimize drop-off points",icon:gt,status:"active"}]},monetization:{title:"Revenue Streams",icon:Xe,items:[{title:"Freemium Model",description:"Basic matching free, premium AI insights and features paid",icon:z,status:"active"},{title:"Subscription Tiers",description:"Multiple levels: Basic ($10), Premium ($25), Elite ($50)",icon:ye,status:"active"},{title:"Transaction Fees",description:"Commission on successful date bookings and experiences",icon:Xe,status:"development"},{title:"Partnership Revenue",description:"Restaurant/venue partnerships, experience packages",icon:ce,status:"development"}]}},o=[{id:"analytics",label:"Analytics & ML",icon:Kt},{id:"security",label:"Security & Trust",icon:et},{id:"engagement",label:"Engagement",icon:Fe},{id:"monetization",label:"Revenue",icon:Xe}];return t.jsx("div",{className:"min-h-screen p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"SoulSync Production Dashboard"}),t.jsx("p",{className:"text-gray-300 text-lg",children:"AI-Powered Dating Platform - Production Ready Features"})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(ce,{className:"w-6 h-6 text-blue-400"}),t.jsx("span",{className:"text-gray-300",children:"Total Users"})]}),t.jsx("div",{className:"text-3xl font-bold text-white",children:a.totalUsers.toLocaleString()}),t.jsx("div",{className:"text-green-400 text-sm",children:"+12% this month"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(z,{className:"w-6 h-6 text-pink-400"}),t.jsx("span",{className:"text-gray-300",children:"Active Matches"})]}),t.jsx("div",{className:"text-3xl font-bold text-white",children:a.activeMatches.toLocaleString()}),t.jsx("div",{className:"text-green-400 text-sm",children:"+8% this week"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(gt,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{className:"text-gray-300",children:"Success Rate"})]}),t.jsxs("div",{className:"text-3xl font-bold text-white",children:[a.successRate.toFixed(1),"%"]}),t.jsx("div",{className:"text-green-400 text-sm",children:"Industry leading"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Xe,{className:"w-6 h-6 text-yellow-400"}),t.jsx("span",{className:"text-gray-300",children:"Monthly Revenue"})]}),t.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",a.revenue.toLocaleString()]}),t.jsx("div",{className:"text-green-400 text-sm",children:"+24% growth"})]})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl overflow-hidden",children:[t.jsx("div",{className:"flex border-b border-white/10",children:o.map(i=>{const l=i.icon;return t.jsxs("button",{onClick:()=>s(i.id),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 transition-all ${e===i.id?"bg-gradient-to-r from-pink-500/20 to-purple-500/20 text-white border-b-2 border-pink-500":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[t.jsx(l,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:i.label})]},i.id)})}),t.jsx("div",{className:"p-8",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[fe.createElement(n[e].icon,{className:"w-8 h-8 text-pink-400"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:n[e].title})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n[e].items.map((i,l)=>t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-white/5 border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-xl",children:fe.createElement(i.icon,{className:"w-6 h-6 text-pink-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:i.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:i.status==="active"?"Live":"In Development"})]}),t.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:i.description})]})]})},i.title))})]},e)})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 backdrop-blur-xl bg-gradient-to-r from-pink-500/10 to-purple-500/10 border border-pink-500/20 rounded-2xl p-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx($e,{className:"w-8 h-8 text-purple-400"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:"AI Matching Insights"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"19M+"}),t.jsx("div",{className:"text-gray-300",children:"Compatibility Vectors"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:"94.7%"}),t.jsx("div",{className:"text-gray-300",children:"Match Accuracy"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"2.3s"}),t.jsx("div",{className:"text-gray-300",children:"Average Match Time"})]})]})]})]})})},So=()=>{const[e,s]=b.useState(""),[a,r]=b.useState(""),[n,o]=b.useState(!1),[i,l]=b.useState(!1),u=K(),{signIn:c}=Ae(),d=async f=>{var x,h,y,v;f.preventDefault(),l(!0);try{await c({email:e,password:a}),L.success("Login successful!"),u("/app")}catch(p){(h=(x=p.response)==null?void 0:x.data)!=null&&h.errors?p.response.data.errors.forEach(N=>L.error(N.msg)):(v=(y=p.response)==null?void 0:y.data)!=null&&v.message?L.error(p.response.data.message):L.error("An unexpected error occurred")}finally{l(!1)}};return t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 right-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 left-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 right-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:t.jsxs(Se,{to:"/",className:"inline-flex items-center gap-2 text-warm-600 hover:text-warm-800 transition-colors",children:[t.jsx(be,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to home"})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(z,{className:"w-10 h-10 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-4xl font-friendly font-bold text-warm-800 mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-warm-600",children:"Sign in to continue your journey"})]}),t.jsxs(m.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onSubmit:d,className:"friendly-card p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-warm-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx($t,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none"}),t.jsx("input",{id:"email",type:"email",value:e,onChange:f=>s(f.target.value),required:!0,className:"friendly-input w-full pl-12 pr-4",placeholder:"Enter your email",style:{paddingLeft:44}})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-warm-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none"}),t.jsx("input",{id:"password",type:n?"text":"password",value:a,onChange:f=>r(f.target.value),required:!0,className:"friendly-input w-full pl-12 pr-12",placeholder:"Enter your password",style:{paddingLeft:44,paddingRight:44}}),t.jsx("button",{type:"button",onClick:()=>o(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors",tabIndex:-1,"aria-label":n?"Hide password":"Show password",children:n?t.jsx(At,{className:"w-5 h-5"}):t.jsx(qe,{className:"w-5 h-5"})})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"friendly-button w-full font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:i?t.jsx("span",{className:"loading-dots",children:"Signing In"}):"Sign In"})]}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center space-y-4",children:[t.jsx(Se,{to:"/forgot-password",className:"text-sm text-warm-500 hover:text-coral-500 transition-colors",children:"Forgot your password?"}),t.jsxs("div",{className:"text-warm-600",children:["Don't have an account?"," ",t.jsx(Se,{to:"/register",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign up"})]})]})]})]})},ko=({photos:e,onPhotosUpdate:s,maxPhotos:a=6,minPhotos:r=2,className:n="",isRequired:o=!0,showError:i=!1,errorMessage:l=`Please upload at least ${r} photos`})=>{const[u,c]=b.useState(!1),[d,f]=b.useState(null),[x,h]=b.useState(""),[y,v]=b.useState(0),p=b.useRef(null),N=10*1024*1024,j=5*1024*1024,w=2048,k=E=>o&&E.length<r?(h(`At least ${r} photos are required`),!1):(h(""),!0),M=E=>{if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(E.type))return"Only JPEG, PNG, and WebP images are allowed";if(E.size>N)return`File size (${(E.size/1048576).toFixed(1)}MB) exceeds 10MB limit. Please compress your image or choose a smaller one.`;if(E.size>j){const F=(E.size/1048576).toFixed(1);console.warn(`Large file detected: ${F}MB. Consider compressing for faster upload.`)}return null},S=E=>new Promise(_=>{const F=document.createElement("canvas"),B=F.getContext("2d"),ee=new Image;ee.onload=()=>{let{width:X,height:Z}=ee;X>Z?X>w&&(Z=Z*w/X,X=w):Z>w&&(X=X*w/Z,Z=w),F.width=X,F.height=Z,B==null||B.drawImage(ee,0,0,X,Z),F.toBlob(ue=>{if(ue){const Ye=new File([ue],E.name,{type:E.type,lastModified:Date.now()});_(Ye)}else _(E)},E.type,.8)},ee.src=URL.createObjectURL(E)}),P=async E=>{if(E.length===0)return;const _=a-e.length;if(E.length>_){L.error(`Can only add ${_} more photos (max ${a})`);return}c(!0),v(0);try{const F=Array.from(E);let B=[];for(let H=0;H<F.length;H++){const oe=F[H];v(H/F.length*30);const Me=M(oe);if(Me){L.error(`${oe.name}: ${Me}`),c(!1),v(0);return}if(oe.size>j){L.info(`Compressing ${oe.name} for optimal upload...`);const Ke=await S(oe);B.push(Ke)}else B.push(oe)}v(40);let ee=0;const X=B.map(async(H,oe)=>{var Ke,Wt,Vt,Jt,Qt;const Me=new FormData;Me.append("image",H);try{console.log(`Starting upload ${oe+1}/${B.length}:`,H.name);const te=await xs.uploadSingle(Me,ae=>{const ja=40+oe/B.length*60,va=ae/100*(60/B.length);v(ja+va)});if(te.data.success){const ae=[...e,te.data.data.imageUrl];return s(ae),k(ae),ee++,console.log(`Upload ${oe+1} successful:`,te.data.data.imageUrl),{success:!0,file:H.name,url:te.data.data.imageUrl}}else throw new Error(te.data.message||"Upload failed")}catch(te){console.error(`Upload error for file ${H.name}:`,te);let ae=`Failed to upload ${H.name}.`;return((Ke=te.response)==null?void 0:Ke.status)===413?ae=`${H.name} is too large. Please compress it to under 5MB.`:((Wt=te.response)==null?void 0:Wt.status)===401?ae="Authentication failed. Please log in again.":((Vt=te.response)==null?void 0:Vt.status)===500?ae=`Server error uploading ${H.name}. Please try again.`:(Qt=(Jt=te.response)==null?void 0:Jt.data)!=null&&Qt.message&&(ae=`${H.name}: ${te.response.data.message}`),L.error(ae,{duration:6e3}),{success:!1,file:H.name,error:ae}}}),Z=await Promise.allSettled(X),ue=Z.filter(H=>H.status==="fulfilled"&&H.value.success).length,Ye=Z.length-ue;ue>0&&L.success(ue===1?"Successfully uploaded 1 photo!":`Successfully uploaded ${ue} photo(s)!`,{duration:4e3}),Ye>0&&console.warn(`${Ye} upload(s) failed out of ${Z.length}`)}catch(F){console.error("File processing error:",F),L.error("Failed to process images. Please try again.")}finally{c(!1),v(0)}},R=E=>{E.target.files&&P(E.target.files)},I=E=>{E.preventDefault(),E.stopPropagation();const _=E.dataTransfer.files;_.length>0&&P(_)},C=E=>{E.preventDefault(),E.stopPropagation()},O=async(E,_)=>{var F,B;try{const ee=await xs.deletePhoto({imageUrl:E});if(ee.data.success){const X=e.filter((Z,ue)=>ue!==_);s(X),k(X),L.success("Photo deleted successfully")}else L.error(ee.data.message||"Failed to delete photo")}catch(ee){console.error("Delete error:",ee),L.error(((B=(F=ee.response)==null?void 0:F.data)==null?void 0:B.message)||"Failed to delete photo")}},W=e.length>=r,D=(i||x)&&!W;return t.jsxs("div",{className:`space-y-4 ${n}`,children:[t.jsxs("div",{onDrop:I,onDragOver:C,onClick:()=>{var E;return!u&&e.length<a&&((E=p.current)==null?void 0:E.click())},className:`border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all ${D?"border-red-300 bg-red-50 hover:border-red-400":e.length>=a?"border-gray-300 bg-gray-50 cursor-not-allowed":u?"border-blue-300 bg-blue-50":"border-warm-300 hover:border-coral-400 hover:bg-coral-50"}`,children:[t.jsx("input",{ref:p,type:"file",multiple:!0,accept:"image/*",onChange:R,className:"hidden",disabled:u||e.length>=a}),u?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Oa,{className:"w-8 h-8 text-blue-500 animate-spin"}),t.jsx("p",{className:"text-warm-600",children:"Processing images..."}),t.jsx("div",{className:"w-full max-w-xs bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${y}%`}})}),t.jsxs("p",{className:"text-xs text-warm-500",children:[Math.round(y),"% complete"]})]}):e.length>=a?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Ue,{className:"w-8 h-8 text-orange-500"}),t.jsxs("p",{className:"text-warm-600",children:["Maximum ",a," photos reached"]}),t.jsx("p",{className:"text-sm text-warm-500",children:"Delete a photo to add new ones"})]}):t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Ma,{className:`w-8 h-8 ${D?"text-red-500":"text-coral-500"}`}),t.jsxs("div",{children:[t.jsx("p",{className:`font-medium ${D?"text-red-700":"text-warm-700"}`,children:"Drop photos here or click to upload"}),t.jsxs("p",{className:`text-sm ${D?"text-red-600":"text-warm-500"}`,children:[e.length,"/",a," photos  Minimum ",r," required"]})]}),t.jsxs("div",{className:"bg-warm-100 rounded-lg p-3 mt-2",children:[t.jsx("p",{className:"text-xs text-warm-600 font-medium mb-1",children:" Photo Tips:"}),t.jsxs("ul",{className:"text-xs text-warm-600 space-y-1",children:[t.jsx("li",{children:" Maximum 10MB per photo"}),t.jsx("li",{children:" JPEG, PNG, or WebP formats"}),t.jsx("li",{children:" High quality photos get more matches!"}),t.jsx("li",{children:" We'll automatically optimize large photos"})]})]})]})]}),e.length>0&&t.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((E,_)=>t.jsxs("div",{className:"relative group border rounded-lg overflow-hidden shadow-sm",children:[t.jsx("img",{src:E,alt:`Photo ${_+1}`,className:"w-full h-48 object-cover transition-transform duration-200 group-hover:scale-105"}),t.jsx("button",{type:"button",onClick:()=>O(E,_),className:"absolute top-2 right-2 bg-white bg-opacity-80 rounded-full p-1 shadow hover:bg-red-100",title:"Delete photo",children:t.jsx(nt,{className:"w-5 h-5 text-red-500"})})]},E))}),D&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"w-5 h-5 text-red-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-red-600 text-sm font-medium",children:x||l}),t.jsxs("p",{className:"text-red-500 text-xs mt-1",children:["Add at least ",r-e.length," more photo(s) to continue"]})]})]})}),W&&e.length>=r&&t.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-center gap-2",children:[t.jsx(Pt,{className:"w-4 h-4 text-green-500"}),t.jsxs("p",{className:"text-green-600 text-sm",children:["Perfect! You've added ",e.length," photo",e.length>1?"s":""]})]}),e.length>0&&t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.jsx(ge,{children:e.map((E,_)=>t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative group aspect-square rounded-xl overflow-hidden bg-warm-100 border-2 border-transparent hover:border-coral-300 transition-all",children:[t.jsx("img",{src:E,alt:`Photo ${_+1}`,className:"w-full h-full object-cover",loading:"lazy"}),t.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:_+1}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx("button",{onClick:F=>{F.stopPropagation(),O(E,_)},className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:t.jsx(nt,{className:"w-4 h-4"})}),t.jsx("div",{className:"p-2 bg-white/20 text-white rounded-full cursor-move",children:t.jsx(_a,{className:"w-4 h-4"})})]}),_===0&&t.jsx("div",{className:"absolute bottom-2 left-2 bg-coral-500 text-white text-xs px-2 py-1 rounded-full",children:"Primary"})]},E))})}),e.length>0&&t.jsx("div",{className:"bg-peach-50 border border-peach-200 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-warm-600",children:[t.jsx(Da,{className:"w-4 h-4 inline mr-1"}),"Drag photos to reorder. Your first photo will be your main profile picture."]})})]})},Eo=()=>{var I;const[e,s]=b.useState({name:"",email:"",password:"",confirmPassword:"",age:"",bio:"",location:"",interests:""}),[a,r]=b.useState([]),[n,o]=b.useState({}),[i,l]=b.useState(""),[u,c]=b.useState(!1),[d,f]=b.useState(!1),[x,h]=b.useState(!1),[y,v]=b.useState(!1),p=K(),{signUp:N}=Ae(),j=(C,O)=>{switch(C){case"name":return O.trim().length<2?"Name must be at least 2 characters":O.trim().length>50?"Name must be less than 50 characters":"";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O)?"":"Please enter a valid email address";case"password":return O.length<6?"Password must be at least 6 characters":O.length>100?"Password is too long":"";case"confirmPassword":return O!==e.password?"Passwords do not match":"";case"age":const D=parseInt(O);return isNaN(D)?"Please enter a valid age":D<18?"You must be at least 18 years old":D>100?"Please enter a valid age":"";default:return""}},w=C=>{const{name:O,value:W}=C.target;if(s(D=>({...D,[O]:W})),n[O]){const D=j(O,W);o(E=>({...E,[O]:D}))}},k=C=>{const{name:O,value:W}=C.target,D=j(O,W);o(E=>({...E,[O]:D}))},M=()=>{const C={};return C.name=j("name",e.name),C.email=j("email",e.email),C.password=j("password",e.password),C.confirmPassword=j("confirmPassword",e.confirmPassword),C.age=j("age",e.age),a.length<2?(l("Please upload at least 2 photos to create your profile"),c(!0),C.general="Please complete all required fields including photos"):(l(""),c(!1)),o(C),!Object.values(C).some(O=>O)&&a.length>=2},S=()=>{var O,W,D;const C={name:e.name.trim(),email:e.email.trim().toLowerCase(),password:e.password,age:parseInt(e.age)};return(O=e.bio)!=null&&O.trim()&&(C.bio=e.bio.trim()),(W=e.location)!=null&&W.trim()&&(C.location=e.location.trim()),(D=e.interests)!=null&&D.trim()&&(C.interests=e.interests.split(",").map(E=>E.trim()).filter(E=>E.length>0)),a.length>0&&(C.photos=a),C},P=async C=>{var O,W,D,E;if(C.preventDefault(),!M()){L.error("Please fix the errors in the form");return}v(!0);try{const _=S();console.log("Sending signup payload:",_),await N(_),L.success("Account created successfully! Please check your email to verify your account."),p("/login")}catch(_){if(console.error("Signup error:",_),(W=(O=_.response)==null?void 0:O.data)!=null&&W.errors){const F={};_.response.data.errors.forEach(B=>{B.path&&(F[B.path]=B.msg)}),o(B=>({...B,...F}))}else(E=(D=_.response)==null?void 0:D.data)!=null&&E.message?_.response.data.message.includes("email already exists")?o(F=>({...F,email:"This email is already registered"})):o(F=>({...F,general:_.response.data.message})):o(F=>({...F,general:"An unexpected error occurred. Please try again."}))}finally{v(!1)}},R=()=>e.name.trim().length>=2&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&e.password.length>=6&&e.password===e.confirmPassword&&parseInt(e.age)>=18&&a.length>=2&&!Object.values(n).some(C=>C);return t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-lavender-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"0.5s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl relative z-10",children:[t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:t.jsxs(Se,{to:"/",className:"inline-flex items-center gap-2 text-warm-600 hover:text-warm-800 transition-colors",children:[t.jsx(be,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to home"})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(z,{className:"w-10 h-10 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-4xl font-friendly font-bold text-warm-800 mb-2",children:"Join SoulSync"}),t.jsx("p",{className:"text-warm-600",children:"Start your journey to find true connection"})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"friendly-card p-8 space-y-8",children:[n.general&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-red-600 text-sm",children:n.general})}),t.jsxs("form",{onSubmit:P,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:"Required Information"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-warm-700",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:w,onBlur:k,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.name?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your full name",autoComplete:"name"})]}),n.name&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.name})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-warm-700",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx($t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:w,onBlur:k,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.email?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your email address",autoComplete:"email"})]}),n.email&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.email})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"age",className:"block text-sm font-medium text-warm-700",children:["Age ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"age",name:"age",type:"number",min:18,max:100,value:e.age,onChange:w,onBlur:k,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.age?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your age",autoComplete:"age"})]}),n.age&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.age})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-warm-700",children:["Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"password",name:"password",type:d?"text":"password",value:e.password,onChange:w,onBlur:k,required:!0,className:`friendly-input w-full pl-10 pr-12 py-3 ${n.password?"border-red-300 focus:border-red-500":""}`,placeholder:"Create a secure password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors z-10",children:d?t.jsx(At,{className:"w-5 h-5"}):t.jsx(qe,{className:"w-5 h-5"})})]}),n.password&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.password})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-warm-700",children:["Confirm Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",value:e.confirmPassword,onChange:w,onBlur:k,required:!0,className:`friendly-input w-full pl-10 pr-12 py-3 ${n.confirmPassword?"border-red-300 focus:border-red-500":""}`,placeholder:"Confirm your password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>h(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors z-10",children:x?t.jsx(At,{className:"w-5 h-5"}):t.jsx(qe,{className:"w-5 h-5"})})]}),n.confirmPassword&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.confirmPassword})]})]}),t.jsxs("div",{className:"border-t border-peach-200 pt-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:["Profile Photos ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("p",{className:"text-sm text-warm-600 mb-4",children:"Add at least 2 photos to make your profile stand out and attract meaningful connections"}),t.jsx(ko,{photos:a,onPhotosUpdate:r,maxPhotos:6,minPhotos:2,isRequired:!0,showError:u,errorMessage:i})]}),t.jsxs("div",{className:"border-t border-peach-200 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:"Optional Profile Details"}),t.jsx("p",{className:"text-sm text-warm-600 mb-4",children:"Help others get to know you better"}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-warm-700",children:"Tell us about yourself"}),t.jsx("textarea",{id:"bio",name:"bio",value:e.bio,onChange:w,className:"friendly-input w-full p-3 resize-none",rows:3,maxLength:500,placeholder:"Share something about your personality, hobbies, or what you're looking for..."}),t.jsxs("p",{className:"text-xs text-warm-500",children:[((I=e.bio)==null?void 0:I.length)||0,"/500 characters"]})]}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-warm-700",children:"Where are you based?"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"location",name:"location",type:"text",value:e.location,onChange:w,className:"friendly-input w-full pl-10 pr-4 py-3",maxLength:100,placeholder:"e.g., San Francisco, CA"})]})]}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"interests",className:"block text-sm font-medium text-warm-700",children:"Your interests"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"interests",name:"interests",type:"text",value:e.interests,onChange:w,className:"friendly-input w-full pl-10 pr-4 py-3",placeholder:"hiking, music, cooking, travel"})]}),t.jsx("p",{className:"text-xs text-warm-500",children:"Separate interests with commas"})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:y||!R(),className:"friendly-button w-full font-semibold disabled:opacity-50 disabled:cursor-not-allowed py-4",children:y?t.jsx("span",{className:"loading-dots",children:"Creating Account"}):"Create Account"}),!R()&&t.jsx("p",{className:"text-sm text-warm-500 text-center",children:"Please fill in all required fields correctly and upload at least 2 photos"})]})]}),t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center",children:t.jsxs("div",{className:"text-warm-600",children:["Already have an account?"," ",t.jsx(Se,{to:"/login",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign in"})]})})]})]})};class De{static async callOpenAI(s){try{const a=await A.post("/ai/analyze-compatibility",{prompt:s});return JSON.stringify(a.data)}catch(a){return console.error("AI analysis request failed:",a),JSON.stringify({score:7,reasoning:"AI analysis temporarily unavailable. This is a fallback response.",conversation_starters:["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]})}}static async findMatches(s,a=10){try{const r=await A.get(`/matches/candidates?userId=${s}&limit=${a}`),{currentUser:n,candidates:o}=r.data;if(!o||o.length===0)return[];const i=o.map(async u=>{const c=this.createAnalysisPrompt(n,u),d=await this.callOpenAI(c),f=this.parseAIResponse(d);return{candidate:u,compatibility_score:f.score,reasoning:f.reasoning,conversation_starters:f.conversation_starters}});return(await Promise.all(i)).sort((u,c)=>c.compatibility_score-u.compatibility_score)}catch(r){throw console.error("Error finding matches:",r),r}}static createAnalysisPrompt(s,a){return`
Analyze the compatibility between these two people:

Person 1 (${s.name}, ${s.age}):
- Bio: ${s.bio}
- Interests: ${s.interests.join(", ")}
- Personality: ${JSON.stringify(s.personality_answers)}
- Compatibility preferences: ${JSON.stringify(s.compatibility_answers)}

Person 2 (${a.name}, ${a.age}):
- Bio: ${a.bio}
- Interests: ${a.interests.join(", ")}
- Personality: ${JSON.stringify(a.personality_answers)}
- Compatibility preferences: ${JSON.stringify(a.compatibility_answers)}

Please provide:
1. A compatibility score from 1-10
2. Detailed reasoning for the score
3. 3 conversation starters they could use

Format your response as JSON:
{
  "score": 8.5,
  "reasoning": "Detailed explanation...",
  "conversation_starters": ["Starter 1", "Starter 2", "Starter 3"]
}
    `}static parseAIResponse(s){try{const a=s.match(/\{[\s\S]*\}/);if(a){const r=JSON.parse(a[0]);return{score:Math.min(10,Math.max(1,r.score||5)),reasoning:r.reasoning||"Compatibility analysis completed.",conversation_starters:r.conversation_starters||["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]}}}catch(a){console.error("Error parsing AI response:",a)}return{score:7,reasoning:"AI analysis completed successfully.",conversation_starters:["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]}}static async saveMatch(s,a,r){try{await A.post("/matches",{userId:s,matchedUserId:a,compatibilityScore:r})}catch(n){throw console.error("Error saving match:",n),n}}static async updateMatchStatus(s,a){try{await A.put(`/matches/${s}`,{status:a})}catch(r){throw console.error("Error updating match status:",r),r}}}const Po=()=>{const[e,s]=b.useState("discover"),[a,r]=b.useState([]),[n,o]=b.useState(!1),[i,l]=b.useState(0),u=K(),{user:c,profile:d,signOut:f}=Ae();b.useEffect(()=>{if(!c){u("/login");return}e==="discover"&&x()},[c,e,u]);const x=async()=>{if(c){o(!0);try{const N=await De.findMatches(c.id,10);r(N.map(j=>({id:j.candidate.id,name:j.candidate.name,age:j.candidate.age,bio:j.candidate.bio,interests:j.candidate.interests,photos:j.candidate.photos,compatibility_score:j.compatibility_score,reasoning:j.reasoning,conversation_starters:j.conversation_starters})))}catch(N){console.error("Error loading matches:",N)}finally{o(!1)}}},h=async N=>{if(c)try{await De.saveMatch(c.id,N.id,N.compatibility_score),await De.updateMatchStatus(N.id,"accepted"),l(j=>j+1),u("/chat",{state:{match:N}})}catch(j){console.error("Error accepting match:",j)}},y=async N=>{if(c)try{await De.saveMatch(c.id,N.id,N.compatibility_score),await De.updateMatchStatus(N.id,"rejected"),l(j=>j+1)}catch(j){console.error("Error rejecting match:",j)}},v=async()=>{await f(),u("/")},p=a[i];return!c||!d?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[t.jsx("header",{className:"bg-white/10 backdrop-blur-lg border-b border-white/20",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(z,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"SoulSync"})]}),t.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[t.jsxs("button",{onClick:()=>s("discover"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="discover"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(La,{className:"w-5 h-5"}),t.jsx("span",{children:"Discover"})]}),t.jsxs("button",{onClick:()=>s("matches"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="matches"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(ce,{className:"w-5 h-5"}),t.jsx("span",{children:"Matches"})]}),t.jsxs("button",{onClick:()=>s("messages"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="messages"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(As,{className:"w-5 h-5"}),t.jsx("span",{children:"Messages"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"relative p-2 text-gray-300 hover:text-white",children:[t.jsx(ks,{className:"w-6 h-6"}),t.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-white/10",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(je,{className:"w-4 h-4 text-white"})}),t.jsx("span",{className:"text-white hidden md:block",children:d.name})]}),t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:t.jsxs("div",{className:"py-2",children:[t.jsxs("button",{onClick:()=>u("/profile"),className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-300 hover:text-white hover:bg-white/10",children:[t.jsx(je,{className:"w-4 h-4"}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:()=>u("/settings"),className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-300 hover:text-white hover:bg-white/10",children:[t.jsx(Es,{className:"w-4 h-4"}),t.jsx("span",{children:"Settings"})]}),t.jsxs("button",{onClick:v,className:"w-full flex items-center space-x-2 px-4 py-2 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[t.jsx(Ps,{className:"w-4 h-4"}),t.jsx("span",{children:"Sign Out"})]})]})})]})]})]})})}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[e==="discover"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(je,{className:"w-8 h-8 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:d.name}),t.jsxs("p",{className:"text-gray-400",children:[d.age," years old  ",d.location]}),t.jsx("p",{className:"text-gray-300 mt-2",children:d.bio})]})]})}),n?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):p?t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl overflow-hidden",children:[t.jsxs("div",{className:"relative h-96 bg-gradient-to-br from-pink-500/20 to-purple-600/20",children:[p.photos[0]?t.jsx("img",{src:p.photos[0],alt:p.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(je,{className:"w-24 h-24 text-white/50"})}),t.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-lg rounded-full px-3 py-1",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ye,{className:"w-4 h-4 text-yellow-400 fill-current"}),t.jsxs("span",{className:"text-white font-semibold",children:[p.compatibility_score,"/10"]})]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-white",children:[p.name,", ",p.age]}),t.jsx("p",{className:"text-gray-300 mt-2",children:p.bio})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.interests.map((N,j)=>t.jsx("span",{className:"px-3 py-1 bg-pink-500/20 text-pink-300 rounded-full text-sm",children:N},j))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Why you're compatible"}),t.jsx("p",{className:"text-gray-300 text-sm",children:p.reasoning})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Conversation Starters"}),t.jsx("div",{className:"space-y-2",children:p.conversation_starters.map((N,j)=>t.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-gray-300 text-sm",children:['"',N,'"']},j))})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(p),className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Pass"}),t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(p),className:"flex-1 py-3 px-6 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all",children:"Like"})]})]})]},p.id):t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(z,{className:"w-12 h-12 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No more matches"}),t.jsx("p",{className:"text-gray-400",children:"Check back later for new potential matches!"}),t.jsx("button",{onClick:x,className:"mt-4 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all",children:"Refresh"})]})]}),e==="matches"&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Matches"}),t.jsx("p",{className:"text-gray-400",children:"This feature is coming soon!"})]}),e==="messages"&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Messages"}),t.jsx("p",{className:"text-gray-400",children:"This feature is coming soon!"})]})]})]})},re=({children:e})=>{const{user:s,loading:a}=Ae();return a?t.jsx("div",{className:"min-h-screen warm-gradient flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-coral-200 border-t-coral-500 rounded-full animate-spin"}),t.jsx("p",{className:"text-warm-600 font-medium",children:"Loading your experience..."})]})}):s?t.jsx(t.Fragment,{children:e}):t.jsx(Ha,{to:"/login",replace:!0})};function Ao(){const{user:e}=Ae(),{dispatch:s}=ie();return b.useEffect(()=>{s(e?{type:"SET_USER",payload:e}:{type:"SET_USER",payload:null})},[e,s]),t.jsx(Ba,{children:t.jsxs("div",{className:"min-h-screen warm-gradient",children:[t.jsx(ge,{mode:"wait",children:t.jsxs(qa,{children:[t.jsx(J,{path:"/",element:t.jsx($i,{})}),t.jsx(J,{path:"/login",element:t.jsx(So,{})}),t.jsx(J,{path:"/signup",element:t.jsx(Eo,{})}),t.jsx(J,{path:"/dashboard",element:t.jsx(re,{children:t.jsx(Po,{})})}),t.jsx(J,{path:"/personality-quiz",element:t.jsx(re,{children:t.jsx(zi,{})})}),t.jsx(J,{path:"/payment",element:t.jsx(re,{children:t.jsx(po,{})})}),t.jsx(J,{path:"/compatibility-quiz",element:t.jsx(re,{children:t.jsx(ho,{})})}),t.jsx(J,{path:"/ai-matching",element:t.jsx(re,{children:t.jsx(fo,{})})}),t.jsx(J,{path:"/match-reveal",element:t.jsx(re,{children:t.jsx(yo,{})})}),t.jsx(J,{path:"/chat",element:t.jsx(re,{children:t.jsx(bo,{})})}),t.jsx(J,{path:"/date-planner",element:t.jsx(re,{children:t.jsx(wo,{})})}),t.jsx(J,{path:"/additional-questions",element:t.jsx(re,{children:t.jsx(jo,{})})}),t.jsx(J,{path:"/refer-friend",element:t.jsx(re,{children:t.jsx(vo,{})})}),t.jsx(J,{path:"/production-features",element:t.jsx(re,{children:t.jsx(No,{})})})]})}),t.jsx(Rr,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 154, 139, 0.2)",color:"#2d3748",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},success:{iconTheme:{primary:"#22c55e",secondary:"white"}},error:{iconTheme:{primary:"#ef4444",secondary:"white"}}}})]})})}function Co(){return t.jsx(qi,{children:t.jsx(Ao,{})})}Cs(document.getElementById("root")).render(t.jsx(b.StrictMode,{children:t.jsx(Co,{})}));
