import{j as t,m,H as U,B as Te,S as ut,a as le,U as Z,C as ia,b as kt,A as de,c as Et,d as mt,e as pt,L as je,Z as Ae,f as ht,g as Mt,T as _t,h as Re,i as ce,X as Pt,k as oa,I as la,l as Ie,M as we,E as Oe,n as me,G as cs,P as ca,o as ds,p as He,q as us,r as da,s as ms,t as ua,u as ma,v as pa,R as ha,w as fa,x as At,y as ps,z as it,D as Be,F as Dt,J as ft,K as xt,N as xa,O as ya,Q as ga,V as ba}from"./ui-OEZyTZcx.js";import{a as wa,r as w,g as ja,b as ie}from"./vendor-CDaM45aE.js";import{u as V,L as fe,B as va,R as Na,a as q,N as Sa}from"./router-ZldRIXIq.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var hs,Ft=wa;hs=Ft.createRoot,Ft.hydrateRoot;let ka={data:""},Ea=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ka,Pa=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Aa=/\/\*[^]*?\*\/|  +/g,Lt=/\n+/g,ne=(e,s)=>{let a="",r="",n="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":r+=o[1]=="f"?ne(i,o):o+"{"+ne(i,o[1]=="k"?"":s)+"}":typeof i=="object"?r+=ne(i,s?s.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ne.p?ne.p(o,i):o+":"+i+";")}return a+(s&&n?s+"{"+n+"}":n)+r},se={},fs=e=>{if(typeof e=="object"){let s="";for(let a in e)s+=a+fs(e[a]);return s}return e},Ca=(e,s,a,r,n)=>{let o=fs(e),i=se[o]||(se[o]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(o));if(!se[i]){let u=o!==e?e:(c=>{let d,f,x=[{}];for(;d=Pa.exec(c.replace(Aa,""));)d[4]?x.shift():d[3]?(f=d[3].replace(Lt," ").trim(),x.unshift(x[0][f]=x[0][f]||{})):x[0][d[1]]=d[2].replace(Lt," ").trim();return x[0]})(e);se[i]=ne(n?{["@keyframes "+i]:u}:u,a?"":"."+i)}let l=a&&se.g?se.g:null;return a&&(se.g=se[i]),((u,c,d,f)=>{f?c.data=c.data.replace(f,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(se[i],s,r,l),i},Ta=(e,s,a)=>e.reduce((r,n,o)=>{let i=s[o];if(i&&i.call){let l=i(a),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=u?"."+u:l&&typeof l=="object"?l.props?"":ne(l,""):l===!1?"":l}return r+n+(i??"")},"");function Ke(e){let s=this||{},a=e.call?e(s.p):e;return Ca(a.unshift?a.raw?Ta(a,[].slice.call(arguments,1),s.p):a.reduce((r,n)=>Object.assign(r,n&&n.call?n(s.p):n),{}):a,Ea(s.target),s.g,s.o,s.k)}let xs,yt,gt;Ke.bind({g:1});let ae=Ke.bind({k:1});function Ra(e,s,a,r){ne.p=s,xs=e,yt=a,gt=r}function ue(e,s){let a=this||{};return function(){let r=arguments;function n(o,i){let l=Object.assign({},o),u=l.className||n.className;a.p=Object.assign({theme:yt&&yt()},l),a.o=/ *go\d+/.test(u),l.className=Ke.apply(a,r)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),gt&&c[0]&&gt(l),xs(c,l)}return n}}var Ia=e=>typeof e=="function",Qe=(e,s)=>Ia(e)?e(s):e,Oa=(()=>{let e=0;return()=>(++e).toString()})(),ys=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");e=!s||s.matches}return e}})(),Ma=20,Ct="default",gs=(e,s)=>{let{toastLimit:a}=e.settings;switch(s.type){case 0:return{...e,toasts:[s.toast,...e.toasts].slice(0,a)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:r}=s;return gs(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=s;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...e,pausedAt:s.time};case 6:let o=s.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},ze=[],bs={toasts:[],pausedAt:void 0,settings:{toastLimit:Ma}},ee={},ws=(e,s=Ct)=>{ee[s]=gs(ee[s]||bs,e),ze.forEach(([a,r])=>{a===s&&r(ee[s])})},js=e=>Object.keys(ee).forEach(s=>ws(e,s)),_a=e=>Object.keys(ee).find(s=>ee[s].toasts.some(a=>a.id===e)),Xe=(e=Ct)=>s=>{ws(s,e)},Da={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fa=(e={},s=Ct)=>{let[a,r]=w.useState(ee[s]||bs),n=w.useRef(ee[s]);w.useEffect(()=>(n.current!==ee[s]&&r(ee[s]),ze.push([s,r]),()=>{let i=ze.findIndex(([l])=>l===s);i>-1&&ze.splice(i,1)}),[s]);let o=a.toasts.map(i=>{var l,u,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((u=e[i.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||Da[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...a,toasts:o}},La=(e,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Oa()}),De=e=>(s,a)=>{let r=La(s,e,a);return Xe(r.toasterId||_a(r.id))({type:2,toast:r}),r.id},$=(e,s)=>De("blank")(e,s);$.error=De("error");$.success=De("success");$.loading=De("loading");$.custom=De("custom");$.dismiss=(e,s)=>{let a={type:3,toastId:e};s?Xe(s)(a):js(a)};$.dismissAll=e=>$.dismiss(void 0,e);$.remove=(e,s)=>{let a={type:4,toastId:e};s?Xe(s)(a):js(a)};$.removeAll=e=>$.remove(void 0,e);$.promise=(e,s,a)=>{let r=$.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let o=s.success?Qe(s.success,n):void 0;return o?$.success(o,{id:r,...a,...a==null?void 0:a.success}):$.dismiss(r),n}).catch(n=>{let o=s.error?Qe(s.error,n):void 0;o?$.error(o,{id:r,...a,...a==null?void 0:a.error}):$.dismiss(r)}),e};var $a=1e3,Ua=(e,s="default")=>{let{toasts:a,pausedAt:r}=Fa(e,s),n=w.useRef(new Map).current,o=w.useCallback((f,x=$a)=>{if(n.has(f))return;let h=setTimeout(()=>{n.delete(f),i({type:4,toastId:f})},x);n.set(f,h)},[]);w.useEffect(()=>{if(r)return;let f=Date.now(),x=a.map(h=>{if(h.duration===1/0)return;let g=(h.duration||0)+h.pauseDuration-(f-h.createdAt);if(g<0){h.visible&&$.dismiss(h.id);return}return setTimeout(()=>$.dismiss(h.id,s),g)});return()=>{x.forEach(h=>h&&clearTimeout(h))}},[a,r,s]);let i=w.useCallback(Xe(s),[s]),l=w.useCallback(()=>{i({type:5,time:Date.now()})},[i]),u=w.useCallback((f,x)=>{i({type:1,toast:{id:f,height:x}})},[i]),c=w.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),d=w.useCallback((f,x)=>{let{reverseOrder:h=!1,gutter:g=8,defaultPosition:v}=x||{},p=a.filter(b=>(b.position||v)===(f.position||v)&&b.height),N=p.findIndex(b=>b.id===f.id),j=p.filter((b,S)=>S<N&&b.visible).length;return p.filter(b=>b.visible).slice(...h?[j+1]:[0,j]).reduce((b,S)=>b+(S.height||0)+g,0)},[a]);return w.useEffect(()=>{a.forEach(f=>{if(f.dismissed)o(f.id,f.removeDelay);else{let x=n.get(f.id);x&&(clearTimeout(x),n.delete(f.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:d}}},Ba=ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qa=ae`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ha=ae`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,za=ue("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ba} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qa} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ha} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wa=ae`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Va=ue("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Wa} 1s linear infinite;
`,Ja=ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Qa=ae`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ga=ue("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ja} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Qa} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ya=ue("div")`
  position: absolute;
`,Ka=ue("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Xa=ae`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Za=ue("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Xa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,er=({toast:e})=>{let{icon:s,type:a,iconTheme:r}=e;return s!==void 0?typeof s=="string"?w.createElement(Za,null,s):s:a==="blank"?null:w.createElement(Ka,null,w.createElement(Va,{...r}),a!=="loading"&&w.createElement(Ya,null,a==="error"?w.createElement(za,{...r}):w.createElement(Ga,{...r})))},tr=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,sr=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ar="0%{opacity:0;} 100%{opacity:1;}",rr="0%{opacity:1;} 100%{opacity:0;}",nr=ue("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ir=ue("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,or=(e,s)=>{let a=e.includes("top")?1:-1,[r,n]=ys()?[ar,rr]:[tr(a),sr(a)];return{animation:s?`${ae(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ae(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},lr=w.memo(({toast:e,position:s,style:a,children:r})=>{let n=e.height?or(e.position||s||"top-center",e.visible):{opacity:0},o=w.createElement(er,{toast:e}),i=w.createElement(ir,{...e.ariaProps},Qe(e.message,e));return w.createElement(nr,{className:e.className,style:{...n,...a,...e.style}},typeof r=="function"?r({icon:o,message:i}):w.createElement(w.Fragment,null,o,i))});Ra(w.createElement);var cr=({id:e,className:s,style:a,onHeightUpdate:r,children:n})=>{let o=w.useCallback(i=>{if(i){let l=()=>{let u=i.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:o,className:s,style:a},n)},dr=(e,s)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ys()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...r,...n}},ur=Ke`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qe=16,mr=({reverseOrder:e,position:s="top-center",toastOptions:a,gutter:r,children:n,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:u,handlers:c}=Ua(a,o);return w.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:qe,left:qe,right:qe,bottom:qe,pointerEvents:"none",...i},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(d=>{let f=d.position||s,x=c.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:s}),h=dr(f,x);return w.createElement(cr,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?ur:"",style:h},d.type==="custom"?Qe(d.message,d):n?n(d):w.createElement(lr,{toast:d,position:f}))}))},M=$;const pr={},$t=e=>{let s;const a=new Set,r=(d,f)=>{const x=typeof d=="function"?d(s):d;if(!Object.is(x,s)){const h=s;s=f??(typeof x!="object"||x===null)?x:Object.assign({},s,x),a.forEach(g=>g(s,h))}},n=()=>s,u={setState:r,getState:n,getInitialState:()=>c,subscribe:d=>(a.add(d),()=>a.delete(d)),destroy:()=>{(pr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},c=s=e(r,n,u);return u},hr=e=>e?$t(e):$t;var vs={exports:{}},Ns={},Ss={exports:{}},ks={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=w;function fr(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var xr=typeof Object.is=="function"?Object.is:fr,yr=ve.useState,gr=ve.useEffect,br=ve.useLayoutEffect,wr=ve.useDebugValue;function jr(e,s){var a=s(),r=yr({inst:{value:a,getSnapshot:s}}),n=r[0].inst,o=r[1];return br(function(){n.value=a,n.getSnapshot=s,ot(n)&&o({inst:n})},[e,a,s]),gr(function(){return ot(n)&&o({inst:n}),e(function(){ot(n)&&o({inst:n})})},[e]),wr(a),a}function ot(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!xr(e,a)}catch{return!0}}function vr(e,s){return s()}var Nr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vr:jr;ks.useSyncExternalStore=ve.useSyncExternalStore!==void 0?ve.useSyncExternalStore:Nr;Ss.exports=ks;var Sr=Ss.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=w,kr=Sr;function Er(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Pr=typeof Object.is=="function"?Object.is:Er,Ar=kr.useSyncExternalStore,Cr=Ze.useRef,Tr=Ze.useEffect,Rr=Ze.useMemo,Ir=Ze.useDebugValue;Ns.useSyncExternalStoreWithSelector=function(e,s,a,r,n){var o=Cr(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Rr(function(){function u(h){if(!c){if(c=!0,d=h,h=r(h),n!==void 0&&i.hasValue){var g=i.value;if(n(g,h))return f=g}return f=h}if(g=f,Pr(d,h))return g;var v=r(h);return n!==void 0&&n(g,v)?(d=h,g):(d=h,f=v)}var c=!1,d,f,x=a===void 0?null:a;return[function(){return u(s())},x===null?void 0:function(){return u(x())}]},[s,a,r,n]);var l=Ar(e,o[0],o[1]);return Tr(function(){i.hasValue=!0,i.value=l},[l]),Ir(l),l};vs.exports=Ns;var Or=vs.exports;const Mr=ja(Or),Es={},{useDebugValue:_r}=ie,{useSyncExternalStoreWithSelector:Dr}=Mr;let Ut=!1;const Fr=e=>e;function Lr(e,s=Fr,a){(Es?"production":void 0)!=="production"&&a&&!Ut&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ut=!0);const r=Dr(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,a);return _r(r),r}const Bt=e=>{(Es?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?hr(e):e,a=(r,n)=>Lr(s,r,n);return Object.assign(a,s),a},$r=e=>e?Bt(e):Bt;function Ps(e,s){return function(){return e.apply(s,arguments)}}const{toString:Ur}=Object.prototype,{getPrototypeOf:Tt}=Object,{iterator:et,toStringTag:As}=Symbol,tt=(e=>s=>{const a=Ur.call(s);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Y=e=>(e=e.toLowerCase(),s=>tt(s)===e),st=e=>s=>typeof s===e,{isArray:Ne}=Array,Me=st("undefined");function Fe(e){return e!==null&&!Me(e)&&e.constructor!==null&&!Me(e.constructor)&&z(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cs=Y("ArrayBuffer");function Br(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Cs(e.buffer),s}const qr=st("string"),z=st("function"),Ts=st("number"),Le=e=>e!==null&&typeof e=="object",Hr=e=>e===!0||e===!1,We=e=>{if(tt(e)!=="object")return!1;const s=Tt(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(As in e)&&!(et in e)},zr=e=>{if(!Le(e)||Fe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Wr=Y("Date"),Vr=Y("File"),Jr=Y("Blob"),Qr=Y("FileList"),Gr=e=>Le(e)&&z(e.pipe),Yr=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||z(e.append)&&((s=tt(e))==="formdata"||s==="object"&&z(e.toString)&&e.toString()==="[object FormData]"))},Kr=Y("URLSearchParams"),[Xr,Zr,en,tn]=["ReadableStream","Request","Response","Headers"].map(Y),sn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $e(e,s,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),Ne(e))for(r=0,n=e.length;r<n;r++)s.call(null,e[r],r,e);else{if(Fe(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],s.call(null,e[l],l,e)}}function Rs(e,s){if(Fe(e))return null;s=s.toLowerCase();const a=Object.keys(e);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Is=e=>!Me(e)&&e!==pe;function bt(){const{caseless:e}=Is(this)&&this||{},s={},a=(r,n)=>{const o=e&&Rs(s,n)||n;We(s[o])&&We(r)?s[o]=bt(s[o],r):We(r)?s[o]=bt({},r):Ne(r)?s[o]=r.slice():s[o]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&$e(arguments[r],a);return s}const an=(e,s,a,{allOwnKeys:r}={})=>($e(s,(n,o)=>{a&&z(n)?e[o]=Ps(n,a):e[o]=n},{allOwnKeys:r}),e),rn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nn=(e,s,a,r)=>{e.prototype=Object.create(s.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),a&&Object.assign(e.prototype,a)},on=(e,s,a,r)=>{let n,o,i;const l={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!r||r(i,e,s))&&!l[i]&&(s[i]=e[i],l[i]=!0);e=a!==!1&&Tt(e)}while(e&&(!a||a(e,s))&&e!==Object.prototype);return s},ln=(e,s,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=s.length;const r=e.indexOf(s,a);return r!==-1&&r===a},cn=e=>{if(!e)return null;if(Ne(e))return e;let s=e.length;if(!Ts(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=e[s];return a},dn=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Tt(Uint8Array)),un=(e,s)=>{const r=(e&&e[et]).call(e);let n;for(;(n=r.next())&&!n.done;){const o=n.value;s.call(e,o[0],o[1])}},mn=(e,s)=>{let a;const r=[];for(;(a=e.exec(s))!==null;)r.push(a);return r},pn=Y("HTMLFormElement"),hn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),qt=(({hasOwnProperty:e})=>(s,a)=>e.call(s,a))(Object.prototype),fn=Y("RegExp"),Os=(e,s)=>{const a=Object.getOwnPropertyDescriptors(e),r={};$e(a,(n,o)=>{let i;(i=s(n,o,e))!==!1&&(r[o]=i||n)}),Object.defineProperties(e,r)},xn=e=>{Os(e,(s,a)=>{if(z(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(z(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},yn=(e,s)=>{const a={},r=n=>{n.forEach(o=>{a[o]=!0})};return Ne(e)?r(e):r(String(e).split(s)),a},gn=()=>{},bn=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function wn(e){return!!(e&&z(e.append)&&e[As]==="FormData"&&e[et])}const jn=e=>{const s=new Array(10),a=(r,n)=>{if(Le(r)){if(s.indexOf(r)>=0)return;if(Fe(r))return r;if(!("toJSON"in r)){s[n]=r;const o=Ne(r)?[]:{};return $e(r,(i,l)=>{const u=a(i,n+1);!Me(u)&&(o[l]=u)}),s[n]=void 0,o}}return r};return a(e,0)},vn=Y("AsyncFunction"),Nn=e=>e&&(Le(e)||z(e))&&z(e.then)&&z(e.catch),Ms=((e,s)=>e?setImmediate:s?((a,r)=>(pe.addEventListener("message",({source:n,data:o})=>{n===pe&&o===a&&r.length&&r.shift()()},!1),n=>{r.push(n),pe.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",z(pe.postMessage)),Sn=typeof queueMicrotask<"u"?queueMicrotask.bind(pe):typeof process<"u"&&process.nextTick||Ms,kn=e=>e!=null&&z(e[et]),y={isArray:Ne,isArrayBuffer:Cs,isBuffer:Fe,isFormData:Yr,isArrayBufferView:Br,isString:qr,isNumber:Ts,isBoolean:Hr,isObject:Le,isPlainObject:We,isEmptyObject:zr,isReadableStream:Xr,isRequest:Zr,isResponse:en,isHeaders:tn,isUndefined:Me,isDate:Wr,isFile:Vr,isBlob:Jr,isRegExp:fn,isFunction:z,isStream:Gr,isURLSearchParams:Kr,isTypedArray:dn,isFileList:Qr,forEach:$e,merge:bt,extend:an,trim:sn,stripBOM:rn,inherits:nn,toFlatObject:on,kindOf:tt,kindOfTest:Y,endsWith:ln,toArray:cn,forEachEntry:un,matchAll:mn,isHTMLForm:pn,hasOwnProperty:qt,hasOwnProp:qt,reduceDescriptors:Os,freezeMethods:xn,toObjectSet:yn,toCamelCase:hn,noop:gn,toFiniteNumber:bn,findKey:Rs,global:pe,isContextDefined:Is,isSpecCompliantForm:wn,toJSONObject:jn,isAsyncFn:vn,isThenable:Nn,setImmediate:Ms,asap:Sn,isIterable:kn};function T(e,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}y.inherits(T,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const _s=T.prototype,Ds={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ds[e]={value:e}});Object.defineProperties(T,Ds);Object.defineProperty(_s,"isAxiosError",{value:!0});T.from=(e,s,a,r,n,o)=>{const i=Object.create(_s);return y.toFlatObject(e,i,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),T.call(i,e.message,s,a,r,n),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const En=null;function wt(e){return y.isPlainObject(e)||y.isArray(e)}function Fs(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function Ht(e,s,a){return e?e.concat(s).map(function(n,o){return n=Fs(n),!a&&o?"["+n+"]":n}).join(a?".":""):s}function Pn(e){return y.isArray(e)&&!e.some(wt)}const An=y.toFlatObject(y,{},null,function(s){return/^is[A-Z]/.test(s)});function at(e,s,a){if(!y.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,a=y.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,p){return!y.isUndefined(p[v])});const r=a.metaTokens,n=a.visitor||d,o=a.dots,i=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(s);if(!y.isFunction(n))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(y.isDate(g))return g.toISOString();if(y.isBoolean(g))return g.toString();if(!u&&y.isBlob(g))throw new T("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(g)||y.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,p){let N=g;if(g&&!p&&typeof g=="object"){if(y.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(y.isArray(g)&&Pn(g)||(y.isFileList(g)||y.endsWith(v,"[]"))&&(N=y.toArray(g)))return v=Fs(v),N.forEach(function(b,S){!(y.isUndefined(b)||b===null)&&s.append(i===!0?Ht([v],S,o):i===null?v:v+"[]",c(b))}),!1}return wt(g)?!0:(s.append(Ht(p,v,o),c(g)),!1)}const f=[],x=Object.assign(An,{defaultVisitor:d,convertValue:c,isVisitable:wt});function h(g,v){if(!y.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),y.forEach(g,function(N,j){(!(y.isUndefined(N)||N===null)&&n.call(s,N,y.isString(j)?j.trim():j,v,x))===!0&&h(N,v?v.concat(j):[j])}),f.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return h(e),s}function zt(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function Rt(e,s){this._pairs=[],e&&at(e,this,s)}const Ls=Rt.prototype;Ls.append=function(s,a){this._pairs.push([s,a])};Ls.toString=function(s){const a=s?function(r){return s.call(this,r,zt)}:zt;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Cn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $s(e,s,a){if(!s)return e;const r=a&&a.encode||Cn;y.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(n?o=n(s,a):o=y.isURLSearchParams(s)?s.toString():new Rt(s,a).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Wt{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){y.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Us={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tn=typeof URLSearchParams<"u"?URLSearchParams:Rt,Rn=typeof FormData<"u"?FormData:null,In=typeof Blob<"u"?Blob:null,On={isBrowser:!0,classes:{URLSearchParams:Tn,FormData:Rn,Blob:In},protocols:["http","https","file","blob","url","data"]},It=typeof window<"u"&&typeof document<"u",jt=typeof navigator=="object"&&navigator||void 0,Mn=It&&(!jt||["ReactNative","NativeScript","NS"].indexOf(jt.product)<0),_n=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dn=It&&window.location.href||"http://localhost",Fn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:It,hasStandardBrowserEnv:Mn,hasStandardBrowserWebWorkerEnv:_n,navigator:jt,origin:Dn},Symbol.toStringTag,{value:"Module"})),B={...Fn,...On};function Ln(e,s){return at(e,new B.classes.URLSearchParams,{visitor:function(a,r,n,o){return B.isNode&&y.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function $n(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Un(e){const s={},a=Object.keys(e);let r;const n=a.length;let o;for(r=0;r<n;r++)o=a[r],s[o]=e[o];return s}function Bs(e){function s(a,r,n,o){let i=a[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=a.length;return i=!i&&y.isArray(n)?n.length:i,u?(y.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!l):((!n[i]||!y.isObject(n[i]))&&(n[i]=[]),s(a,r,n[i],o)&&y.isArray(n[i])&&(n[i]=Un(n[i])),!l)}if(y.isFormData(e)&&y.isFunction(e.entries)){const a={};return y.forEachEntry(e,(r,n)=>{s($n(r),n,a,0)}),a}return null}function Bn(e,s,a){if(y.isString(e))try{return(s||JSON.parse)(e),y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const Ue={transitional:Us,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,o=y.isObject(s);if(o&&y.isHTMLForm(s)&&(s=new FormData(s)),y.isFormData(s))return n?JSON.stringify(Bs(s)):s;if(y.isArrayBuffer(s)||y.isBuffer(s)||y.isStream(s)||y.isFile(s)||y.isBlob(s)||y.isReadableStream(s))return s;if(y.isArrayBufferView(s))return s.buffer;if(y.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ln(s,this.formSerializer).toString();if((l=y.isFileList(s))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return at(l?{"files[]":s}:s,u&&new u,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),Bn(s)):s}],transformResponse:[function(s){const a=this.transitional||Ue.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(y.isResponse(s)||y.isReadableStream(s))return s;if(s&&y.isString(s)&&(r&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(l){if(i)throw l.name==="SyntaxError"?T.from(l,T.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:B.classes.FormData,Blob:B.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{Ue.headers[e]={}});const qn=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hn=e=>{const s={};let a,r,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!a||s[a]&&qn[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},Vt=Symbol("internals");function Ee(e){return e&&String(e).trim().toLowerCase()}function Ve(e){return e===!1||e==null?e:y.isArray(e)?e.map(Ve):String(e)}function zn(e){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)s[r[1]]=r[2];return s}const Wn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lt(e,s,a,r,n){if(y.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!y.isString(s)){if(y.isString(r))return s.indexOf(r)!==-1;if(y.isRegExp(r))return r.test(s)}}function Vn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function Jn(e,s){const a=y.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(n,o,i){return this[r].call(this,s,n,o,i)},configurable:!0})})}let W=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function o(l,u,c){const d=Ee(u);if(!d)throw new Error("header name must be a non-empty string");const f=y.findKey(n,d);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||u]=Ve(l))}const i=(l,u)=>y.forEach(l,(c,d)=>o(c,d,u));if(y.isPlainObject(s)||s instanceof this.constructor)i(s,a);else if(y.isString(s)&&(s=s.trim())&&!Wn(s))i(Hn(s),a);else if(y.isObject(s)&&y.isIterable(s)){let l={},u,c;for(const d of s){if(!y.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?y.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}i(l,a)}else s!=null&&o(a,s,r);return this}get(s,a){if(s=Ee(s),s){const r=y.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return zn(n);if(y.isFunction(a))return a.call(this,n,r);if(y.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Ee(s),s){const r=y.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||lt(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function o(i){if(i=Ee(i),i){const l=y.findKey(r,i);l&&(!a||lt(r,r[l],l,a))&&(delete r[l],n=!0)}}return y.isArray(s)?s.forEach(o):o(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const o=a[r];(!s||lt(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const a=this,r={};return y.forEach(this,(n,o)=>{const i=y.findKey(r,o);if(i){a[i]=Ve(n),delete a[o];return}const l=s?Vn(o):String(o).trim();l!==o&&delete a[o],a[l]=Ve(n),r[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return y.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&y.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[Vt]=this[Vt]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=Ee(i);r[l]||(Jn(n,i),r[l]=!0)}return y.isArray(s)?s.forEach(o):o(s),this}};W.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(W.prototype,({value:e},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(r){this[a]=r}}});y.freezeMethods(W);function ct(e,s){const a=this||Ue,r=s||a,n=W.from(r.headers);let o=r.data;return y.forEach(e,function(l){o=l.call(a,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function qs(e){return!!(e&&e.__CANCEL__)}function Se(e,s,a){T.call(this,e??"canceled",T.ERR_CANCELED,s,a),this.name="CanceledError"}y.inherits(Se,T,{__CANCEL__:!0});function Hs(e,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):s(new T("Request failed with status code "+a.status,[T.ERR_BAD_REQUEST,T.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Qn(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function Gn(e,s){e=e||10;const a=new Array(e),r=new Array(e);let n=0,o=0,i;return s=s!==void 0?s:1e3,function(u){const c=Date.now(),d=r[o];i||(i=c),a[n]=u,r[n]=c;let f=o,x=0;for(;f!==n;)x+=a[f++],f=f%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),c-i<s)return;const h=d&&c-d;return h?Math.round(x*1e3/h):void 0}}function Yn(e,s){let a=0,r=1e3/s,n,o;const i=(c,d=Date.now())=>{a=d,n=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-a;f>=r?i(c,d):(n=c,o||(o=setTimeout(()=>{o=null,i(n)},r-f)))},()=>n&&i(n)]}const Ge=(e,s,a=3)=>{let r=0;const n=Gn(50,250);return Yn(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-r,c=n(u),d=i<=l;r=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(f)},a)},Jt=(e,s)=>{const a=e!=null;return[r=>s[0]({lengthComputable:a,total:e,loaded:r}),s[1]]},Qt=e=>(...s)=>y.asap(()=>e(...s)),Kn=B.hasStandardBrowserEnv?((e,s)=>a=>(a=new URL(a,B.origin),e.protocol===a.protocol&&e.host===a.host&&(s||e.port===a.port)))(new URL(B.origin),B.navigator&&/(msie|trident)/i.test(B.navigator.userAgent)):()=>!0,Xn=B.hasStandardBrowserEnv?{write(e,s,a,r,n,o){const i=[e+"="+encodeURIComponent(s)];y.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),y.isString(r)&&i.push("path="+r),y.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ei(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function zs(e,s,a){let r=!Zn(s);return e&&(r||a==!1)?ei(e,s):s}const Gt=e=>e instanceof W?{...e}:e;function ge(e,s){s=s||{};const a={};function r(c,d,f,x){return y.isPlainObject(c)&&y.isPlainObject(d)?y.merge.call({caseless:x},c,d):y.isPlainObject(d)?y.merge({},d):y.isArray(d)?d.slice():d}function n(c,d,f,x){if(y.isUndefined(d)){if(!y.isUndefined(c))return r(void 0,c,f,x)}else return r(c,d,f,x)}function o(c,d){if(!y.isUndefined(d))return r(void 0,d)}function i(c,d){if(y.isUndefined(d)){if(!y.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,f){if(f in s)return r(c,d);if(f in e)return r(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,f)=>n(Gt(c),Gt(d),f,!0)};return y.forEach(Object.keys({...e,...s}),function(d){const f=u[d]||n,x=f(e[d],s[d],d);y.isUndefined(x)&&f!==l||(a[d]=x)}),a}const Ws=e=>{const s=ge({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=s;s.headers=i=W.from(i),s.url=$s(zs(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(y.isFormData(a)){if(B.hasStandardBrowserEnv||B.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[c,...d]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...d].join("; "))}}if(B.hasStandardBrowserEnv&&(r&&y.isFunction(r)&&(r=r(s)),r||r!==!1&&Kn(s.url))){const c=n&&o&&Xn.read(o);c&&i.set(n,c)}return s},ti=typeof XMLHttpRequest<"u",si=ti&&function(e){return new Promise(function(a,r){const n=Ws(e);let o=n.data;const i=W.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=n,d,f,x,h,g;function v(){h&&h(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function N(){if(!p)return;const b=W.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:b,config:e,request:p};Hs(function(E){a(E),v()},function(E){r(E),v()},C),p=null}"onloadend"in p?p.onloadend=N:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(N)},p.onabort=function(){p&&(r(new T("Request aborted",T.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new T("Network Error",T.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||Us;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),r(new T(S,C.clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,e,p)),p=null},o===void 0&&i.setContentType(null),"setRequestHeader"in p&&y.forEach(i.toJSON(),function(S,C){p.setRequestHeader(C,S)}),y.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),l&&l!=="json"&&(p.responseType=n.responseType),c&&([x,g]=Ge(c,!0),p.addEventListener("progress",x)),u&&p.upload&&([f,h]=Ge(u),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(d=b=>{p&&(r(!b||b.type?new Se(null,e,p):b),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const j=Qn(n.url);if(j&&B.protocols.indexOf(j)===-1){r(new T("Unsupported protocol "+j+":",T.ERR_BAD_REQUEST,e));return}p.send(o||null)})},ai=(e,s)=>{const{length:a}=e=e?e.filter(Boolean):[];if(s||a){let r=new AbortController,n;const o=function(c){if(!n){n=!0,l();const d=c instanceof Error?c:this.reason;r.abort(d instanceof T?d:new Se(d instanceof Error?d.message:d))}};let i=s&&setTimeout(()=>{i=null,o(new T(`timeout ${s} of ms exceeded`,T.ETIMEDOUT))},s);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>y.asap(l),u}},ri=function*(e,s){let a=e.byteLength;if(a<s){yield e;return}let r=0,n;for(;r<a;)n=r+s,yield e.slice(r,n),r=n},ni=async function*(e,s){for await(const a of ii(e))yield*ri(a,s)},ii=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},Yt=(e,s,a,r)=>{const n=ni(e,s);let o=0,i,l=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await n.next();if(c){l(),u.close();return}let f=d.byteLength;if(a){let x=o+=f;a(x)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},rt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vs=rt&&typeof ReadableStream=="function",oi=rt&&(typeof TextEncoder=="function"?(e=>s=>e.encode(s))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Js=(e,...s)=>{try{return!!e(...s)}catch{return!1}},li=Vs&&Js(()=>{let e=!1;const s=new Request(B.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!s}),Kt=64*1024,vt=Vs&&Js(()=>y.isReadableStream(new Response("").body)),Ye={stream:vt&&(e=>e.body)};rt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Ye[s]&&(Ye[s]=y.isFunction(e[s])?a=>a[s]():(a,r)=>{throw new T(`Response type '${s}' is not supported`,T.ERR_NOT_SUPPORT,r)})})})(new Response);const ci=async e=>{if(e==null)return 0;if(y.isBlob(e))return e.size;if(y.isSpecCompliantForm(e))return(await new Request(B.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(y.isArrayBufferView(e)||y.isArrayBuffer(e))return e.byteLength;if(y.isURLSearchParams(e)&&(e=e+""),y.isString(e))return(await oi(e)).byteLength},di=async(e,s)=>{const a=y.toFiniteNumber(e.getContentLength());return a??ci(s)},ui=rt&&(async e=>{let{url:s,method:a,data:r,signal:n,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:x}=Ws(e);c=c?(c+"").toLowerCase():"text";let h=ai([n,o&&o.toAbortSignal()],i),g;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(u&&li&&a!=="get"&&a!=="head"&&(p=await di(d,r))!==0){let C=new Request(s,{method:"POST",body:r,duplex:"half"}),k;if(y.isFormData(r)&&(k=C.headers.get("content-type"))&&d.setContentType(k),C.body){const[E,R]=Jt(p,Ge(Qt(u)));r=Yt(C.body,Kt,E,R)}}y.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;g=new Request(s,{...x,signal:h,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:N?f:void 0});let j=await fetch(g,x);const b=vt&&(c==="stream"||c==="response");if(vt&&(l||b&&v)){const C={};["status","statusText","headers"].forEach(I=>{C[I]=j[I]});const k=y.toFiniteNumber(j.headers.get("content-length")),[E,R]=l&&Jt(k,Ge(Qt(l),!0))||[];j=new Response(Yt(j.body,Kt,E,()=>{R&&R(),v&&v()}),C)}c=c||"text";let S=await Ye[y.findKey(Ye,c)||"text"](j,e);return!b&&v&&v(),await new Promise((C,k)=>{Hs(C,k,{data:S,headers:W.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:g})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new T("Network Error",T.ERR_NETWORK,e,g),{cause:N.cause||N}):T.from(N,N&&N.code,e,g)}}),Nt={http:En,xhr:si,fetch:ui};y.forEach(Nt,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Xt=e=>`- ${e}`,mi=e=>y.isFunction(e)||e===null||e===!1,Qs={getAdapter:e=>{e=y.isArray(e)?e:[e];const{length:s}=e;let a,r;const n={};for(let o=0;o<s;o++){a=e[o];let i;if(r=a,!mi(a)&&(r=Nt[(i=String(a)).toLowerCase()],r===void 0))throw new T(`Unknown adapter '${i}'`);if(r)break;n[i||"#"+o]=r}if(!r){const o=Object.entries(n).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=s?o.length>1?`since :
`+o.map(Xt).join(`
`):" "+Xt(o[0]):"as no adapter specified";throw new T("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Nt};function dt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Se(null,e)}function Zt(e){return dt(e),e.headers=W.from(e.headers),e.data=ct.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qs.getAdapter(e.adapter||Ue.adapter)(e).then(function(r){return dt(e),r.data=ct.call(e,e.transformResponse,r),r.headers=W.from(r.headers),r},function(r){return qs(r)||(dt(e),r&&r.response&&(r.response.data=ct.call(e,e.transformResponse,r.response),r.response.headers=W.from(r.response.headers))),Promise.reject(r)})}const Gs="1.11.0",nt={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{nt[e]=function(r){return typeof r===e||"a"+(s<1?"n ":" ")+e}});const es={};nt.transitional=function(s,a,r){function n(o,i){return"[Axios v"+Gs+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(s===!1)throw new T(n(i," has been removed"+(a?" in "+a:"")),T.ERR_DEPRECATED);return a&&!es[i]&&(es[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(o,i,l):!0}};nt.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function pi(e,s,a){if(typeof e!="object")throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const o=r[n],i=s[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new T("option "+o+" must be "+u,T.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new T("Unknown option "+o,T.ERR_BAD_OPTION)}}const Je={assertOptions:pi,validators:nt},X=Je.validators;let xe=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Wt,response:new Wt}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=ge(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:o}=a;r!==void 0&&Je.assertOptions(r,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1),n!=null&&(y.isFunction(n)?a.paramsSerializer={serialize:n}:Je.assertOptions(n,{encode:X.function,serialize:X.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Je.assertOptions(a,{baseUrl:X.spelling("baseURL"),withXsrfToken:X.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&y.merge(o.common,o[a.method]);o&&y.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),a.headers=W.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(a)===!1||(u=u&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,f=0,x;if(!u){const g=[Zt.bind(this),void 0];for(g.unshift(...l),g.push(...c),x=g.length,d=Promise.resolve(a);f<x;)d=d.then(g[f++],g[f++]);return d}x=l.length;let h=a;for(f=0;f<x;){const g=l[f++],v=l[f++];try{h=g(h)}catch(p){v.call(this,p);break}}try{d=Zt.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,x=c.length;f<x;)d=d.then(c[f++],c[f++]);return d}getUri(s){s=ge(this.defaults,s);const a=zs(s.baseURL,s.url,s.allowAbsoluteUrls);return $s(a,s.params,s.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(s){xe.prototype[s]=function(a,r){return this.request(ge(r||{},{method:s,url:a,data:(r||{}).data}))}});y.forEach(["post","put","patch"],function(s){function a(r){return function(o,i,l){return this.request(ge(l||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}xe.prototype[s]=a(),xe.prototype[s+"Form"]=a(!0)});let hi=class Ys{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(n);return i.cancel=function(){r.unsubscribe(o)},i},s(function(o,i,l){r.reason||(r.reason=new Se(o,i,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new Ys(function(n){s=n}),cancel:s}}};function fi(e){return function(a){return e.apply(null,a)}}function xi(e){return y.isObject(e)&&e.isAxiosError===!0}const St={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(St).forEach(([e,s])=>{St[s]=e});function Ks(e){const s=new xe(e),a=Ps(xe.prototype.request,s);return y.extend(a,xe.prototype,s,{allOwnKeys:!0}),y.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return Ks(ge(e,n))},a}const D=Ks(Ue);D.Axios=xe;D.CanceledError=Se;D.CancelToken=hi;D.isCancel=qs;D.VERSION=Gs;D.toFormData=at;D.AxiosError=T;D.Cancel=D.CanceledError;D.all=function(s){return Promise.all(s)};D.spread=fi;D.isAxiosError=xi;D.mergeConfig=ge;D.AxiosHeaders=W;D.formToJSON=e=>Bs(y.isHTMLForm(e)?new FormData(e):e);D.getAdapter=Qs.getAdapter;D.HttpStatusCode=St;D.default=D;const{Axios:xo,AxiosError:yo,CanceledError:go,isCancel:bo,CancelToken:wo,VERSION:jo,all:vo,Cancel:No,isAxiosError:So,spread:ko,toFormData:Eo,AxiosHeaders:Po,HttpStatusCode:Ao,formToJSON:Co,getAdapter:To,mergeConfig:Ro}=D,yi=()=>"/api",gi=yi(),A=D.create({baseURL:gi,withCredentials:!1,headers:{"Content-Type":"application/json"}});A.interceptors.request.use(e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));A.interceptors.response.use(e=>e,async e=>{var i,l,u,c,d,f,x,h,g;const s=e.config,a=(i=e.response)==null?void 0:i.status,r=((u=(l=e.response)==null?void 0:l.data)==null?void 0:u.message)||"An error occurred",n=(f=(d=(c=e.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:f.type,o=((g=(h=(x=e.response)==null?void 0:x.data)==null?void 0:h.error)==null?void 0:g.suggestion)||"";switch(console.error("API Error:",{status:a,message:r,errorType:n,url:s==null?void 0:s.url}),a){case 401:M.error("Please log in to continue. "+o,{duration:6e3}),!s._retry&&n!=="AUTH_TOKEN_INVALID"&&(s._retry=!0,localStorage.removeItem("accessToken"),window.location.href="/login");break;case 413:M.error(`${r} ${o}`,{duration:6e3});break;case 404:M.error("API endpoint not found. Please try again later.",{duration:6e3});break;case 500:M.error("Server error. Please try again or contact support.",{duration:6e3});break;default:M.error(r,{duration:6e3})}return Promise.reject(e)});const Q={register:e=>A.post("/auth/register",e),login:e=>A.post("/auth/login",e),logout:e=>A.post("/auth/logout",e),forgotPassword:e=>A.post("/auth/forgot-password",e),resetPassword:e=>A.post("/auth/reset-password",e),changePassword:e=>A.put("/auth/change-password",e),verifyEmail:e=>A.get(`/auth/verify-email?token=${e}`),resendVerification:()=>A.post("/auth/resend-verification"),refreshToken:e=>A.post("/auth/refresh",e),getMe:()=>A.get("/auth/me"),deleteAccount:e=>A.delete("/auth/delete-account",{data:e}),updateProfile:e=>A.put("/users/profile",e)},ts={uploadSingle:(e,s)=>A.post("/images/upload",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(s&&a.total){const r=Math.round(a.loaded*100/a.total);s(r)}},timeout:6e4}),uploadMultiple:(e,s)=>A.post("/images/upload-multiple",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(s&&a.total){const r=Math.round(a.loaded*100/a.total);s(r)}},timeout:12e4}),deletePhoto:e=>A.delete("/images/delete",{data:e}),reorderPhotos:e=>A.put("/images/reorder",e),testConnection:()=>A.get("/images/test")},ss={getMatches:()=>A.get("/matches"),createMatch:e=>A.post("/matches",e),updateMatchStatus:(e,s)=>A.put(`/matches/${e}/status`,s),getMatchDetails:e=>A.get(`/matches/${e}`),getPotentialMatches:e=>A.get("/users/matches",{params:e}),getPendingMatches:()=>A.get("/matches/pending"),getAcceptedMatches:()=>A.get("/matches/accepted")},as={getConversations:()=>A.get("/messages/conversations"),getConversation:(e,s)=>A.get(`/messages/conversation/${e}`,{params:s}),sendMessage:e=>A.post("/messages",e),markAsRead:e=>A.put(`/messages/read/${e}`),getUnreadCount:()=>A.get("/messages/unread/count"),deleteMessage:e=>A.delete(`/messages/${e}`)},bi={getProfile:()=>A.get("/users/profile"),updateProfile:e=>A.put("/users/profile",e),getPotentialMatches:e=>A.get("/users/matches",{params:e}),getMyMatches:()=>A.get("/users/matches/my"),deleteAccount:()=>A.delete("/users/account")},Ce={getCurrencies:()=>A.get("/payments/currencies"),estimatePayment:e=>A.post("/payments/estimate",e),createPayment:e=>A.post("/payments/create",e),getPaymentStatus:e=>A.get(`/payments/status/${e}`),createSubscription:e=>A.post("/payments/subscription",e),getPaymentHistory:e=>A.get("/payments/history",{params:e}),createNOWPayments:e=>A.post("/payments/nowpayments/create",e)},be=$r((e,s)=>({user:null,loading:!0,error:null,isAuthenticated:!1,signUp:async a=>{var r,n,o;e({loading:!0,error:null});try{const i=await Q.register(a);if(i.data.success){const l=(r=i.data.data)==null?void 0:r.tokens;l!=null&&l.accessToken&&localStorage.setItem("accessToken",l.accessToken),l!=null&&l.refreshToken&&localStorage.setItem("refreshToken",l.refreshToken);const u=i.data.data.user;e({user:u,loading:!1,isAuthenticated:!0,error:null})}else throw new Error(i.data.message||"Signup failed")}catch(i){console.error("Signup error:",i);const l=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message||"Signup failed. Please try again.";throw e({error:l,loading:!1,user:null,isAuthenticated:!1}),i}},signIn:async a=>{var r,n;e({loading:!0,error:null});try{const o=await Q.login(a);if(o.data.success){const i=o.data.data.tokens;i!=null&&i.accessToken&&(i!=null&&i.refreshToken)&&(localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken));const l=o.data.data.user;e({user:l,loading:!1,isAuthenticated:!0,error:null})}else throw new Error(o.data.message||"Login failed")}catch(o){console.error("Signin error:",o);const i=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||o.message||"Login failed. Please check your credentials.";throw e({error:i,loading:!1,user:null,isAuthenticated:!1}),o}},signOut:async()=>{e({loading:!0,error:null});try{const a=localStorage.getItem("refreshToken");a&&await Q.logout({refreshToken:a})}catch(a){console.error("Logout API error:",a)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,loading:!1,isAuthenticated:!1,error:null})}},checkAuth:async()=>{var r;if(!localStorage.getItem("accessToken")){e({user:null,loading:!1,isAuthenticated:!1});return}e({loading:!0,error:null});try{const n=await Q.getMe();if(n.data.success){const o=n.data.data.user;e({user:o,loading:!1,isAuthenticated:!0,error:null})}else throw new Error("Invalid response from server")}catch(n){if(console.error("Auth check error:",n),((r=n.response)==null?void 0:r.status)===401&&await s().refreshToken())try{const i=await Q.getMe();if(i.data.success){const l=i.data.data.user;e({user:l,loading:!1,isAuthenticated:!0,error:null});return}}catch(i){console.error("Retry auth check failed:",i)}localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,loading:!1,isAuthenticated:!1,error:null})}},updateProfile:async a=>{var n,o;const r=s().user;if(!r)throw new Error("No user logged in");e({loading:!0,error:null});try{const i=await Q.updateProfile(a);if(i!=null&&i.data.success){const l={...r,...i.data.data.user};e({user:l,loading:!1,error:null})}else throw new Error((i==null?void 0:i.data.message)||"Profile update failed")}catch(i){console.error("Profile update error:",i);const l=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message||"Profile update failed";throw e({error:l,loading:!1}),i}},verifyEmail:async a=>{var r,n;e({loading:!0,error:null});try{const o=await Q.verifyEmail(a);if(o.data.success){const i=s().user;e(i?{user:{...i,isVerified:!0},loading:!1,error:null}:{loading:!1,error:null})}else throw new Error(o.data.message||"Email verification failed")}catch(o){console.error("Email verification error:",o);const i=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||o.message||"Email verification failed";throw e({error:i,loading:!1}),o}},resendVerification:async()=>{var a,r;e({loading:!0,error:null});try{const n=await Q.resendVerification();if(n.data.success)e({loading:!1,error:null});else throw new Error(n.data.message||"Failed to resend verification email")}catch(n){console.error("Resend verification error:",n);const o=((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||n.message||"Failed to resend verification email";throw e({error:o,loading:!1}),n}},forgotPassword:async a=>{var r,n;e({loading:!0,error:null});try{const o=await Q.forgotPassword({email:a});if(o.data.success)e({loading:!1,error:null});else throw new Error(o.data.message||"Failed to send reset email")}catch(o){console.error("Forgot password error:",o);const i=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||o.message||"Failed to send reset email";throw e({error:i,loading:!1}),o}},resetPassword:async(a,r,n)=>{var o,i;e({loading:!0,error:null});try{const l=await Q.resetPassword({token:a,userId:r,newPassword:n});if(l.data.success)e({loading:!1,error:null});else throw new Error(l.data.message||"Password reset failed")}catch(l){console.error("Reset password error:",l);const u=((i=(o=l.response)==null?void 0:o.data)==null?void 0:i.message)||l.message||"Password reset failed";throw e({error:u,loading:!1}),l}},changePassword:async(a,r)=>{var n,o;e({loading:!0,error:null});try{const i=await Q.changePassword({currentPassword:a,newPassword:r});if(i.data.success)e({loading:!1,error:null});else throw new Error(i.data.message||"Password change failed")}catch(i){console.error("Change password error:",i);const l=((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message||"Password change failed";throw e({error:l,loading:!1}),i}},refreshToken:async()=>{const a=localStorage.getItem("refreshToken");if(!a)return!1;try{const r=await Q.refreshToken({refreshToken:a});if(r.data.success){const{accessToken:n,refreshToken:o}=r.data.data.tokens;return localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",o),!0}else return!1}catch(r){return console.error("Token refresh error:",r),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,isAuthenticated:!1,error:null}),!1}},isTokenValid:()=>{const a=localStorage.getItem("accessToken");if(!a)return!1;try{return a.split(".").length===3}catch{return!1}},clearError:()=>{e({error:null})}}));let rs=!1;rs||(rs=!0,setTimeout(()=>{be.getState().checkAuth()},100));const wi=()=>{const e=V(),{user:s}=be();return ie.useEffect(()=>{s&&e("/dashboard")},[s,e]),t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-lavender-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"0.5s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(U,{className:"w-12 h-12 text-white",fill:"currentColor"})}),t.jsx(m.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-5xl font-friendly font-bold bg-gradient-to-r from-coral-500 to-peach-500 bg-clip-text text-transparent mb-3",children:"SoulSync"}),t.jsx(m.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-warm-700 text-xl font-medium mb-2",children:"Where Hearts Align with AI"}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"flex items-center justify-center gap-2 text-warm-600 text-sm",children:[t.jsx(Te,{className:"w-4 h-4 text-mint-500"}),t.jsx("span",{children:"Powered by Emotion. Perfected by AI."}),t.jsx(ut,{className:"w-4 h-4 text-gold-400"})]}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"flex items-center justify-center gap-4 mt-4 text-xs text-warm-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(le,{className:"w-3 h-3 text-gold-400 fill-current"}),t.jsx("span",{children:"4.9/5 Rating"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Z,{className:"w-3 h-3 text-sky-400"}),t.jsx("span",{children:"10K+ Matches"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ia,{className:"w-3 h-3 text-sage-500"}),t.jsx("span",{children:"Human Touch"})]})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"friendly-card p-8 space-y-4",children:[t.jsx(fe,{to:"/signup",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"friendly-button w-full flex items-center justify-center gap-2 font-semibold",children:["Start Your Journey",t.jsx(kt,{className:"w-5 h-5"})]})}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-warm-600",children:"Already have an account? "}),t.jsx(fe,{to:"/login",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign In"})]})]}),t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},className:"text-center mt-6 text-xs text-warm-500",children:t.jsx("p",{children:"By continuing, you agree to our Terms & Privacy Policy"})})]})]})},ji={user:null,currentStep:0,personalityAnswers:{},compatibilityAnswers:{},hasPayment:!1,hasPremium:!1,subscription:null,currentMatch:null,acceptedMatch:null,rejectedMatches:[],dailyMatchCount:0,lastMatchDate:new Date().toDateString(),messages:[]},Xs=w.createContext(null);function vi(e,s){var a,r;switch(s.type){case"SET_USER":return{...e,user:s.payload,hasPremium:((a=s.payload)==null?void 0:a.hasPremium)||!1,subscription:((r=s.payload)==null?void 0:r.subscription)||null};case"SET_STEP":return{...e,currentStep:s.payload};case"SET_PERSONALITY_ANSWERS":return{...e,personalityAnswers:s.payload};case"SET_COMPATIBILITY_ANSWERS":return{...e,compatibilityAnswers:s.payload};case"SET_PAYMENT_STATUS":return{...e,hasPayment:s.payload};case"SET_PREMIUM_STATUS":return{...e,hasPremium:s.payload.hasPremium,subscription:s.payload.subscription};case"SET_MATCH":return{...e,currentMatch:s.payload};case"ACCEPT_MATCH":return{...e,acceptedMatch:s.payload,currentMatch:null,dailyMatchCount:e.dailyMatchCount+1,lastMatchDate:new Date().toDateString()};case"REJECT_MATCH":{const n=new Date().toDateString(),o=e.lastMatchDate!==n;return{...e,rejectedMatches:[...e.rejectedMatches,s.payload],currentMatch:null,dailyMatchCount:o?1:e.dailyMatchCount+1,lastMatchDate:n}}case"RESET_DAILY_MATCHES":return{...e,dailyMatchCount:0,lastMatchDate:new Date().toDateString(),rejectedMatches:[]};case"ADD_MESSAGE":return{...e,messages:[...e.messages,{id:Date.now().toString(),senderId:s.payload.senderId,content:s.payload.content,timestamp:new Date}]};default:return e}}function Ni({children:e}){const[s,a]=w.useReducer(vi,ji);return t.jsx(Xs.Provider,{value:{state:s,dispatch:a},children:e})}function K(){const e=w.useContext(Xs);if(!e)throw new Error("useApp must be used within AppProvider");return e}const Zs=[{id:"love_language",category:"personality",question:"What's your primary love language?",type:"multiple",emoji:"",weight:9,options:[{value:"words",label:"Words of Affirmation",emoji:""},{value:"quality",label:"Quality Time",emoji:""},{value:"gifts",label:"Receiving Gifts",emoji:""},{value:"touch",label:"Physical Touch",emoji:""},{value:"service",label:"Acts of Service",emoji:""}]},{id:"ideal_sunday",category:"lifestyle",question:"Describe your ideal Sunday:",type:"multiple",emoji:"",weight:7,options:[{value:"adventure",label:"Outdoor Adventure",emoji:""},{value:"cozy",label:"Cozy Home Vibes",emoji:""},{value:"social",label:"Friends & Family",emoji:""},{value:"cultural",label:"Museums & Art",emoji:""},{value:"active",label:"Sports & Fitness",emoji:""}]},{id:"red_flag",category:"values",question:"What's your biggest red flag in dating?",type:"multiple",emoji:"",weight:10,options:[{value:"dishonesty",label:"Dishonesty",emoji:""},{value:"selfish",label:"Self-Centered",emoji:""},{value:"lazy",label:"No Ambition",emoji:""},{value:"rude",label:"Rude to Service Staff",emoji:""},{value:"phone",label:"Always on Phone",emoji:""}]},{id:"relationship_goal",category:"relationship",question:"What do you want in your next relationship?",type:"multiple",emoji:"",weight:10,options:[{value:"serious",label:"Something Serious",emoji:""},{value:"fun",label:"Fun & Casual",emoji:""},{value:"growth",label:"Personal Growth",emoji:""},{value:"adventure",label:"Adventure Partner",emoji:""},{value:"stability",label:"Stability & Comfort",emoji:""}]},{id:"conflict_style",category:"communication",question:"How do you handle conflict in relationships?",type:"multiple",emoji:"",weight:9,options:[{value:"direct",label:"Address it head-on",emoji:""},{value:"avoid",label:"Give space, then discuss",emoji:""},{value:"compromise",label:"Find middle ground",emoji:""},{value:"listen",label:"Listen first, then respond",emoji:""}]},{id:"spontaneity",category:"personality",question:"Are you more spontaneous or planned?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Very Planned","Very Spontaneous"]},{id:"emotional_intelligence",category:"personality",question:"Rate your emotional intelligence:",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Still Learning","Very High"]},{id:"social_energy",category:"lifestyle",question:"After a long week, you prefer:",type:"multiple",emoji:"",weight:7,options:[{value:"party",label:"Going out with friends",emoji:""},{value:"date",label:"Intimate dinner for two",emoji:""},{value:"home",label:"Cozy night at home",emoji:""},{value:"adventure",label:"Trying something new",emoji:""}]},{id:"communication_style",category:"communication",question:"Your communication style is:",type:"multiple",emoji:"",weight:8,options:[{value:"direct",label:"Direct and honest",emoji:""},{value:"gentle",label:"Gentle and thoughtful",emoji:""},{value:"playful",label:"Playful and humorous",emoji:""},{value:"deep",label:"Deep and meaningful",emoji:""}]},{id:"life_goals",category:"values",question:"Your biggest life goal is:",type:"multiple",emoji:"",weight:9,options:[{value:"career",label:"Career success",emoji:""},{value:"family",label:"Building a family",emoji:""},{value:"travel",label:"Exploring the world",emoji:""},{value:"impact",label:"Making a difference",emoji:""},{value:"growth",label:"Personal growth",emoji:""}]},{id:"relocation",category:"relationship",question:"Would you relocate for love?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Never","Absolutely"]},{id:"morning_person",category:"lifestyle",question:"Are you a morning person or night owl?",type:"scale",emoji:"",weight:5,min:1,max:10,labels:["Night Owl","Morning Person"]},{id:"risk_tolerance",category:"personality",question:"How do you feel about taking risks?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Very Cautious","Love Taking Risks"]},{id:"social_preference",category:"lifestyle",question:"Do you prefer small gatherings or big parties?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Small Groups","Big Parties"]},{id:"decision_making",category:"personality",question:"How do you make important decisions?",type:"multiple",emoji:"",weight:7,options:[{value:"logical",label:"Logic and analysis",emoji:""},{value:"intuitive",label:"Trust my gut feeling",emoji:""},{value:"research",label:"Extensive research",emoji:""},{value:"advice",label:"Seek advice from others",emoji:""}]},{id:"stress_management",category:"personality",question:"How do you handle stress?",type:"multiple",emoji:"",weight:7,options:[{value:"exercise",label:"Exercise and movement",emoji:""},{value:"meditation",label:"Meditation and mindfulness",emoji:""},{value:"social",label:"Talk to friends/family",emoji:""},{value:"creative",label:"Creative activities",emoji:""},{value:"nature",label:"Spend time in nature",emoji:""}]},{id:"money_attitude",category:"values",question:"What's your attitude toward money?",type:"multiple",emoji:"",weight:8,options:[{value:"saver",label:"Save for the future",emoji:""},{value:"spender",label:"Enjoy it while you can",emoji:""},{value:"investor",label:"Invest for growth",emoji:""},{value:"balanced",label:"Balance saving and spending",emoji:""}]},{id:"family_importance",category:"values",question:"How important is family in your life?",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Not Very Important","Extremely Important"]},{id:"career_ambition",category:"values",question:"How ambitious are you about your career?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Work to Live","Live to Work"]},{id:"physical_activity",category:"lifestyle",question:"How important is physical fitness to you?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Not Important","Very Important"]},{id:"travel_frequency",category:"lifestyle",question:"How often do you like to travel?",type:"multiple",emoji:"",weight:6,options:[{value:"rarely",label:"Rarely travel",emoji:""},{value:"yearly",label:"Once or twice a year",emoji:""},{value:"quarterly",label:"Every few months",emoji:""},{value:"monthly",label:"Monthly adventures",emoji:""},{value:"nomad",label:"Digital nomad lifestyle",emoji:""}]},{id:"learning_style",category:"personality",question:"How do you prefer to learn new things?",type:"multiple",emoji:"",weight:5,options:[{value:"reading",label:"Reading and research",emoji:""},{value:"hands_on",label:"Hands-on experience",emoji:""},{value:"discussion",label:"Discussion and debate",emoji:""},{value:"visual",label:"Visual and multimedia",emoji:""}]},{id:"humor_style",category:"personality",question:"What's your sense of humor like?",type:"multiple",emoji:"",weight:7,options:[{value:"witty",label:"Witty and clever",emoji:""},{value:"silly",label:"Silly and goofy",emoji:""},{value:"sarcastic",label:"Sarcastic and dry",emoji:""},{value:"wholesome",label:"Wholesome and clean",emoji:""},{value:"dark",label:"Dark and edgy",emoji:""}]},{id:"pet_preference",category:"lifestyle",question:"What's your relationship with pets?",type:"multiple",emoji:"",weight:6,options:[{value:"dog_lover",label:"Dog lover",emoji:""},{value:"cat_lover",label:"Cat lover",emoji:""},{value:"both",label:"Love all animals",emoji:""},{value:"allergic",label:"Allergic to pets",emoji:""},{value:"no_pets",label:"Prefer no pets",emoji:""}]},{id:"music_taste",category:"lifestyle",question:"What music moves your soul?",type:"multiple",emoji:"",weight:5,options:[{value:"pop",label:"Pop and mainstream",emoji:""},{value:"rock",label:"Rock and alternative",emoji:""},{value:"electronic",label:"Electronic and EDM",emoji:""},{value:"classical",label:"Classical and jazz",emoji:""},{value:"hip_hop",label:"Hip-hop and R&B",emoji:""},{value:"indie",label:"Indie and folk",emoji:""}]},{id:"food_adventure",category:"lifestyle",question:"How adventurous are you with food?",type:"scale",emoji:"",weight:5,min:1,max:10,labels:["Stick to Favorites","Try Anything Once"]},{id:"technology_comfort",category:"lifestyle",question:"How comfortable are you with technology?",type:"scale",emoji:"",weight:4,min:1,max:10,labels:["Basic User","Tech Enthusiast"]},{id:"environmental_consciousness",category:"values",question:"How important is environmental sustainability to you?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Not a Priority","Very Important"]},{id:"political_engagement",category:"values",question:"How engaged are you with politics?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Not Interested","Very Engaged"]},{id:"spirituality",category:"values",question:"How important is spirituality in your life?",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Not Important","Very Important"]},{id:"work_life_balance",category:"values",question:"How do you prioritize work-life balance?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Work First","Life First"]}],ye=(e,s,a=[])=>{let r=Zs.filter(o=>!a.includes(o.id));return e!=="all"&&(r=r.filter(o=>o.category===e)),r.sort(()=>.5-Math.random()).slice(0,s)},Si=(e,s=[])=>Zs.filter(r=>r.weight>=8&&!s.includes(r.id)).sort(()=>.5-Math.random()).slice(0,e),ki=()=>{const[e,s]=w.useState(0),[a,r]=w.useState({}),[n,o]=w.useState([]),i=V(),{dispatch:l}=K();w.useEffect(()=>{const v=ye("personality",3),p=ye("lifestyle",2),N=ye("values",2),j=[...v,...p,...N];o(j)},[]);const u=(v,p)=>{r(N=>({...N,[v]:p}))},c=()=>{e<n.length-1?s(v=>v+1):(l({type:"SET_PERSONALITY_ANSWERS",payload:a}),i("/payment"))},d=()=>{e>0&&s(v=>v-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full"})});const f=(e+1)/n.length*100,x=n[e],h=a[x.id],g=()=>{var v,p,N;switch(x.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(v=x.options)==null?void 0:v.map((j,b)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},onClick:()=>u(x.id,j.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${h===j.value?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400 hover:bg-pink-400/10"}`,children:[j.emoji&&t.jsx("span",{className:"text-2xl",children:j.emoji}),t.jsx("span",{className:"font-medium",children:j.label})]},j.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(p=x.labels)==null?void 0:p[0]}),t.jsx("span",{children:(N=x.labels)==null?void 0:N[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:x.min,max:x.max,value:h||x.min,onChange:j=>u(x.id,parseInt(j.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #ec4899 0%, #ec4899 ${((h||x.min)-x.min)/(x.max-x.min)*100}%, rgba(255,255,255,0.2) ${((h||x.min)-x.min)/(x.max-x.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:x.max-x.min+1},(j,b)=>t.jsx("span",{className:"text-xs text-gray-500",children:x.min+b},b))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-pink-400",children:h||x.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>u(x.id,!0),className:`p-6 rounded-xl border-2 transition-all ${h===!0?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>u(x.id,!1),className:`p-6 rounded-xl border-2 transition-all ${h===!1?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mb-4",children:t.jsx(U,{className:"w-8 h-8 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Let's get to know the real you"}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${f}%`},className:"bg-gradient-to-r from-pink-500 to-purple-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[x.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:x.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:x.question})]}),g()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(de,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,disabled:h==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Continue":"Next",t.jsx(Et,{className:"w-5 h-5"})]})]})]})})};/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(H||(H={}));var oe;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(oe||(oe={}));var ns;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(ns||(ns={}));var L=function(){return L=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},L.apply(this,arguments)};function ea(e,s){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}function is(e,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return e.concat(o||Array.prototype.slice.call(s))}var _e="data-react-paypal-script-id",he={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},Ei="Failed to load the PayPal JS SDK script.",ta="paypal",Pi="usePayPalScriptReducer must be used within a PayPalScriptProvider";function Ai(e){return e===void 0&&(e=ta),window[e]}function Ci(e){for(var s="",a=0;a<e.length;a++){var r=e[a].charCodeAt(0)*a;e[a+1]&&(r+=e[a+1].charCodeAt(0)*(a-1)),s+=String.fromCharCode(97+Math.abs(r)%26)}return s}function Ti(e){var s=e.reactComponentName,a=e.sdkComponentKey,r=e.sdkRequestedComponents,n=r===void 0?"":r,o=e.sdkDataNamespace,i=o===void 0?ta:o,l=a.charAt(0).toUpperCase().concat(a.substring(1)),u="Unable to render <".concat(s," /> because window.").concat(i,".").concat(l," is undefined."),c=typeof n=="string"?n:n.join(",");if(!c.includes(a)){var d=[c,a].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(a,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return u}function sa(e){var s=e,a=_e;s[a];var r=ea(s,[a+""]);return"react-paypal-js-".concat(Ci(JSON.stringify(r)))}function Ri(e){var s=self.document.querySelector("script[".concat(_e,'="').concat(e,'"]'));s!=null&&s.parentNode&&s.parentNode.removeChild(s)}function Ii(e,s){var a,r;switch(s.type){case oe.LOADING_STATUS:return typeof s.value=="object"?L(L({},e),{loadingStatus:s.value.state,loadingStatusErrorMessage:s.value.message}):L(L({},e),{loadingStatus:s.value});case oe.RESET_OPTIONS:return Ri(e.options[_e]),L(L({},e),{loadingStatus:H.PENDING,options:L(L((a={},a[he.DATA_SDK_INTEGRATION_SOURCE]=he.DATA_LIBRARY_VALUE,a),s.value),(r={},r[_e]="".concat(sa(s.value)),r))});case oe.SET_BRAINTREE_INSTANCE:return L(L({},e),{braintreePayPalCheckoutInstance:s.value});default:return e}}var aa=w.createContext(null);function Oi(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(Pi)}function Mi(){var e=Oi(w.useContext(aa)),s=L(L({},e),{isInitial:e.loadingStatus===H.INITIAL,isPending:e.loadingStatus===H.PENDING,isResolved:e.loadingStatus===H.RESOLVED,isRejected:e.loadingStatus===H.REJECTED});return[s,e.dispatch]}w.createContext({});function _i(e){var s=w.useRef(new Proxy({},{get:function(a,r,n){return typeof a[r]=="function"?function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return a[r].apply(a,o)}:Reflect.get(a,r,n)}}));return s.current=Object.assign(s.current,e),s.current}var Ot=function(e){var s,a=e.className,r=a===void 0?"":a,n=e.disabled,o=n===void 0?!1:n,i=e.children,l=e.forceReRender,u=l===void 0?[]:l,c=ea(e,["className","disabled","children","forceReRender"]),d=o?{opacity:.38}:{},f="".concat(r," ").concat(o?"paypal-buttons-disabled":"").trim(),x=w.useRef(null),h=w.useRef(null),g=_i(c),v=Mi()[0],p=v.isResolved,N=v.options,j=w.useState(null),b=j[0],S=j[1],C=w.useState(!0),k=C[0],E=C[1],R=w.useState(null),I=R[1];function P(){h.current!==null&&h.current.close().catch(function(){})}return!((s=h.current)===null||s===void 0)&&s.updateProps&&h.current.updateProps({message:c.message}),w.useEffect(function(){if(p===!1)return P;var O=Ai(N.dataNamespace);if(O===void 0||O.Buttons===void 0)return I(function(){throw new Error(Ti({reactComponentName:Ot.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[he.DATA_NAMESPACE]}))}),P;var F=function(_,J){S(J),typeof c.onInit=="function"&&c.onInit(_,J)};try{h.current=O.Buttons(L(L({},g),{onInit:F}))}catch(_){return I(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(_))})}return h.current.isEligible()===!1?(E(!1),P):(x.current&&h.current.render(x.current).catch(function(_){x.current===null||x.current.children.length===0||I(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(_))})}),P)},is(is([p],u,!0),[c.fundingSource],!1)),w.useEffect(function(){b!==null&&(o===!0?b.disable().catch(function(){}):b.enable().catch(function(){}))},[o,b]),ie.createElement(ie.Fragment,null,k?ie.createElement("div",{ref:x,style:d,className:f}):i)};Ot.displayName="PayPalButtons";function Di(e,s){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}function Fi(e,s){var a=document.querySelector('script[src="'.concat(e,'"]'));if(a===null)return null;var r=ra(e,s),n=a.cloneNode();if(delete n.dataset.uidAuto,Object.keys(n.dataset).length!==Object.keys(r.dataset).length)return null;var o=!0;return Object.keys(n.dataset).forEach(function(i){n.dataset[i]!==r.dataset[i]&&(o=!1)}),o?a:null}function Li(e){var s=e.url,a=e.attributes,r=e.onSuccess,n=e.onError,o=ra(s,a);o.onerror=n,o.onload=r,document.head.insertBefore(o,document.head.firstElementChild)}function $i(e){var s=e.sdkBaseUrl,a=e.environment,r=Di(e,["sdkBaseUrl","environment"]),n=s||qi(a),o=r,i=Object.keys(o).filter(function(c){return typeof o[c]<"u"&&o[c]!==null&&o[c]!==""}).reduce(function(c,d){var f=o[d].toString();return d=Ui(d),d.substring(0,4)==="data"||d==="crossorigin"?c.attributes[d]=f:c.queryParams[d]=f,c},{queryParams:{},attributes:{}}),l=i.queryParams,u=i.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(n,"?").concat(Bi(l)),attributes:u}}function Ui(e){var s=function(a,r){return(r?"-":"")+a.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,s)}function Bi(e){var s="";return Object.keys(e).forEach(function(a){s.length!==0&&(s+="&"),s+=a+"="+e[a]}),s}function qi(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function ra(e,s){s===void 0&&(s={});var a=document.createElement("script");return a.src=e,Object.keys(s).forEach(function(r){a.setAttribute(r,s[r]),r==="data-csp-nonce"&&a.setAttribute("nonce",s["data-csp-nonce"])}),a}function Hi(e,s){if(s===void 0&&(s=Promise),na(e,s),typeof document>"u")return s.resolve(null);var a=$i(e),r=a.url,n=a.attributes,o=n["data-namespace"]||"paypal",i=os(o);return n["data-js-sdk-library"]||(n["data-js-sdk-library"]="paypal-js"),Fi(r,n)&&i?s.resolve(i):zi({url:r,attributes:n},s).then(function(){var l=os(o);if(l)return l;throw new Error("The window.".concat(o," global variable is not available."))})}function zi(e,s){s===void 0&&(s=Promise),na(e,s);var a=e.url,r=e.attributes;if(typeof a!="string"||a.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new s(function(n,o){if(typeof document>"u")return n();Li({url:a,attributes:r,onSuccess:function(){return n()},onError:function(){var i=new Error('The script "'.concat(a,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return o(i)}})})}function os(e){return window[e]}function na(e,s){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var a=e.environment;if(a&&a!=="production"&&a!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof s<"u"&&typeof s!="function")throw new Error("Expected PromisePonyfill to be a function.")}var Wi=function(e){var s,a=e.options,r=a===void 0?{clientId:"test"}:a,n=e.children,o=e.deferLoading,i=o===void 0?!1:o,l=w.useReducer(Ii,{options:L(L({},r),(s={},s[he.DATA_JS_SDK_LIBRARY]=he.DATA_LIBRARY_VALUE,s[he.DATA_SDK_INTEGRATION_SOURCE]=he.DATA_LIBRARY_VALUE,s[_e]="".concat(sa(r)),s)),loadingStatus:i?H.INITIAL:H.PENDING}),u=l[0],c=l[1];return w.useEffect(function(){if(i===!1&&u.loadingStatus===H.INITIAL)return c({type:oe.LOADING_STATUS,value:H.PENDING});if(u.loadingStatus===H.PENDING){var d=!0;return Hi(u.options).then(function(){d&&c({type:oe.LOADING_STATUS,value:H.RESOLVED})}).catch(function(f){console.error("".concat(Ei," ").concat(f)),d&&c({type:oe.LOADING_STATUS,value:{state:H.REJECTED,message:String(f)}})}),function(){d=!1}}},[u.options,i,u.loadingStatus]),ie.createElement(aa.Provider,{value:L(L({},u),{dispatch:c})},n)};function ls(){}w.createContext({cardFieldsForm:null,fields:{},registerField:ls,unregisterField:ls});const Vi=({amount:e,currency:s,description:a,onSuccess:r,onError:n,onPending:o})=>{const i=async()=>{try{o();const c=(await Ce.createNOWPayments({amount:e,currency:s,description:a})).data;c.success?c.data.payment.hostedUrl&&(window.open(c.data.payment.hostedUrl,"_blank"),l(c.data.payment.id)):n(c.message||"Failed to create payment")}catch{n("Failed to initiate payment")}},l=async u=>{const c=setInterval(async()=>{try{const f=(await Ce.getPaymentStatus(u)).data;f.success&&f.data.payment.status==="completed"?(clearInterval(c),r()):f.success&&f.data.payment.status==="failed"&&(clearInterval(c),n("Payment failed"))}catch(d){console.error("Payment status check error:",d)}},5e3);setTimeout(()=>{clearInterval(c),n("Payment timeout")},9e5)};return t.jsxs("button",{onClick:i,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(mt,{className:"w-5 h-5"}),"Pay with NOWPayments ($",e,")"]})},Ji=()=>{const[e,s]=w.useState(!1),[a,r]=w.useState(""),[n,o]=w.useState(!1),[i,l]=w.useState("crypto"),[u,c]=w.useState(null),[d,f]=w.useState("pending"),x=V(),{dispatch:h}=K(),g={clientId:"AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUXlkA59kJXE7M6R",currency:"USD",intent:"capture"},v=async()=>{try{s(!0),r("");const k=await Ce.createPayment({amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer"}),{payment:E}=k.data.data;c(E.id),E.hostedUrl&&window.open(E.hostedUrl,"_blank"),p(E.id)}catch(k){console.error("Crypto payment creation error:",k),r("Failed to create payment. Please try again."),s(!1)}},p=async k=>{const E=setInterval(async()=>{try{const R=await Ce.getPaymentStatus(k),{payment:I}=R.data.data;I.status==="completed"?(f("completed"),o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),clearInterval(E),setTimeout(()=>{x("/compatibility-quiz")},2e3)):I.status==="failed"&&(f("failed"),r("Payment failed. Please try again."),s(!1),clearInterval(E))}catch(R){console.error("Payment status check error:",R)}},5e3);setTimeout(()=>{clearInterval(E),d==="pending"&&(r("Payment timeout. Please try again."),s(!1))},6e5)},N=(k,E)=>(s(!0),r(""),E.order.create({purchase_units:[{amount:{value:"10.00",currency_code:"USD"},description:"SoulSync AI Matchmaking - Limited Launch Offer"}],application_context:{brand_name:"SoulSync",user_action:"PAY_NOW"}})),j=async(k,E)=>{try{const R=await E.order.capture();await Ce.createPayment({amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer",provider:"paypal",providerId:R.id}),console.log("PayPal payment completed:",R),o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{x("/compatibility-quiz")},2e3)}catch(R){console.error("PayPal payment error:",R),r("Payment failed. Please try again."),s(!1)}},b=k=>{console.error("PayPal error:",k),r("Payment failed. Please try again."),s(!1)},S=()=>{s(!1),r("Payment was cancelled.")},C=()=>{s(!0),r(""),setTimeout(()=>{o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{x("/compatibility-quiz")},2e3)},2e3)};return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full mb-6",children:t.jsx(pt,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Payment Successful! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:"Welcome to SoulSync! Let's find your perfect match."}),t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full"})]})}):t.jsx(Wi,{options:g,children:t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mb-4",children:t.jsx(je,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Limited Launch Offer"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Unlock SoulSync AI Matchmaking & Premium Chat"}),t.jsxs("div",{className:"bg-gradient-to-r from-pink-500/20 to-purple-600/20 border border-pink-500/30 rounded-xl p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(le,{className:"w-5 h-5 text-yellow-400",fill:"currentColor"}),t.jsx("span",{className:"text-2xl font-bold text-white",children:"$10"}),t.jsx("span",{className:"text-gray-400 line-through",children:"$29"})]}),t.jsx("p",{className:"text-sm text-gray-300",children:"We're invite-only. Your payment ensures real users & accurate matching."})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Ae,{className:"w-5 h-5 text-yellow-400"}),"What You Get:"]}),t.jsx("div",{className:"space-y-3",children:["AI-Powered Compatibility Matching","Unlimited Premium Chat Features","Advanced Personality Analysis","Smart Date Location Finder","Priority Match Recommendations"].map((k,E)=>t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+E*.1},className:"flex items-center gap-3",children:[t.jsx(pt,{className:"w-5 h-5 text-green-400"}),t.jsx("span",{className:"text-gray-300",children:k})]},k))})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[t.jsx(ht,{className:"w-5 h-5"}),"Payment Method"]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("crypto"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="crypto"?"border-orange-500 bg-orange-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-orange-400"}`,children:[t.jsx(Mt,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"Crypto"}),t.jsx("div",{className:"text-xs opacity-75",children:"Recommended"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("paypal"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="paypal"?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx(ht,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"PayPal"}),t.jsx("div",{className:"text-xs opacity-75",children:"Fallback"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("nowpayments"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="nowpayments"?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx(mt,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"NOW"}),t.jsx("div",{className:"text-xs opacity-75",children:"Payments"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("demo"),className:`p-3 rounded-xl border-2 transition-all text-center ${i==="demo"?"border-green-500 bg-green-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-green-400"}`,children:[t.jsx(_t,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"Demo"}),t.jsx("div",{className:"text-xs opacity-75",children:"Testing"})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Secure Payment"}),t.jsx("p",{className:"text-sm text-gray-400",children:i==="crypto"?"Pay securely with Bitcoin, Ethereum, or other cryptocurrencies":i==="paypal"?"Pay securely with PayPal or credit card":"Demo payment for testing purposes"})]}),a&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:a})}),i==="crypto"&&u&&t.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-orange-500/20 border border-orange-500/30 rounded-lg p-3 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(mt,{className:"w-4 h-4 text-orange-400"}),t.jsx("span",{className:"text-orange-400 text-sm font-medium",children:"Crypto Payment"})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:"Payment page opened in new tab. Please complete payment there."}),t.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Status: ",d==="pending"?"Waiting for payment...":d]})]}),i==="crypto"?t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:v,disabled:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(Mt,{className:"w-5 h-5"}),e?"Creating Payment...":"Pay with Crypto ($10)"]}):i==="paypal"?t.jsx("div",{className:"paypal-button-container",children:t.jsx(Ot,{style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",height:45},createOrder:N,onApprove:j,onError:b,onCancel:S,disabled:e})}):i==="nowpayments"?t.jsx(Vi,{amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer",onSuccess:()=>{o(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{x("/compatibility-quiz")},2e3)},onError:k=>{r(k),s(!1)},onPending:()=>{s(!0),r("")}}):t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:C,disabled:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(_t,{className:"w-5 h-5"}),e?"Processing Demo Payment...":"Complete Demo Payment ($10)"]}),e&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300",children:i==="crypto"?"Creating crypto payment...":"Processing payment..."})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsxs("p",{className:"text-xs text-gray-400 flex items-center justify-center gap-1",children:[t.jsx(je,{className:"w-3 h-3"}),i==="crypto"?"Secured by Coinbase Commerce & blockchain technology":i==="paypal"?"Secured by PayPal & 256-bit SSL encryption":"Demo mode - No real payment processed"]})})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>x(-1),className:"text-gray-400 hover:text-white transition-colors text-sm",children:" Back to quiz"})})]})})})},Qi=()=>{const[e,s]=w.useState(0),[a,r]=w.useState({}),[n,o]=w.useState([]),i=V(),{dispatch:l,state:u}=K();w.useEffect(()=>{const p=Object.keys(u.personalityAnswers),N=Si(4,p),j=ye("communication",2,p),b=ye("relationship",2,p),S=ye("compatibility",1,p),C=[...N,...j,...b,...S].slice(0,8);o(C)},[u.personalityAnswers]);const c=(p,N)=>{r(j=>({...j,[p]:N}))},d=()=>{if(e<n.length-1)s(p=>p+1);else{const p={...u.personalityAnswers,...a};l({type:"SET_COMPATIBILITY_ANSWERS",payload:p}),i("/ai-matching")}},f=()=>{e>0&&s(p=>p-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full"})});const x=(e+1)/n.length*100,h=n[e],g=a[h.id],v=()=>{var p,N,j;switch(h.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(p=h.options)==null?void 0:p.map((b,S)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},onClick:()=>c(h.id,b.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${g===b.value?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400 hover:bg-purple-400/10"}`,children:[b.emoji&&t.jsx("span",{className:"text-2xl",children:b.emoji}),t.jsx("span",{className:"font-medium",children:b.label})]},b.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(N=h.labels)==null?void 0:N[0]}),t.jsx("span",{children:(j=h.labels)==null?void 0:j[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:h.min,max:h.max,value:g||h.min,onChange:b=>c(h.id,parseInt(b.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #8b5cf6 0%, #8b5cf6 ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:h.max-h.min+1},(b,S)=>t.jsx("span",{className:"text-xs text-gray-500",children:h.min+S},S))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-purple-400",children:g||h.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>c(h.id,!0),className:`p-6 rounded-xl border-2 transition-all ${g===!0?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>c(h.id,!1),className:`p-6 rounded-xl border-2 transition-all ${g===!1?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full mb-4",children:t.jsx(Te,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"The magic begins here"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Our AI engine needs your honesty "}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${x}%`},className:"bg-gradient-to-r from-purple-500 to-blue-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[h.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:h.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:h.question}),h.weight>=8&&t.jsx("div",{className:"inline-flex items-center gap-1 bg-yellow-500/20 border border-yellow-500/30 rounded-full px-3 py-1 mb-4",children:t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"High Impact Question"})})]}),v()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(de,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:g==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Find My Match":"Next",t.jsx(Et,{className:"w-5 h-5"})]})]})]})})},Gi=()=>{const[e,s]=w.useState(0),[a,r]=w.useState(0),[n,o]=w.useState(!1),[i,l]=w.useState(null),u=V(),{dispatch:c,state:d}=K(),f=w.useMemo(()=>[{icon:Te,text:"Analyzing your personality profile...",duration:3e3},{icon:U,text:"Processing emotional compatibility vectors...",duration:4e3},{icon:Z,text:"Scanning potential matches...",duration:5e3},{icon:Ae,text:"Calculating relationship chemistry...",duration:3e3}],[]),x=w.useCallback(async()=>{try{o(!0),l(null);const v=d.hasPremium?10:2;if(d.dailyMatchCount>=v)return l(`Daily match limit reached! ${d.hasPremium?"Premium users can match with 10 people per day.":"Free users can only match with 2 people per day."} Please try again tomorrow.`),null;const p=await bi.getPotentialMatches({limit:20,offset:0}),{matches:N}=p.data.data;return N.length===0?(l("No potential matches found. Please try again later."),null):N}catch(v){return console.error("Error fetching potential matches:",v),l("Failed to fetch potential matches. Please try again."),null}finally{o(!1)}},[d.hasPremium,d.dailyMatchCount]),h=w.useCallback(()=>{let v=7;return v+=Math.random()*3,Math.min(10,Math.max(7,v))},[]);w.useEffect(()=>{const v=f.reduce((j,b)=>j+b.duration,0);let p=0;const N=setInterval(()=>{p+=100;const j=p/v*100;s(j);let b=0;for(let S=0;S<f.length;S++)if(b+=f[S].duration,p<=b){r(S);break}p>=v&&(clearInterval(N),setTimeout(async()=>{try{const S=await x();if(!S)return;const C=d.rejectedMatches.map(E=>E.id),k=S.filter(E=>!C.includes(E.id));if(k.length===0){c({type:"RESET_DAILY_MATCHES"});const R=S.map(P=>{var O;return{...P,age:P.age||25,bio:P.bio||"No bio available",interests:P.interests||[],photo:((O=P.photos)==null?void 0:O[0])||"/default-avatar.png",compatibility:Math.round(h()*10)/10}});R.sort((P,O)=>O.compatibility-P.compatibility);const I=R[0];I?(c({type:"SET_MATCH",payload:I}),u("/match-reveal")):l("No compatible matches found. Please try again later.")}else{const E=k.map(I=>{var P;return{...I,age:I.age||25,bio:I.bio||"No bio available",interests:I.interests||[],photo:((P=I.photos)==null?void 0:P[0])||"/default-avatar.png",compatibility:Math.round(h()*10)/10}});E.sort((I,P)=>P.compatibility-I.compatibility);const R=E[0];R?(c({type:"SET_MATCH",payload:R}),u("/match-reveal")):l("No compatible matches found. Please try again later.")}}catch(S){console.error("Error in matching process:",S),l("Failed to find matches. Please try again.")}},1e3))},100);return()=>clearInterval(N)},[f,x,d.rejectedMatches,d.compatibilityAnswers,c,u,h]);const g=()=>{l(null),s(0),r(0),window.location.reload()};return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-600 rounded-full mb-6",children:t.jsx(Re,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Oops! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:i}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Try Again"})]})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsxs(m.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:4,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-full mb-8 relative",children:[t.jsx(U,{className:"w-12 h-12 text-white",fill:"currentColor"}),[...Array(6)].map((v,p)=>t.jsx(m.div,{className:"absolute w-2 h-2 bg-white rounded-full",animate:{rotate:[0,360],x:[20,-20,20],y:[20,-20,20]},transition:{duration:3+p*.5,repeat:1/0,ease:"linear",delay:p*.5},style:{top:"50%",left:"50%",transform:`rotate(${p*60}deg) translateX(40px)`}},p))]}),t.jsx(m.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"SoulSyncing You Now..."}),t.jsx(m.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-300 text-lg mb-8 max-w-sm mx-auto",children:"Your answers are being analyzed by our AI compatibility engine. We're finding someone who gets you. "}),t.jsx("div",{className:"space-y-6 mb-8",children:f.map((v,p)=>{const N=v.icon,j=p===a,b=p<a;return t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:j||b?1:.4,x:0,scale:j?1.05:1},transition:{delay:p*.2},className:`flex items-center gap-4 p-4 rounded-xl backdrop-blur-sm ${j?"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30":"bg-white/5 border border-white/10"}`,children:[t.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full ${j||b?"bg-gradient-to-r from-pink-500 to-purple-500":"bg-white/10"}`,children:t.jsx(N,{className:"w-6 h-6 text-white"})}),t.jsx("div",{className:"flex-1 text-left",children:t.jsx("p",{className:`font-medium ${j?"text-white":"text-gray-400"}`,children:v.text})}),j&&t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full"})]},p)})}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-3 mb-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${e}%`},className:"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 h-3 rounded-full relative overflow-hidden",transition:{duration:.5},children:t.jsx(m.div,{animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12"})})}),t.jsxs("p",{className:"text-gray-400 text-sm",children:[Math.round(e),"% Complete"]}),n&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300",children:"Finding your perfect match..."})]}),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((v,p)=>t.jsx(m.div,{className:"absolute text-pink-400/20",initial:{y:"100vh",x:Math.random()*window.innerWidth},animate:{y:"-10vh",x:Math.random()*window.innerWidth,rotate:[0,360]},transition:{duration:Math.random()*10+10,repeat:1/0,delay:Math.random()*5,ease:"linear"},children:t.jsx(U,{className:"w-4 h-4",fill:"currentColor"})},p))})]})})},Yi=({user:e,isOpen:s,onClose:a,onAction:r,showActions:n=!0})=>{const[o,i]=w.useState(0),l=e.photos||[],u=()=>{l.length>1&&i(f=>(f+1)%l.length)},c=()=>{l.length>1&&i(f=>(f-1+l.length)%l.length)},d=f=>{f.target===f.currentTarget&&a()};return s?t.jsx(ce,{children:t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:d,children:t.jsxs(m.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl overflow-hidden max-w-md w-full max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e.name}),e.compatibility&&t.jsxs("div",{className:"flex items-center gap-1 bg-pink-100 px-2 py-1 rounded-full",children:[t.jsx(le,{className:"w-4 h-4 text-pink-500 fill-current"}),t.jsxs("span",{className:"text-pink-600 font-semibold text-sm",children:[e.compatibility,"/10"]})]})]}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:t.jsx(Pt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsx("div",{className:"relative aspect-square bg-gray-100",children:l.length>0?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:l[o],alt:`${e.name} - Photo ${o+1}`,className:"w-full h-full object-cover"}),l.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:c,className:"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors",children:t.jsx(oa,{className:"w-5 h-5"})}),t.jsx("button",{onClick:u,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors",children:t.jsx(kt,{className:"w-5 h-5"})}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:l.map((f,x)=>t.jsx("button",{onClick:()=>i(x),className:`w-2 h-2 rounded-full transition-all ${x===o?"bg-white scale-125":"bg-white/50"}`},x))})]})]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-400",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center",children:t.jsx(la,{className:"w-8 h-8"})}),t.jsx("p",{children:"No photos available"})]})})}),t.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(Ie,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.age," years old"]})]}),e.location&&t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(we,{className:"w-4 h-4"}),t.jsx("span",{children:e.location})]})]}),e.bio&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"About"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.bio})]}),e.interests&&e.interests.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.interests.map((f,x)=>t.jsx("span",{className:"px-3 py-1 bg-coral-100 text-coral-700 rounded-full text-sm",children:f},x))})]})]}),n&&r&&t.jsxs("div",{className:"p-4 border-t border-gray-200 flex gap-3",children:[t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r("pass"),className:"flex-1 py-3 px-6 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Pass"}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r("like"),className:"flex-1 py-3 px-6 bg-gradient-to-r from-pink-500 to-coral-500 text-white rounded-xl font-semibold hover:from-pink-600 hover:to-coral-600 transition-all flex items-center justify-center gap-2",children:[t.jsx(U,{className:"w-5 h-5 fill-current"}),"Like"]})]})]})})}):null},Ki=()=>{var v;const[e,s]=w.useState(!1),[a,r]=w.useState(!1),[n,o]=w.useState(!1),i=V(),{state:l,dispatch:u}=K(),c=l.currentMatch,d=[{id:"2",name:"Alex",age:26,bio:"Coffee enthusiast and weekend hiker. Looking for someone to explore the city with.",interests:["Coffee","Hiking","Art","Music"],compatibility:9.2,photo:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1212984/pexels-photo-1212984.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"San Francisco, CA"},{id:"3",name:"Jordan",age:30,bio:"Bookworm by day, chef by night. Love trying new recipes and cozy conversations.",interests:["Reading","Cooking","Wine","Theater"],compatibility:8.9,photo:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1819483/pexels-photo-1819483.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"Oakland, CA"},{id:"4",name:"Sam",age:29,bio:"Fitness enthusiast and dog lover. Always up for outdoor adventures and good conversations.",interests:["Fitness","Dogs","Outdoor","Photography"],compatibility:8.7,photo:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1065084/pexels-photo-1065084.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1559486/pexels-photo-1559486.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"Berkeley, CA"},{id:"5",name:"Riley",age:27,bio:"Creative soul with a passion for music and art. Looking for deep connections and shared experiences.",interests:["Music","Art","Writing","Travel"],compatibility:8.5,photo:"https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1385472/pexels-photo-1385472.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"San Jose, CA"}];if(!c)return i("/ai-matching"),null;const f=[{label:"Emotional Intelligence",score:Math.round((c.compatibility-1)*10)/10},{label:"Communication Style",score:Math.round((c.compatibility-.3)*10)/10},{label:"Life Goals",score:Math.round((c.compatibility+.1)*10)/10},{label:"Humor Compatibility",score:Math.round((c.compatibility-.4)*10)/10},{label:"Values Alignment",score:Math.round((c.compatibility-.1)*10)/10}],x=async()=>{var p,N,j;s(!0);try{await ss.createMatch({matchedUserId:c.id,compatibilityScore:c.compatibility}),u({type:"ACCEPT_MATCH",payload:c}),i("/chat")}catch(b){console.error("Error creating match:",b),(j=(N=(p=b.response)==null?void 0:p.data)==null?void 0:N.message)!=null&&j.includes("Daily match limit")?(M.error("Daily match limit reached! You can only match with 2 people per day."),r(!0)):M.error("Failed to create match. Please try again."),s(!1)}},h=async()=>{var p,N,j;s(!0);try{await ss.createMatch({matchedUserId:c.id,compatibilityScore:c.compatibility}),u({type:"REJECT_MATCH",payload:c});const b=new Date().toDateString(),C=l.lastMatchDate!==b?1:l.dailyMatchCount+1,k=l.hasPremium?10:2;if(C>=k)r(!0),s(!1);else{const E=[...l.rejectedMatches.map(I=>I.id),c.id],R=d.find(I=>!E.includes(I.id));R?setTimeout(()=>{u({type:"SET_MATCH",payload:R}),s(!1)},1500):(r(!0),s(!1))}}catch(b){console.error("Error creating match:",b),(j=(N=(p=b.response)==null?void 0:p.data)==null?void 0:N.message)!=null&&j.includes("Daily match limit")?(M.error("Daily match limit reached! You can only match with 2 people per day."),r(!0)):M.error("Failed to process match. Please try again."),s(!1)}},g=p=>{o(!1),p==="like"?x():h()};return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mb-6",children:t.jsx(Re,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Daily Match Limit Reached"}),t.jsx("p",{className:"text-gray-300 text-lg mb-6 max-w-sm mx-auto",children:"You've seen your 2 matches for today. Quality over quantity - come back tomorrow for fresh connections! "}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Why the limit?"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("p",{children:" Prevents decision fatigue"}),t.jsx("p",{children:" Ensures thoughtful connections"}),t.jsx("p",{children:" Better matches with fresh perspective"}),t.jsx("p",{children:" Quality over quantity approach"})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i("/"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Return Tomorrow"}),t.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"New matches available in 24 hours"})]})}):t.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"w-full max-w-lg",children:[t.jsx(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-4",children:t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 border border-white/20 rounded-full px-4 py-2",children:[t.jsx(U,{className:"w-4 h-4 text-pink-400",fill:"currentColor"}),t.jsxs("span",{className:"text-white text-sm",children:["Match ",l.dailyMatchCount+1," of 2 today"]})]})}),t.jsx(m.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.5,duration:1,ease:"easeOut"},className:"text-center mb-6",children:t.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-full px-6 py-3",children:[t.jsx(ut,{className:"w-5 h-5 text-yellow-400"}),t.jsx("span",{className:"text-white font-semibold",children:"Perfect Match Found!"}),t.jsx(ut,{className:"w-5 h-5 text-yellow-400"})]})}),t.jsxs(m.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"relative inline-block",children:[t.jsx("img",{src:c.photo||((v=c.photos)==null?void 0:v[0])||"https://via.placeholder.com/150",alt:c.name,className:"w-32 h-32 rounded-full object-cover border-4 border-gradient-to-r from-pink-500 to-purple-500 shadow-xl"}),t.jsx(m.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.8,type:"spring"},className:"absolute -top-2 -right-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full p-2 border-4 border-white/20",children:t.jsx("div",{className:"text-white text-xs font-bold",children:c.compatibility})})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mt-4",children:[t.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Meet ",c.name]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[t.jsx(le,{className:"w-5 h-5 text-yellow-400",fill:"currentColor"}),t.jsxs("span",{className:"text-2xl font-bold text-pink-400",children:[c.compatibility,"/10"]}),t.jsx("span",{className:"text-gray-300",children:"compatibility match"})]}),t.jsx("p",{className:"text-gray-300 text-sm max-w-sm mx-auto",children:"SoulSync says you two really feel each other "})]})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.9},children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:["About ",c.name]}),t.jsx("p",{className:"text-gray-300",children:c.bio}),c.location&&t.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[" ",c.location]})]}),c.photos&&c.photos.length>1&&t.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"bg-white/5 rounded-lg p-3",children:t.jsxs("p",{className:"text-gray-300 text-sm",children:[" ",c.photos.length," photos available in full profile"]})}),t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1},children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Shared Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:c.interests.map((p,N)=>t.jsx(m.span,{initial:{scale:0},animate:{scale:1},transition:{delay:1.3+N*.1},className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 text-pink-300 px-3 py-1 rounded-full text-sm",children:p},p))})]}),t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Compatibility Breakdown"}),t.jsx("div",{className:"space-y-3",children:f.map((p,N)=>t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.7+N*.1},className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300 text-sm",children:p.label}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 h-2 bg-white/10 rounded-full overflow-hidden",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${p.score/10*100}%`},transition:{delay:1.9+N*.1,duration:.5},className:"h-full bg-gradient-to-r from-pink-500 to-purple-600 rounded-full"})}),t.jsx("span",{className:"text-pink-400 font-semibold text-sm",children:p.score})]})]},p.label))})]})]}),t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"px-6 pb-4",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(!0),className:"w-full bg-white/10 border border-white/20 text-white py-3 px-6 rounded-xl font-medium mb-4 hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[t.jsx(Oe,{className:"w-5 h-5"}),"View Full Profile"]})})]},c.id),t.jsx(ce,{children:!e&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:2.2},className:"mt-6 flex gap-4",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,className:"flex-1 bg-white/10 border border-red-500/30 text-red-400 py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-red-500/10 transition-all",children:[t.jsx(Pt,{className:"w-5 h-5"}),"Pass"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 hover:shadow-lg transition-all",children:[t.jsx(U,{className:"w-5 h-5",fill:"currentColor"}),"Like"]})]})}),t.jsx(ce,{children:e&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full mb-2"}),t.jsx("p",{className:"text-gray-300",children:l.dailyMatchCount>=1?"Finding your next match...":"Processing your choice..."})]})}),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[...Array(15)].map((p,N)=>t.jsx(m.div,{className:"absolute text-pink-400/40",initial:{y:window.innerHeight+50,x:Math.random()*window.innerWidth,rotate:0,scale:Math.random()*.5+.5},animate:{y:-50,rotate:360,x:Math.random()*window.innerWidth},transition:{duration:Math.random()*3+4,delay:Math.random()*2,ease:"easeOut"},children:t.jsx(U,{className:"w-6 h-6",fill:"currentColor"})},N))})]}),t.jsx(Yi,{user:{...c,photos:c.photos||[c.photo].filter(Boolean)},isOpen:n,onClose:()=>o(!1),onAction:g,showActions:!0})]})},Xi=()=>{var l,u;const[e,s]=w.useState(!1),a=V(),{state:r,dispatch:n}=K(),o=[{icon:ca,label:"Edit Profile",path:"/edit-profile"},{icon:ht,label:"Billing & Payments",path:"/billing"},{icon:Z,label:"Refer Friends",path:"/refer-friend"},{icon:U,label:"Match History",path:"/match-history"},{icon:ds,label:"Notifications",path:"/notifications"},{icon:He,label:"Privacy & Safety",path:"/privacy"},{icon:us,label:"Settings",path:"/settings"},{icon:Z,label:"Production Features",path:"/production-features"},{icon:da,label:"Help & Support",path:"/help"}],i=()=>{n({type:"SET_USER",payload:null}),a("/")};return t.jsxs("div",{className:"relative",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!e),className:"relative flex items-center justify-center w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full border-2 border-white/20 hover:border-white/40 transition-all",children:[t.jsx(me,{className:"w-5 h-5 text-white"}),t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-slate-900"})]}),t.jsx(ce,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),t.jsxs(m.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute top-12 right-0 w-72 backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl z-50 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(me,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:((l=r.user)==null?void 0:l.name)||"User"}),t.jsx("p",{className:"text-gray-400 text-sm",children:(u=r.user)==null?void 0:u.email})]})]}),t.jsxs("div",{className:"mt-3 inline-flex items-center gap-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-full px-3 py-1",children:[t.jsx(cs,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"Premium Member"})]})]}),t.jsx("div",{className:"py-2",children:o.map((c,d)=>t.jsxs(m.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},onClick:()=>{a(c.path),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-white/5 transition-all group",children:[t.jsx(c.icon,{className:"w-5 h-5 group-hover:text-pink-400 transition-colors"}),t.jsx("span",{className:"flex-1 text-left",children:c.label}),t.jsx(kt,{className:"w-4 h-4 opacity-50 group-hover:opacity-100 transition-opacity"})]},c.label))}),t.jsx("div",{className:"border-t border-white/10 p-2",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-xl transition-all",children:[t.jsx(ms,{className:"w-5 h-5"}),t.jsx("span",{children:"Sign Out"})]})})]})]})})]})},Zi=()=>{var C;const[e,s]=w.useState(""),[a,r]=w.useState(!0),[n,o]=w.useState(!1),[i,l]=w.useState(null),[u,c]=w.useState([]),d=w.useRef(null),f=V(),{state:x,dispatch:h}=K(),g=x.acceptedMatch||x.currentMatch,v=["I see you love travel! What's your dream destination? ","Your photography skills look amazing! What's your favorite subject? ","Fellow foodie here! What's your go-to comfort food? ","I love that you're into yoga! How long have you been practicing? "],p=["You both love sushi  ask about their favorite place!","They mentioned hiking  share your favorite trail!","Perfect time to suggest meeting up! "],N=async k=>{try{const E=await as.getConversation(k,{limit:50,offset:0}),{messages:R}=E.data.data;h({type:"SET_MESSAGES",payload:R.map(I=>({id:I.id,senderId:I.senderId,content:I.content,timestamp:new Date(I.createdAt),isRead:I.isRead}))})}catch(E){console.error("Error fetching messages:",E),l("Failed to load messages")}};if(w.useEffect(()=>{g&&N(g.id)},[g]),w.useEffect(()=>{var k;(k=d.current)==null||k.scrollIntoView({behavior:"smooth"})},[x.messages]),w.useEffect(()=>{x.messages.length===0&&g&&(h({type:"ADD_MESSAGE",payload:{senderId:g.id,content:"Hey! I'm so excited we matched! Your profile really caught my attention "}}),setTimeout(()=>{h({type:"ADD_MESSAGE",payload:{senderId:g.id,content:"Our compatibility score is incredible! I'd love to get to know you better "}})},2e3))},[g,x.messages.length,h]),!g)return f("/"),null;const j=async k=>{var E;if(!(!k.trim()||!g))try{o(!0),l(null),await as.sendMessage({receiverId:g.id,content:k.trim()}),h({type:"ADD_MESSAGE",payload:{senderId:((E=x.user)==null?void 0:E.id)||"user",content:k.trim(),timestamp:new Date}}),s(""),r(!1),x.messages.filter(R=>{var I;return R.senderId===((I=x.user)==null?void 0:I.id)}).length>=4&&setTimeout(()=>{h({type:"ADD_MESSAGE",payload:{senderId:g.id,content:"This conversation is going so well! Would you like to meet up sometime? I know a great place we could check out together "}}),setTimeout(()=>{S(!0)},3e3)},1500)}catch(R){console.error("Error sending message:",R),l("Failed to send message. Please try again.")}finally{o(!1)}},[b,S]=w.useState(!1);return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-600 rounded-full mb-6",children:t.jsx(Re,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Oops! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:i}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Try Again"})]})}):t.jsxs("div",{className:"min-h-screen flex flex-col",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border-b border-white/20 p-4 flex items-center gap-4",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(de,{className:"w-5 h-5 text-white"})}),t.jsx("img",{src:g.photo||((C=g.photos)==null?void 0:C[0])||"https://via.placeholder.com/48",alt:g.name,className:"w-12 h-12 rounded-full object-cover border-2 border-pink-500/50"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-white font-semibold",children:g.name}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-400",children:[t.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Online now"]})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-pink-500/20 border border-pink-500/30 rounded-full px-3 py-1",children:[t.jsx(U,{className:"w-4 h-4 text-pink-400",fill:"currentColor"}),t.jsx("span",{className:"text-pink-400 font-semibold text-sm",children:g.compatibility||"9.2"})]}),t.jsx(Xi,{})]}),t.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[t.jsx(ce,{children:x.messages.map(k=>{var R;const E=k.senderId===((R=x.user)==null?void 0:R.id);return t.jsx(m.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:500,damping:30},className:`flex ${E?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${E?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-white/10 backdrop-blur-sm text-gray-100 border border-white/20"} ${E?"rounded-br-sm":"rounded-bl-sm"}`,children:[t.jsx("p",{children:k.content}),t.jsx("p",{className:`text-xs mt-1 ${E?"text-pink-100":"text-gray-400"}`,children:k.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},k.id||Math.random())})}),x.messages.length>2&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:"SoulSync AI suggests:"})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:p[Math.floor(Math.random()*p.length)]})]}),t.jsx(ce,{children:b&&t.jsxs(m.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(we,{className:"w-5 h-5 text-pink-400"}),t.jsx("span",{className:"text-white font-semibold",children:"Things are heating up!"})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Want to meet? Enter your zip codes, and we'll find a romantic spot midway."}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f("/date-planner"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2",children:[t.jsx(Ie,{className:"w-4 h-4"}),"Plan Our Date"]})]})}),t.jsx("div",{ref:d})]}),a&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border-t border-white/10",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-3 text-center",children:"Conversation starters:"}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map((k,E)=>t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(k),disabled:n,className:"bg-white/10 backdrop-blur-sm border border-white/20 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap hover:bg-pink-500/20 hover:border-pink-500/30 hover:text-white transition-all disabled:opacity-50",children:k},E))})]}),t.jsxs("div",{className:"p-4 border-t border-white/10",children:[t.jsxs("form",{onSubmit:k=>{k.preventDefault(),j(e)},className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:e,onChange:k=>s(k.target.value),placeholder:"Type a message...",disabled:n,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-6 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all disabled:opacity-50"}),t.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(ua,{className:"w-5 h-5 text-gray-400"})})]}),t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:!e.trim()||n,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white p-3 rounded-full disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:t.jsx(ma,{className:"w-5 h-5"})})]}),n&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-4 h-4 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300 text-sm",children:"Sending message..."})]})]})]})},eo=()=>{const[e,s]=w.useState(""),[a,r]=w.useState(""),[n,o]=w.useState(""),[i,l]=w.useState(!1),[u,c]=w.useState([]),[d,f]=w.useState(null),x=V(),{state:h}=K(),g=h.currentMatch,v=[{value:"romantic",label:"Romantic Dinner",emoji:""},{value:"casual",label:"Casual Coffee",emoji:""},{value:"active",label:"Active Date",emoji:""},{value:"cultural",label:"Cultural Experience",emoji:""},{value:"drinks",label:"Cocktails & Drinks",emoji:""}],p=[{id:1,name:"The Velvet Room",type:"Italian Restaurant",rating:4.8,priceRange:"$$$",description:"Candlelit Italian dining with intimate ambiance",address:"123 Romance St",distance:"15 min from both",image:"https://images.pexels.com/photos/67468/pexels-photo-67468.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Candlelit","Wine Selection","Outdoor Seating"]},{id:2,name:"Sunset Rooftop",type:"Wine Bar",rating:4.9,priceRange:"$$",description:"Stunning city views with craft cocktails",address:"456 Skyline Ave",distance:"12 min from both",image:"https://images.pexels.com/photos/1581384/pexels-photo-1581384.jpeg?auto=compress&cs=tinysrgb&w=400",features:["City Views","Craft Cocktails","Live Music"]},{id:3,name:"Garden Caf",type:"Coffee & Brunch",rating:4.7,priceRange:"$$",description:"Charming garden setting perfect for conversation",address:"789 Garden Way",distance:"18 min from both",image:"https://images.pexels.com/photos/1307698/pexels-photo-1307698.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Garden Setting","Brunch Menu","Pet Friendly"]}],N=async()=>{!e||!a||!n||(l(!0),await new Promise(b=>setTimeout(b,2e3)),c(p),l(!1))},j=b=>{f(b)};return g?t.jsx("div",{className:"min-h-screen p-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(de,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Plan Your Date"}),t.jsxs("p",{className:"text-gray-300",children:["with ",g.name]})]})]}),u.length?t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Perfect Spots Found! "}),t.jsx("p",{className:"text-gray-300",children:"Romantic locations midway between you both"})]}),t.jsx("div",{className:"space-y-4",children:u.map(b=>t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:`backdrop-blur-xl border-2 rounded-2xl overflow-hidden cursor-pointer transition-all ${(d==null?void 0:d.id)===b.id?"border-pink-500 bg-pink-500/10":"border-white/20 bg-white/10 hover:border-pink-400/50"}`,onClick:()=>j(b),children:t.jsxs("div",{className:"flex",children:[t.jsx("img",{src:b.image,alt:b.name,className:"w-32 h-32 object-cover"}),t.jsxs("div",{className:"flex-1 p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:b.name}),t.jsx("p",{className:"text-gray-400 text-sm",children:b.type})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"}),t.jsx("span",{className:"text-white font-medium",children:b.rating}),t.jsx("span",{className:"text-gray-400 ml-2",children:b.priceRange})]})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-3",children:b.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(we,{className:"w-4 h-4"}),b.distance]}),t.jsx("div",{children:b.address})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:b.features.map((S,C)=>t.jsx("span",{className:"bg-white/10 text-gray-300 px-2 py-1 rounded-full text-xs",children:S},C))})]})]})},b.id))}),d&&t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"backdrop-blur-xl bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Ie,{className:"w-6 h-6 text-pink-400"}),"Perfect Choice!"]}),t.jsxs("p",{className:"text-gray-300 mb-4",children:["This Friday at 7PM at ",d.name,"? We'll notify ",g.name," about your date suggestion!"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2",children:[t.jsx(Ie,{className:"w-5 h-5"}),"Confirm Date"]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white/10 border border-white/20 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2",children:[t.jsx(pa,{className:"w-5 h-5"}),"View on Map"]})]})]})]}):t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"What kind of date?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(b=>t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(b.value),className:`p-4 rounded-xl border-2 transition-all text-left ${n===b.value?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-2xl mb-2",children:b.emoji}),t.jsx("div",{className:"font-medium",children:b.label})]},b.value))})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(we,{className:"w-6 h-6"}),"Location Details"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Zip Code"}),t.jsx("input",{type:"text",value:e,onChange:b=>s(b.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",placeholder:"Enter your zip code",maxLength:5})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[g.name,"'s Zip Code"]}),t.jsx("input",{type:"text",value:a,onChange:b=>r(b.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",placeholder:"Enter their zip code",maxLength:5})]})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,disabled:!e||!a||!n||i,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:i?t.jsxs(t.Fragment,{children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Finding Perfect Spots..."]}):t.jsxs(t.Fragment,{children:[t.jsx(we,{className:"w-5 h-5"}),"Find Date Locations"]})})]})]})}):(x("/"),null)},to=()=>{const[e,s]=w.useState(0),[a,r]=w.useState({}),[n,o]=w.useState([]),i=V(),{dispatch:l,state:u}=K();w.useEffect(()=>{const p=Object.keys(u.compatibilityAnswers),N=ye("all",5,p);o(N)},[u.compatibilityAnswers]);const c=(p,N)=>{r(j=>({...j,[p]:N}))},d=()=>{if(e<n.length-1)s(p=>p+1);else{const p={...u.compatibilityAnswers,...a};l({type:"SET_COMPATIBILITY_ANSWERS",payload:p}),i("/ai-matching")}},f=()=>{e>0&&s(p=>p-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full"})});const x=(e+1)/n.length*100,h=n[e],g=a[h.id],v=()=>{var p,N,j;switch(h.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(p=h.options)==null?void 0:p.map((b,S)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},onClick:()=>c(h.id,b.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${g===b.value?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400 hover:bg-blue-400/10"}`,children:[b.emoji&&t.jsx("span",{className:"text-2xl",children:b.emoji}),t.jsx("span",{className:"font-medium",children:b.label})]},b.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(N=h.labels)==null?void 0:N[0]}),t.jsx("span",{children:(j=h.labels)==null?void 0:j[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:h.min,max:h.max,value:g||h.min,onChange:b=>c(h.id,parseInt(b.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:h.max-h.min+1},(b,S)=>t.jsx("span",{className:"text-xs text-gray-500",children:h.min+S},S))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-blue-400",children:g||h.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>c(h.id,!0),className:`p-6 rounded-xl border-2 transition-all ${g===!0?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>c(h.id,!1),className:`p-6 rounded-xl border-2 transition-all ${g===!1?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full mb-4",children:t.jsx(ha,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Let's find you better matches"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"A few more questions to improve your compatibility "}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${x}%`},className:"bg-gradient-to-r from-blue-500 to-cyan-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[h.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:h.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:h.question}),h.weight>=8&&t.jsx("div",{className:"inline-flex items-center gap-1 bg-yellow-500/20 border border-yellow-500/30 rounded-full px-3 py-1 mb-4",children:t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"High Impact Question"})})]}),v()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(de,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:g==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Find Better Matches":"Next",t.jsx(Et,{className:"w-5 h-5"})]})]})]})})},so=()=>{var x,h;const[e,s]=w.useState(""),[a,r]=w.useState(!1),[n,o]=w.useState(!1),i=V(),{state:l}=K(),u=`SOUL${(h=(x=l.user)==null?void 0:x.id)==null?void 0:h.slice(-6).toUpperCase()}`,c=`https://soulsync.ai/join?ref=${u}`,d=()=>{navigator.clipboard.writeText(c),r(!0),setTimeout(()=>r(!1),2e3)},f=g=>{g.preventDefault(),e&&(o(!0),s(""),setTimeout(()=>o(!1),3e3))};return t.jsx("div",{className:"min-h-screen p-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(de,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Refer Friends"}),t.jsx("p",{className:"text-gray-300",children:"Share the love, earn rewards"})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-xl bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-2xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(cs,{className:"w-8 h-8 text-pink-400"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Earn $5 for Each Friend"}),t.jsx("p",{className:"text-gray-300",children:"They get 50% off, you get rewarded"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-pink-400",children:"$5"}),t.jsx("div",{className:"text-sm text-gray-300",children:"Per successful referral"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"50%"}),t.jsx("div",{className:"text-sm text-gray-300",children:"Friend's discount"})]})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Z,{className:"w-5 h-5"}),"Your Referral Code"]}),t.jsx("div",{className:"bg-white/5 border border-white/20 rounded-xl p-4 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-2xl font-mono font-bold text-pink-400",children:u}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"flex items-center gap-2 bg-pink-500/20 border border-pink-500/30 text-pink-300 px-3 py-2 rounded-lg text-sm",children:[a?t.jsx(pt,{className:"w-4 h-4"}):t.jsx(fa,{className:"w-4 h-4"}),a?"Copied!":"Copy"]})]})}),t.jsx("div",{className:"bg-white/5 border border-white/20 rounded-xl p-3",children:t.jsx("p",{className:"text-gray-300 text-sm break-all",children:c})})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(At,{className:"w-5 h-5"}),"Send Personal Invite"]}),t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsx("input",{type:"email",value:e,onChange:g=>s(g.target.value),placeholder:"Friend's email address",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",required:!0}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:!e||n,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:n?"Invite Sent! ":"Send Invite"})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(ps,{className:"w-5 h-5"}),"Share on Social"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.open(`https://twitter.com/intent/tweet?text=Just found my perfect match on SoulSync!  Join me with my referral code: ${u}&url=${c}`,"_blank"),className:"bg-blue-500/20 border border-blue-500/30 text-blue-300 py-3 px-4 rounded-xl font-medium hover:bg-blue-500/30 transition-all",children:"Share on Twitter"}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=${c}`,"_blank"),className:"bg-blue-600/20 border border-blue-600/30 text-blue-300 py-3 px-4 rounded-xl font-medium hover:bg-blue-600/30 transition-all",children:"Share on Facebook"})]})]})]})})},ao=()=>{const[e,s]=w.useState("analytics"),[a,r]=w.useState({totalUsers:0,activeMatches:0,successRate:0,revenue:0});w.useEffect(()=>{const i=setInterval(()=>{r(l=>({totalUsers:Math.min(l.totalUsers+Math.floor(Math.random()*3),19247),activeMatches:Math.min(l.activeMatches+Math.floor(Math.random()*2),8934),successRate:Math.min(l.successRate+.1,94.7),revenue:Math.min(l.revenue+Math.floor(Math.random()*50),127450)}))},2e3);return()=>clearInterval(i)},[]);const n={analytics:{title:"Behavioral Analytics & ML Pipeline",icon:Dt,items:[{title:"User Interaction Tracking",description:"Track swipes, message response rates, and conversation quality to improve matching algorithms",icon:Oe,status:"active"},{title:"Machine Learning Pipeline",description:"Continuous learning from successful matches to refine compatibility scoring",icon:Te,status:"active"},{title:"A/B Testing Framework",description:"Test question variations, UI optimizations, and matching algorithms",icon:it,status:"development"},{title:"Retention Analytics",description:"Track daily/monthly active users and match success rates",icon:Z,status:"active"}]},security:{title:"Security & Trust Features",icon:He,items:[{title:"Identity Verification",description:"Phone/email verification and AI-powered photo authentication",icon:ft,status:"active"},{title:"Privacy Controls",description:"Granular privacy settings with end-to-end encryption",icon:je,status:"active"},{title:"Safety Features",description:"Block/report functionality, background checks, emergency contacts",icon:He,status:"development"},{title:"GDPR Compliance",description:"Full compliance with GDPR, CCPA for global market expansion",icon:ft,status:"active"}]},engagement:{title:"Engagement & Growth",icon:Ae,items:[{title:"Push Notifications",description:"Smart notifications for new matches, messages, and engagement",icon:Ae,status:"development"},{title:"Gamification",description:"Daily match limits, streak rewards, and achievement systems",icon:le,status:"active"},{title:"Viral Mechanics",description:"Referral tracking, social proof, and viral sharing features",icon:Z,status:"active"},{title:"Conversion Funnels",description:"Track user journey and optimize drop-off points",icon:it,status:"active"}]},monetization:{title:"Revenue Streams",icon:Be,items:[{title:"Freemium Model",description:"Basic matching free, premium AI insights and features paid",icon:U,status:"active"},{title:"Subscription Tiers",description:"Multiple levels: Basic ($10), Premium ($25), Elite ($50)",icon:le,status:"active"},{title:"Transaction Fees",description:"Commission on successful date bookings and experiences",icon:Be,status:"development"},{title:"Partnership Revenue",description:"Restaurant/venue partnerships, experience packages",icon:Z,status:"development"}]}},o=[{id:"analytics",label:"Analytics & ML",icon:Dt},{id:"security",label:"Security & Trust",icon:He},{id:"engagement",label:"Engagement",icon:Ae},{id:"monetization",label:"Revenue",icon:Be}];return t.jsx("div",{className:"min-h-screen p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"SoulSync Production Dashboard"}),t.jsx("p",{className:"text-gray-300 text-lg",children:"AI-Powered Dating Platform - Production Ready Features"})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Z,{className:"w-6 h-6 text-blue-400"}),t.jsx("span",{className:"text-gray-300",children:"Total Users"})]}),t.jsx("div",{className:"text-3xl font-bold text-white",children:a.totalUsers.toLocaleString()}),t.jsx("div",{className:"text-green-400 text-sm",children:"+12% this month"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(U,{className:"w-6 h-6 text-pink-400"}),t.jsx("span",{className:"text-gray-300",children:"Active Matches"})]}),t.jsx("div",{className:"text-3xl font-bold text-white",children:a.activeMatches.toLocaleString()}),t.jsx("div",{className:"text-green-400 text-sm",children:"+8% this week"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(it,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{className:"text-gray-300",children:"Success Rate"})]}),t.jsxs("div",{className:"text-3xl font-bold text-white",children:[a.successRate.toFixed(1),"%"]}),t.jsx("div",{className:"text-green-400 text-sm",children:"Industry leading"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Be,{className:"w-6 h-6 text-yellow-400"}),t.jsx("span",{className:"text-gray-300",children:"Monthly Revenue"})]}),t.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",a.revenue.toLocaleString()]}),t.jsx("div",{className:"text-green-400 text-sm",children:"+24% growth"})]})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl overflow-hidden",children:[t.jsx("div",{className:"flex border-b border-white/10",children:o.map(i=>{const l=i.icon;return t.jsxs("button",{onClick:()=>s(i.id),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 transition-all ${e===i.id?"bg-gradient-to-r from-pink-500/20 to-purple-500/20 text-white border-b-2 border-pink-500":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[t.jsx(l,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:i.label})]},i.id)})}),t.jsx("div",{className:"p-8",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[ie.createElement(n[e].icon,{className:"w-8 h-8 text-pink-400"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:n[e].title})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n[e].items.map((i,l)=>t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-white/5 border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-xl",children:ie.createElement(i.icon,{className:"w-6 h-6 text-pink-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:i.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:i.status==="active"?"Live":"In Development"})]}),t.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:i.description})]})]})},i.title))})]},e)})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 backdrop-blur-xl bg-gradient-to-r from-pink-500/10 to-purple-500/10 border border-pink-500/20 rounded-2xl p-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Te,{className:"w-8 h-8 text-purple-400"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:"AI Matching Insights"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"19M+"}),t.jsx("div",{className:"text-gray-300",children:"Compatibility Vectors"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:"94.7%"}),t.jsx("div",{className:"text-gray-300",children:"Match Accuracy"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"2.3s"}),t.jsx("div",{className:"text-gray-300",children:"Average Match Time"})]})]})]})]})})},ro=()=>{const[e,s]=w.useState(""),[a,r]=w.useState(""),[n,o]=w.useState(!1),[i,l]=w.useState(!1),u=V(),{signIn:c}=be(),d=async f=>{var x,h,g,v;f.preventDefault(),l(!0);try{await c({email:e,password:a}),M.success("Login successful!"),u("/app")}catch(p){(h=(x=p.response)==null?void 0:x.data)!=null&&h.errors?p.response.data.errors.forEach(N=>M.error(N.msg)):(v=(g=p.response)==null?void 0:g.data)!=null&&v.message?M.error(p.response.data.message):M.error("An unexpected error occurred")}finally{l(!1)}};return t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 right-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 left-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 right-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:t.jsxs(fe,{to:"/",className:"inline-flex items-center gap-2 text-warm-600 hover:text-warm-800 transition-colors",children:[t.jsx(de,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to home"})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(U,{className:"w-10 h-10 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-4xl font-friendly font-bold text-warm-800 mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-warm-600",children:"Sign in to continue your journey"})]}),t.jsxs(m.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onSubmit:d,className:"friendly-card p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-warm-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(At,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none"}),t.jsx("input",{id:"email",type:"email",value:e,onChange:f=>s(f.target.value),required:!0,className:"friendly-input w-full pl-12 pr-4",placeholder:"Enter your email",style:{paddingLeft:44}})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-warm-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(je,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none"}),t.jsx("input",{id:"password",type:n?"text":"password",value:a,onChange:f=>r(f.target.value),required:!0,className:"friendly-input w-full pl-12 pr-12",placeholder:"Enter your password",style:{paddingLeft:44,paddingRight:44}}),t.jsx("button",{type:"button",onClick:()=>o(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors",tabIndex:-1,"aria-label":n?"Hide password":"Show password",children:n?t.jsx(xt,{className:"w-5 h-5"}):t.jsx(Oe,{className:"w-5 h-5"})})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"friendly-button w-full font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:i?t.jsx("span",{className:"loading-dots",children:"Signing In"}):"Sign In"})]}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center space-y-4",children:[t.jsx(fe,{to:"/forgot-password",className:"text-sm text-warm-500 hover:text-coral-500 transition-colors",children:"Forgot your password?"}),t.jsxs("div",{className:"text-warm-600",children:["Don't have an account?"," ",t.jsx(fe,{to:"/register",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign up"})]})]})]})]})},no=({photos:e,onPhotosUpdate:s,maxPhotos:a=6,minPhotos:r=2,className:n="",isRequired:o=!0,showError:i=!1,errorMessage:l=`Please upload at least ${r} photos`})=>{const[u,c]=w.useState(!1),[d,f]=w.useState(""),x=w.useRef(null),h=S=>{if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(S.type))return"Only JPEG, PNG, and WebP images are allowed";const k=10*1024*1024;return S.size>k?`File size (${(S.size/1048576).toFixed(1)}MB) exceeds 10MB limit`:null},g=async S=>{if(S.length===0)return;const C=a-e.length;if(S.length>C){M.error(`Can only add ${C} more photos (max ${a})`);return}c(!0);try{const k=Array.from(S);for(const P of k){const O=h(P);if(O){M.error(`${P.name}: ${O}`),c(!1);return}}const E=k.map(async P=>{const O=new FormData;O.append("image",P);try{const F=await ts.uploadSingle(O);if(F.data.success)return F.data.data.imageUrl;throw new Error(F.data.message||"Upload failed")}catch(F){throw console.error(`Upload error for file ${P.name}:`,F),M.error(`Failed to upload ${P.name}`),F}}),R=await Promise.all(E),I=[...e,...R];s(I),o&&I.length>=r&&f(""),M.success(`Successfully uploaded ${R.length} photo(s)!`)}catch(k){console.error("File upload error:",k),M.error("Failed to upload some images. Please try again.")}finally{c(!1)}},v=S=>{S.target.files&&S.target.files.length>0&&g(S.target.files)},p=()=>{x.current&&x.current.click()},N=async(S,C)=>{try{S.startsWith("data:")||await ts.deletePhoto({imageId:S});const k=e.filter((E,R)=>R!==C);s(k),M.success("Photo deleted successfully")}catch(k){console.error("Delete error:",k),M.error("Failed to delete photo")}},j=e.length>=r,b=(i||d)&&!j;return t.jsxs("div",{className:`space-y-4 ${n}`,children:[t.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all ${b?"border-red-300 bg-red-50":e.length>=a?"border-gray-300 bg-gray-50":u?"border-blue-300 bg-blue-50":"border-warm-300 hover:border-coral-400 hover:bg-coral-50"}`,children:[t.jsx("input",{ref:x,type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:v,style:{display:"none"},disabled:u||e.length>=a}),u?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(xa,{className:"w-8 h-8 text-blue-500 animate-spin"}),t.jsx("p",{className:"text-warm-600",children:"Uploading images..."})]}):e.length>=a?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Re,{className:"w-8 h-8 text-orange-500"}),t.jsxs("p",{className:"text-warm-600",children:["Maximum ",a," photos reached"]}),t.jsx("p",{className:"text-sm text-warm-500",children:"Delete a photo to add new ones"})]}):t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(ya,{className:`w-8 h-8 ${b?"text-red-500":"text-coral-500"}`}),t.jsxs("div",{children:[t.jsx("p",{className:`font-medium ${b?"text-red-700":"text-warm-700"}`,children:"Upload your photos"}),t.jsxs("p",{className:`text-sm ${b?"text-red-600":"text-warm-500"}`,children:[e.length,"/",a," photos  Minimum ",r," required"]})]}),t.jsx("button",{type:"button",onClick:p,disabled:u||e.length>=a,className:"px-6 py-2 bg-coral-500 text-white rounded-lg hover:bg-coral-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Choose Files"}),t.jsxs("div",{className:"bg-warm-100 rounded-lg p-3 mt-2",children:[t.jsx("p",{className:"text-xs text-warm-600 font-medium mb-1",children:" Photo Tips:"}),t.jsxs("ul",{className:"text-xs text-warm-600 space-y-1",children:[t.jsx("li",{children:" Maximum 10MB per photo"}),t.jsx("li",{children:" JPEG, PNG, or WebP formats"}),t.jsx("li",{children:" High quality photos get more matches!"})]})]})]})]}),b&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Re,{className:"w-5 h-5 text-red-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-red-600 text-sm font-medium",children:d||l}),t.jsxs("p",{className:"text-red-500 text-xs mt-1",children:["Add at least ",r-e.length," more photo(s) to continue"]})]})]})}),j&&e.length>=r&&t.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-center gap-2",children:[t.jsx(ft,{className:"w-4 h-4 text-green-500"}),t.jsxs("p",{className:"text-green-600 text-sm",children:["Perfect! You've added ",e.length," photo",e.length>1?"s":""]})]}),e.length>0&&t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.jsx(ce,{children:e.map((S,C)=>t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative group aspect-square rounded-xl overflow-hidden bg-warm-100 border-2 border-transparent hover:border-coral-300 transition-all",children:[t.jsx("img",{src:S,alt:`Photo ${C+1}`,className:"w-full h-full object-cover",loading:"lazy"}),t.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:C+1}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx("button",{onClick:k=>{k.stopPropagation(),N(S,C)},className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:t.jsx(Pt,{className:"w-4 h-4"})})}),C===0&&t.jsx("div",{className:"absolute bottom-2 left-2 bg-coral-500 text-white text-xs px-2 py-1 rounded-full",children:"Primary"})]},`${S}-${C}`))})})]})},io=()=>{var I;const[e,s]=w.useState({name:"",email:"",password:"",confirmPassword:"",age:"",bio:"",location:"",interests:""}),[a,r]=w.useState([]),[n,o]=w.useState({}),[i,l]=w.useState(""),[u,c]=w.useState(!1),[d,f]=w.useState(!1),[x,h]=w.useState(!1),[g,v]=w.useState(!1),p=V(),{signUp:N}=be(),j=(P,O)=>{switch(P){case"name":return O.trim().length<2?"Name must be at least 2 characters":O.trim().length>50?"Name must be less than 50 characters":"";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O)?"":"Please enter a valid email address";case"password":return O.length<6?"Password must be at least 6 characters":O.length>100?"Password is too long":"";case"confirmPassword":return O!==e.password?"Passwords do not match":"";case"age":const _=parseInt(O);return isNaN(_)?"Please enter a valid age":_<18?"You must be at least 18 years old":_>100?"Please enter a valid age":"";default:return""}},b=P=>{const{name:O,value:F}=P.target;if(s(_=>({..._,[O]:F})),n[O]){const _=j(O,F);o(J=>({...J,[O]:_}))}},S=P=>{const{name:O,value:F}=P.target,_=j(O,F);o(J=>({...J,[O]:_}))},C=()=>{const P={};return P.name=j("name",e.name),P.email=j("email",e.email),P.password=j("password",e.password),P.confirmPassword=j("confirmPassword",e.confirmPassword),P.age=j("age",e.age),a.length<2?(l("Please upload at least 2 photos to create your profile"),c(!0),P.general="Please complete all required fields including photos"):(l(""),c(!1)),o(P),!Object.values(P).some(O=>O)&&a.length>=2},k=()=>{var O,F,_;const P={name:e.name.trim(),email:e.email.trim().toLowerCase(),password:e.password,age:parseInt(e.age)};return(O=e.bio)!=null&&O.trim()&&(P.bio=e.bio.trim()),(F=e.location)!=null&&F.trim()&&(P.location=e.location.trim()),(_=e.interests)!=null&&_.trim()&&(P.interests=e.interests.split(",").map(J=>J.trim()).filter(J=>J.length>0)),a.length>0&&(P.photos=a),P},E=async P=>{var O,F,_,J;if(P.preventDefault(),!C()){M.error("Please fix the errors in the form");return}v(!0);try{const te=k();console.log("Sending signup payload:",te),await N(te),M.success("Account created successfully! Please check your email to verify your account."),p("/login")}catch(te){if(console.error("Signup error:",te),(F=(O=te.response)==null?void 0:O.data)!=null&&F.errors){const re={};te.response.data.errors.forEach(ke=>{ke.path&&(re[ke.path]=ke.msg)}),o(ke=>({...ke,...re}))}else(J=(_=te.response)==null?void 0:_.data)!=null&&J.message?te.response.data.message.includes("email already exists")?o(re=>({...re,email:"This email is already registered"})):o(re=>({...re,general:te.response.data.message})):o(re=>({...re,general:"An unexpected error occurred. Please try again."}))}finally{v(!1)}},R=()=>e.name.trim().length>=2&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&e.password.length>=6&&e.password===e.confirmPassword&&parseInt(e.age)>=18&&a.length>=2&&!Object.values(n).some(P=>P);return t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-lavender-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"0.5s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl relative z-10",children:[t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:t.jsxs(fe,{to:"/",className:"inline-flex items-center gap-2 text-warm-600 hover:text-warm-800 transition-colors",children:[t.jsx(de,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to home"})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(U,{className:"w-10 h-10 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-4xl font-friendly font-bold text-warm-800 mb-2",children:"Join SoulSync"}),t.jsx("p",{className:"text-warm-600",children:"Start your journey to find true connection"})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"friendly-card p-8 space-y-8",children:[n.general&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-red-600 text-sm",children:n.general})}),t.jsxs("form",{onSubmit:E,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:"Required Information"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-warm-700",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:b,onBlur:S,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.name?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your full name",autoComplete:"name"})]}),n.name&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.name})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-warm-700",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:b,onBlur:S,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.email?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your email address",autoComplete:"email"})]}),n.email&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.email})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"age",className:"block text-sm font-medium text-warm-700",children:["Age ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"age",name:"age",type:"number",min:18,max:100,value:e.age,onChange:b,onBlur:S,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.age?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your age",autoComplete:"age"})]}),n.age&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.age})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-warm-700",children:["Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"password",name:"password",type:d?"text":"password",value:e.password,onChange:b,onBlur:S,required:!0,className:`friendly-input w-full pl-10 pr-12 py-3 ${n.password?"border-red-300 focus:border-red-500":""}`,placeholder:"Create a secure password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors z-10",children:d?t.jsx(xt,{className:"w-5 h-5"}):t.jsx(Oe,{className:"w-5 h-5"})})]}),n.password&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.password})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-warm-700",children:["Confirm Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",value:e.confirmPassword,onChange:b,onBlur:S,required:!0,className:`friendly-input w-full pl-10 pr-12 py-3 ${n.confirmPassword?"border-red-300 focus:border-red-500":""}`,placeholder:"Confirm your password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>h(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors z-10",children:x?t.jsx(xt,{className:"w-5 h-5"}):t.jsx(Oe,{className:"w-5 h-5"})})]}),n.confirmPassword&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.confirmPassword})]})]}),t.jsxs("div",{className:"border-t border-peach-200 pt-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:["Profile Photos ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("p",{className:"text-sm text-warm-600 mb-4",children:"Add at least 2 photos to make your profile stand out and attract meaningful connections"}),t.jsx(no,{photos:a,onPhotosUpdate:r,maxPhotos:6,minPhotos:2,isRequired:!0,showError:u,errorMessage:i})]}),t.jsxs("div",{className:"border-t border-peach-200 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:"Optional Profile Details"}),t.jsx("p",{className:"text-sm text-warm-600 mb-4",children:"Help others get to know you better"}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-warm-700",children:"Tell us about yourself"}),t.jsx("textarea",{id:"bio",name:"bio",value:e.bio,onChange:b,className:"friendly-input w-full p-3 resize-none",rows:3,maxLength:500,placeholder:"Share something about your personality, hobbies, or what you're looking for..."}),t.jsxs("p",{className:"text-xs text-warm-500",children:[((I=e.bio)==null?void 0:I.length)||0,"/500 characters"]})]}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-warm-700",children:"Where are you based?"}),t.jsxs("div",{className:"relative",children:[t.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"location",name:"location",type:"text",value:e.location,onChange:b,className:"friendly-input w-full pl-10 pr-4 py-3",maxLength:100,placeholder:"e.g., San Francisco, CA"})]})]}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"interests",className:"block text-sm font-medium text-warm-700",children:"Your interests"}),t.jsxs("div",{className:"relative",children:[t.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"interests",name:"interests",type:"text",value:e.interests,onChange:b,className:"friendly-input w-full pl-10 pr-4 py-3",placeholder:"hiking, music, cooking, travel"})]}),t.jsx("p",{className:"text-xs text-warm-500",children:"Separate interests with commas"})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g||!R(),className:"friendly-button w-full font-semibold disabled:opacity-50 disabled:cursor-not-allowed py-4",children:g?t.jsx("span",{className:"loading-dots",children:"Creating Account"}):"Create Account"}),!R()&&t.jsx("p",{className:"text-sm text-warm-500 text-center",children:"Please fill in all required fields correctly and upload at least 2 photos"})]})]}),t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center",children:t.jsxs("div",{className:"text-warm-600",children:["Already have an account?"," ",t.jsx(fe,{to:"/login",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign in"})]})})]})]})};class Pe{static async callOpenAI(s){try{const a=await A.post("/ai/analyze-compatibility",{prompt:s});return JSON.stringify(a.data)}catch(a){return console.error("AI analysis request failed:",a),JSON.stringify({score:7,reasoning:"AI analysis temporarily unavailable. This is a fallback response.",conversation_starters:["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]})}}static async findMatches(s,a=10){try{const r=await A.get(`/matches/candidates?userId=${s}&limit=${a}`),{currentUser:n,candidates:o}=r.data;if(!o||o.length===0)return[];const i=o.map(async u=>{const c=this.createAnalysisPrompt(n,u),d=await this.callOpenAI(c),f=this.parseAIResponse(d);return{candidate:u,compatibility_score:f.score,reasoning:f.reasoning,conversation_starters:f.conversation_starters}});return(await Promise.all(i)).sort((u,c)=>c.compatibility_score-u.compatibility_score)}catch(r){throw console.error("Error finding matches:",r),r}}static createAnalysisPrompt(s,a){return`
Analyze the compatibility between these two people:

Person 1 (${s.name}, ${s.age}):
- Bio: ${s.bio}
- Interests: ${s.interests.join(", ")}
- Personality: ${JSON.stringify(s.personality_answers)}
- Compatibility preferences: ${JSON.stringify(s.compatibility_answers)}

Person 2 (${a.name}, ${a.age}):
- Bio: ${a.bio}
- Interests: ${a.interests.join(", ")}
- Personality: ${JSON.stringify(a.personality_answers)}
- Compatibility preferences: ${JSON.stringify(a.compatibility_answers)}

Please provide:
1. A compatibility score from 1-10
2. Detailed reasoning for the score
3. 3 conversation starters they could use

Format your response as JSON:
{
  "score": 8.5,
  "reasoning": "Detailed explanation...",
  "conversation_starters": ["Starter 1", "Starter 2", "Starter 3"]
}
    `}static parseAIResponse(s){try{const a=s.match(/\{[\s\S]*\}/);if(a){const r=JSON.parse(a[0]);return{score:Math.min(10,Math.max(1,r.score||5)),reasoning:r.reasoning||"Compatibility analysis completed.",conversation_starters:r.conversation_starters||["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]}}}catch(a){console.error("Error parsing AI response:",a)}return{score:7,reasoning:"AI analysis completed successfully.",conversation_starters:["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]}}static async saveMatch(s,a,r){try{await A.post("/matches",{userId:s,matchedUserId:a,compatibilityScore:r})}catch(n){throw console.error("Error saving match:",n),n}}static async updateMatchStatus(s,a){try{await A.put(`/matches/${s}`,{status:a})}catch(r){throw console.error("Error updating match status:",r),r}}}const oo=()=>{const[e,s]=w.useState("discover"),[a,r]=w.useState([]),[n,o]=w.useState(!1),[i,l]=w.useState(0),u=V(),{user:c,profile:d,signOut:f}=be();w.useEffect(()=>{if(!c){u("/login");return}e==="discover"&&x()},[c,e,u]);const x=async()=>{if(c){o(!0);try{const N=await Pe.findMatches(c.id,10);r(N.map(j=>({id:j.candidate.id,name:j.candidate.name,age:j.candidate.age,bio:j.candidate.bio,interests:j.candidate.interests,photos:j.candidate.photos,compatibility_score:j.compatibility_score,reasoning:j.reasoning,conversation_starters:j.conversation_starters})))}catch(N){console.error("Error loading matches:",N)}finally{o(!1)}}},h=async N=>{if(c)try{await Pe.saveMatch(c.id,N.id,N.compatibility_score),await Pe.updateMatchStatus(N.id,"accepted"),l(j=>j+1),u("/chat",{state:{match:N}})}catch(j){console.error("Error accepting match:",j)}},g=async N=>{if(c)try{await Pe.saveMatch(c.id,N.id,N.compatibility_score),await Pe.updateMatchStatus(N.id,"rejected"),l(j=>j+1)}catch(j){console.error("Error rejecting match:",j)}},v=async()=>{await f(),u("/")},p=a[i];return!c||!d?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[t.jsx("header",{className:"bg-white/10 backdrop-blur-lg border-b border-white/20",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(U,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"SoulSync"})]}),t.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[t.jsxs("button",{onClick:()=>s("discover"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="discover"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(ba,{className:"w-5 h-5"}),t.jsx("span",{children:"Discover"})]}),t.jsxs("button",{onClick:()=>s("matches"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="matches"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(Z,{className:"w-5 h-5"}),t.jsx("span",{children:"Matches"})]}),t.jsxs("button",{onClick:()=>s("messages"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="messages"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(ps,{className:"w-5 h-5"}),t.jsx("span",{children:"Messages"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"relative p-2 text-gray-300 hover:text-white",children:[t.jsx(ds,{className:"w-6 h-6"}),t.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-white/10",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(me,{className:"w-4 h-4 text-white"})}),t.jsx("span",{className:"text-white hidden md:block",children:d.name})]}),t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:t.jsxs("div",{className:"py-2",children:[t.jsxs("button",{onClick:()=>u("/profile"),className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-300 hover:text-white hover:bg-white/10",children:[t.jsx(me,{className:"w-4 h-4"}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:()=>u("/settings"),className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-300 hover:text-white hover:bg-white/10",children:[t.jsx(us,{className:"w-4 h-4"}),t.jsx("span",{children:"Settings"})]}),t.jsxs("button",{onClick:v,className:"w-full flex items-center space-x-2 px-4 py-2 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[t.jsx(ms,{className:"w-4 h-4"}),t.jsx("span",{children:"Sign Out"})]})]})})]})]})]})})}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[e==="discover"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(me,{className:"w-8 h-8 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:d.name}),t.jsxs("p",{className:"text-gray-400",children:[d.age," years old  ",d.location]}),t.jsx("p",{className:"text-gray-300 mt-2",children:d.bio})]})]})}),n?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):p?t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl overflow-hidden",children:[t.jsxs("div",{className:"relative h-96 bg-gradient-to-br from-pink-500/20 to-purple-600/20",children:[p.photos[0]?t.jsx("img",{src:p.photos[0],alt:p.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(me,{className:"w-24 h-24 text-white/50"})}),t.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-lg rounded-full px-3 py-1",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-400 fill-current"}),t.jsxs("span",{className:"text-white font-semibold",children:[p.compatibility_score,"/10"]})]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-white",children:[p.name,", ",p.age]}),t.jsx("p",{className:"text-gray-300 mt-2",children:p.bio})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.interests.map((N,j)=>t.jsx("span",{className:"px-3 py-1 bg-pink-500/20 text-pink-300 rounded-full text-sm",children:N},j))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Why you're compatible"}),t.jsx("p",{className:"text-gray-300 text-sm",children:p.reasoning})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Conversation Starters"}),t.jsx("div",{className:"space-y-2",children:p.conversation_starters.map((N,j)=>t.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-gray-300 text-sm",children:['"',N,'"']},j))})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(p),className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Pass"}),t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(p),className:"flex-1 py-3 px-6 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all",children:"Like"})]})]})]},p.id):t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(U,{className:"w-12 h-12 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No more matches"}),t.jsx("p",{className:"text-gray-400",children:"Check back later for new potential matches!"}),t.jsx("button",{onClick:x,className:"mt-4 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all",children:"Refresh"})]})]}),e==="matches"&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Matches"}),t.jsx("p",{className:"text-gray-400",children:"This feature is coming soon!"})]}),e==="messages"&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Messages"}),t.jsx("p",{className:"text-gray-400",children:"This feature is coming soon!"})]})]})]})},G=({children:e})=>{const{user:s,loading:a}=be();return a?t.jsx("div",{className:"min-h-screen warm-gradient flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-coral-200 border-t-coral-500 rounded-full animate-spin"}),t.jsx("p",{className:"text-warm-600 font-medium",children:"Loading your experience..."})]})}):s?t.jsx(t.Fragment,{children:e}):t.jsx(Sa,{to:"/login",replace:!0})};function lo(){const{user:e}=be(),{dispatch:s}=K();return w.useEffect(()=>{s(e?{type:"SET_USER",payload:e}:{type:"SET_USER",payload:null})},[e,s]),t.jsx(va,{children:t.jsxs("div",{className:"min-h-screen warm-gradient",children:[t.jsx(ce,{mode:"wait",children:t.jsxs(Na,{children:[t.jsx(q,{path:"/",element:t.jsx(wi,{})}),t.jsx(q,{path:"/login",element:t.jsx(ro,{})}),t.jsx(q,{path:"/signup",element:t.jsx(io,{})}),t.jsx(q,{path:"/dashboard",element:t.jsx(G,{children:t.jsx(oo,{})})}),t.jsx(q,{path:"/personality-quiz",element:t.jsx(G,{children:t.jsx(ki,{})})}),t.jsx(q,{path:"/payment",element:t.jsx(G,{children:t.jsx(Ji,{})})}),t.jsx(q,{path:"/compatibility-quiz",element:t.jsx(G,{children:t.jsx(Qi,{})})}),t.jsx(q,{path:"/ai-matching",element:t.jsx(G,{children:t.jsx(Gi,{})})}),t.jsx(q,{path:"/match-reveal",element:t.jsx(G,{children:t.jsx(Ki,{})})}),t.jsx(q,{path:"/chat",element:t.jsx(G,{children:t.jsx(Zi,{})})}),t.jsx(q,{path:"/date-planner",element:t.jsx(G,{children:t.jsx(eo,{})})}),t.jsx(q,{path:"/additional-questions",element:t.jsx(G,{children:t.jsx(to,{})})}),t.jsx(q,{path:"/refer-friend",element:t.jsx(G,{children:t.jsx(so,{})})}),t.jsx(q,{path:"/production-features",element:t.jsx(G,{children:t.jsx(ao,{})})})]})}),t.jsx(mr,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 154, 139, 0.2)",color:"#2d3748",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},success:{iconTheme:{primary:"#22c55e",secondary:"white"}},error:{iconTheme:{primary:"#ef4444",secondary:"white"}}}})]})})}function co(){return t.jsx(Ni,{children:t.jsx(lo,{})})}hs(document.getElementById("root")).render(t.jsx(w.StrictMode,{children:t.jsx(co,{})}));
