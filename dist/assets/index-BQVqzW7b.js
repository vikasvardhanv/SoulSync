import{j as t,m,H as B,B as Ue,S as wt,a as fe,U as ce,C as ma,b as Mt,A as ye,c as _t,d as jt,e as vt,L as Te,Z as Fe,f as Nt,g as Ht,T as zt,h as Be,i as xe,X as Dt,k as pa,I as ha,l as qe,M as Ce,E as He,n as be,G as gs,P as fa,o as bs,p as Ze,q as ws,r as xa,s as js,t as ya,u as ga,v as ba,R as wa,w as ja,x as Ft,y as vs,z as ft,D as Ke,F as Wt,J as St,K as kt,N as va,O as Na,Q as Sa,V as ka,W as Ea,Y as Pa}from"./ui-DRxlJr_a.js";import{a as Aa,r as b,g as Ca,b as pe}from"./vendor-CDaM45aE.js";import{u as X,L as Ne,B as Ta,R as Ra,a as G,N as Ia}from"./router-ZldRIXIq.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Ns,Vt=Aa;Ns=Vt.createRoot,Vt.hydrateRoot;let Oa={data:""},Ma=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Oa,_a=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Da=/\/\*[^]*?\*\/|  +/g,Jt=/\n+/g,me=(e,s)=>{let a="",r="",n="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?a=i+" "+o+";":r+=i[1]=="f"?me(o,i):i+"{"+me(o,i[1]=="k"?"":s)+"}":typeof o=="object"?r+=me(o,s?s.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=me.p?me.p(i,o):i+":"+o+";")}return a+(s&&n?s+"{"+n+"}":n)+r},de={},Ss=e=>{if(typeof e=="object"){let s="";for(let a in e)s+=a+Ss(e[a]);return s}return e},Fa=(e,s,a,r,n)=>{let i=Ss(e),o=de[i]||(de[i]=(d=>{let c=0,u=11;for(;c<d.length;)u=101*u+d.charCodeAt(c++)>>>0;return"go"+u})(i));if(!de[o]){let d=i!==e?e:(c=>{let u,f,y=[{}];for(;u=_a.exec(c.replace(Da,""));)u[4]?y.shift():u[3]?(f=u[3].replace(Jt," ").trim(),y.unshift(y[0][f]=y[0][f]||{})):y[0][u[1]]=u[2].replace(Jt," ").trim();return y[0]})(e);de[o]=me(n?{["@keyframes "+o]:d}:d,a?"":"."+o)}let l=a&&de.g?de.g:null;return a&&(de.g=de[o]),((d,c,u,f)=>{f?c.data=c.data.replace(f,d):c.data.indexOf(d)===-1&&(c.data=u?d+c.data:c.data+d)})(de[o],s,r,l),o},La=(e,s,a)=>e.reduce((r,n,i)=>{let o=s[i];if(o&&o.call){let l=o(a),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":me(l,""):l===!1?"":l}return r+n+(o??"")},"");function ot(e){let s=this||{},a=e.call?e(s.p):e;return Fa(a.unshift?a.raw?La(a,[].slice.call(arguments,1),s.p):a.reduce((r,n)=>Object.assign(r,n&&n.call?n(s.p):n),{}):a,Ma(s.target),s.g,s.o,s.k)}let ks,Et,Pt;ot.bind({g:1});let ue=ot.bind({k:1});function $a(e,s,a,r){me.p=s,ks=e,Et=a,Pt=r}function ge(e,s){let a=this||{};return function(){let r=arguments;function n(i,o){let l=Object.assign({},i),d=l.className||n.className;a.p=Object.assign({theme:Et&&Et()},l),a.o=/ *go\d+/.test(d),l.className=ot.apply(a,r)+(d?" "+d:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),Pt&&c[0]&&Pt(l),ks(c,l)}return n}}var Ua=e=>typeof e=="function",rt=(e,s)=>Ua(e)?e(s):e,Ba=(()=>{let e=0;return()=>(++e).toString()})(),Es=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");e=!s||s.matches}return e}})(),qa=20,Ps=(e,s)=>{switch(s.type){case 0:return{...e,toasts:[s.toast,...e.toasts].slice(0,qa)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:a}=s;return Ps(e,{type:e.toasts.find(i=>i.id===a.id)?1:0,toast:a});case 3:let{toastId:r}=s;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...e,pausedAt:s.time};case 6:let n=s.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+n}))}}},et=[],we={toasts:[],pausedAt:void 0},Pe=e=>{we=Ps(we,e),et.forEach(s=>{s(we)})},Ha={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},za=(e={})=>{let[s,a]=b.useState(we),r=b.useRef(we);b.useEffect(()=>(r.current!==we&&a(we),et.push(a),()=>{let i=et.indexOf(a);i>-1&&et.splice(i,1)}),[]);let n=s.toasts.map(i=>{var o,l,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Ha[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...s,toasts:n}},Wa=(e,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Ba()}),Ve=e=>(s,a)=>{let r=Wa(s,e,a);return Pe({type:2,toast:r}),r.id},V=(e,s)=>Ve("blank")(e,s);V.error=Ve("error");V.success=Ve("success");V.loading=Ve("loading");V.custom=Ve("custom");V.dismiss=e=>{Pe({type:3,toastId:e})};V.remove=e=>Pe({type:4,toastId:e});V.promise=(e,s,a)=>{let r=V.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let i=s.success?rt(s.success,n):void 0;return i?V.success(i,{id:r,...a,...a==null?void 0:a.success}):V.dismiss(r),n}).catch(n=>{let i=s.error?rt(s.error,n):void 0;i?V.error(i,{id:r,...a,...a==null?void 0:a.error}):V.dismiss(r)}),e};var Va=(e,s)=>{Pe({type:1,toast:{id:e,height:s}})},Ja=()=>{Pe({type:5,time:Date.now()})},Le=new Map,Ga=1e3,Qa=(e,s=Ga)=>{if(Le.has(e))return;let a=setTimeout(()=>{Le.delete(e),Pe({type:4,toastId:e})},s);Le.set(e,a)},Ya=e=>{let{toasts:s,pausedAt:a}=za(e);b.useEffect(()=>{if(a)return;let i=Date.now(),o=s.map(l=>{if(l.duration===1/0)return;let d=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(d<0){l.visible&&V.dismiss(l.id);return}return setTimeout(()=>V.dismiss(l.id),d)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[s,a]);let r=b.useCallback(()=>{a&&Pe({type:6,time:Date.now()})},[a]),n=b.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:d=8,defaultPosition:c}=o||{},u=s.filter(h=>(h.position||c)===(i.position||c)&&h.height),f=u.findIndex(h=>h.id===i.id),y=u.filter((h,g)=>g<f&&h.visible).length;return u.filter(h=>h.visible).slice(...l?[y+1]:[0,y]).reduce((h,g)=>h+(g.height||0)+d,0)},[s]);return b.useEffect(()=>{s.forEach(i=>{if(i.dismissed)Qa(i.id,i.removeDelay);else{let o=Le.get(i.id);o&&(clearTimeout(o),Le.delete(i.id))}})},[s]),{toasts:s,handlers:{updateHeight:Va,startPause:Ja,endPause:r,calculateOffset:n}}},Ka=ue`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Xa=ue`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Za=ue`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,er=ge("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ka} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Xa} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Za} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tr=ue`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sr=ge("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${tr} 1s linear infinite;
`,ar=ue`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rr=ue`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,nr=ge("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ar} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ir=ge("div")`
  position: absolute;
`,or=ge("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lr=ue`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cr=ge("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dr=({toast:e})=>{let{icon:s,type:a,iconTheme:r}=e;return s!==void 0?typeof s=="string"?b.createElement(cr,null,s):s:a==="blank"?null:b.createElement(or,null,b.createElement(sr,{...r}),a!=="loading"&&b.createElement(ir,null,a==="error"?b.createElement(er,{...r}):b.createElement(nr,{...r})))},ur=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mr=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,pr="0%{opacity:0;} 100%{opacity:1;}",hr="0%{opacity:1;} 100%{opacity:0;}",fr=ge("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xr=ge("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yr=(e,s)=>{let a=e.includes("top")?1:-1,[r,n]=Es()?[pr,hr]:[ur(a),mr(a)];return{animation:s?`${ue(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ue(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gr=b.memo(({toast:e,position:s,style:a,children:r})=>{let n=e.height?yr(e.position||s||"top-center",e.visible):{opacity:0},i=b.createElement(dr,{toast:e}),o=b.createElement(xr,{...e.ariaProps},rt(e.message,e));return b.createElement(fr,{className:e.className,style:{...n,...a,...e.style}},typeof r=="function"?r({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});$a(b.createElement);var br=({id:e,className:s,style:a,onHeightUpdate:r,children:n})=>{let i=b.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;r(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return b.createElement("div",{ref:i,className:s,style:a},n)},wr=(e,s)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Es()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...r,...n}},jr=ot`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xe=16,vr=({reverseOrder:e,position:s="top-center",toastOptions:a,gutter:r,children:n,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:d}=Ya(a);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Xe,left:Xe,right:Xe,bottom:Xe,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(c=>{let u=c.position||s,f=d.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:s}),y=wr(u,f);return b.createElement(br,{id:c.id,key:c.id,onHeightUpdate:d.updateHeight,className:c.visible?jr:"",style:y},c.type==="custom"?rt(c.message,c):n?n(c):b.createElement(gr,{toast:c,position:u}))}))},L=V;const Nr={},Gt=e=>{let s;const a=new Set,r=(u,f)=>{const y=typeof u=="function"?u(s):u;if(!Object.is(y,s)){const h=s;s=f??(typeof y!="object"||y===null)?y:Object.assign({},s,y),a.forEach(g=>g(s,h))}},n=()=>s,d={setState:r,getState:n,getInitialState:()=>c,subscribe:u=>(a.add(u),()=>a.delete(u)),destroy:()=>{(Nr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},c=s=e(r,n,d);return d},Sr=e=>e?Gt(e):Gt;var As={exports:{}},Cs={},Ts={exports:{}},Rs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=b;function kr(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Er=typeof Object.is=="function"?Object.is:kr,Pr=Re.useState,Ar=Re.useEffect,Cr=Re.useLayoutEffect,Tr=Re.useDebugValue;function Rr(e,s){var a=s(),r=Pr({inst:{value:a,getSnapshot:s}}),n=r[0].inst,i=r[1];return Cr(function(){n.value=a,n.getSnapshot=s,xt(n)&&i({inst:n})},[e,a,s]),Ar(function(){return xt(n)&&i({inst:n}),e(function(){xt(n)&&i({inst:n})})},[e]),Tr(a),a}function xt(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Er(e,a)}catch{return!0}}function Ir(e,s){return s()}var Or=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ir:Rr;Rs.useSyncExternalStore=Re.useSyncExternalStore!==void 0?Re.useSyncExternalStore:Or;Ts.exports=Rs;var Mr=Ts.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=b,_r=Mr;function Dr(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Fr=typeof Object.is=="function"?Object.is:Dr,Lr=_r.useSyncExternalStore,$r=lt.useRef,Ur=lt.useEffect,Br=lt.useMemo,qr=lt.useDebugValue;Cs.useSyncExternalStoreWithSelector=function(e,s,a,r,n){var i=$r(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Br(function(){function d(h){if(!c){if(c=!0,u=h,h=r(h),n!==void 0&&o.hasValue){var g=o.value;if(n(g,h))return f=g}return f=h}if(g=f,Fr(u,h))return g;var v=r(h);return n!==void 0&&n(g,v)?(u=h,g):(u=h,f=v)}var c=!1,u,f,y=a===void 0?null:a;return[function(){return d(s())},y===null?void 0:function(){return d(y())}]},[s,a,r,n]);var l=Lr(e,i[0],i[1]);return Ur(function(){o.hasValue=!0,o.value=l},[l]),qr(l),l};As.exports=Cs;var Hr=As.exports;const zr=Ca(Hr),Is={},{useDebugValue:Wr}=pe,{useSyncExternalStoreWithSelector:Vr}=zr;let Qt=!1;const Jr=e=>e;function Gr(e,s=Jr,a){(Is?"production":void 0)!=="production"&&a&&!Qt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qt=!0);const r=Vr(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,a);return Wr(r),r}const Yt=e=>{(Is?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?Sr(e):e,a=(r,n)=>Gr(s,r,n);return Object.assign(a,s),a},Qr=e=>e?Yt(e):Yt;function Os(e,s){return function(){return e.apply(s,arguments)}}const{toString:Yr}=Object.prototype,{getPrototypeOf:Lt}=Object,{iterator:ct,toStringTag:Ms}=Symbol,dt=(e=>s=>{const a=Yr.call(s);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ne=e=>(e=e.toLowerCase(),s=>dt(s)===e),ut=e=>s=>typeof s===e,{isArray:Ie}=Array,ze=ut("undefined");function Je(e){return e!==null&&!ze(e)&&e.constructor!==null&&!ze(e.constructor)&&Y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _s=ne("ArrayBuffer");function Kr(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&_s(e.buffer),s}const Xr=ut("string"),Y=ut("function"),Ds=ut("number"),Ge=e=>e!==null&&typeof e=="object",Zr=e=>e===!0||e===!1,tt=e=>{if(dt(e)!=="object")return!1;const s=Lt(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Ms in e)&&!(ct in e)},en=e=>{if(!Ge(e)||Je(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tn=ne("Date"),sn=ne("File"),an=ne("Blob"),rn=ne("FileList"),nn=e=>Ge(e)&&Y(e.pipe),on=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Y(e.append)&&((s=dt(e))==="formdata"||s==="object"&&Y(e.toString)&&e.toString()==="[object FormData]"))},ln=ne("URLSearchParams"),[cn,dn,un,mn]=["ReadableStream","Request","Response","Headers"].map(ne),pn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qe(e,s,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),Ie(e))for(r=0,n=e.length;r<n;r++)s.call(null,e[r],r,e);else{if(Je(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],s.call(null,e[l],l,e)}}function Fs(e,s){if(Je(e))return null;s=s.toLowerCase();const a=Object.keys(e);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const je=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ls=e=>!ze(e)&&e!==je;function At(){const{caseless:e}=Ls(this)&&this||{},s={},a=(r,n)=>{const i=e&&Fs(s,n)||n;tt(s[i])&&tt(r)?s[i]=At(s[i],r):tt(r)?s[i]=At({},r):Ie(r)?s[i]=r.slice():s[i]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Qe(arguments[r],a);return s}const hn=(e,s,a,{allOwnKeys:r}={})=>(Qe(s,(n,i)=>{a&&Y(n)?e[i]=Os(n,a):e[i]=n},{allOwnKeys:r}),e),fn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xn=(e,s,a,r)=>{e.prototype=Object.create(s.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),a&&Object.assign(e.prototype,a)},yn=(e,s,a,r)=>{let n,i,o;const l={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!r||r(o,e,s))&&!l[o]&&(s[o]=e[o],l[o]=!0);e=a!==!1&&Lt(e)}while(e&&(!a||a(e,s))&&e!==Object.prototype);return s},gn=(e,s,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=s.length;const r=e.indexOf(s,a);return r!==-1&&r===a},bn=e=>{if(!e)return null;if(Ie(e))return e;let s=e.length;if(!Ds(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=e[s];return a},wn=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Lt(Uint8Array)),jn=(e,s)=>{const r=(e&&e[ct]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;s.call(e,i[0],i[1])}},vn=(e,s)=>{let a;const r=[];for(;(a=e.exec(s))!==null;)r.push(a);return r},Nn=ne("HTMLFormElement"),Sn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),Kt=(({hasOwnProperty:e})=>(s,a)=>e.call(s,a))(Object.prototype),kn=ne("RegExp"),$s=(e,s)=>{const a=Object.getOwnPropertyDescriptors(e),r={};Qe(a,(n,i)=>{let o;(o=s(n,i,e))!==!1&&(r[i]=o||n)}),Object.defineProperties(e,r)},En=e=>{$s(e,(s,a)=>{if(Y(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(Y(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Pn=(e,s)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return Ie(e)?r(e):r(String(e).split(s)),a},An=()=>{},Cn=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function Tn(e){return!!(e&&Y(e.append)&&e[Ms]==="FormData"&&e[ct])}const Rn=e=>{const s=new Array(10),a=(r,n)=>{if(Ge(r)){if(s.indexOf(r)>=0)return;if(Je(r))return r;if(!("toJSON"in r)){s[n]=r;const i=Ie(r)?[]:{};return Qe(r,(o,l)=>{const d=a(o,n+1);!ze(d)&&(i[l]=d)}),s[n]=void 0,i}}return r};return a(e,0)},In=ne("AsyncFunction"),On=e=>e&&(Ge(e)||Y(e))&&Y(e.then)&&Y(e.catch),Us=((e,s)=>e?setImmediate:s?((a,r)=>(je.addEventListener("message",({source:n,data:i})=>{n===je&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),je.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Y(je.postMessage)),Mn=typeof queueMicrotask<"u"?queueMicrotask.bind(je):typeof process<"u"&&process.nextTick||Us,_n=e=>e!=null&&Y(e[ct]),x={isArray:Ie,isArrayBuffer:_s,isBuffer:Je,isFormData:on,isArrayBufferView:Kr,isString:Xr,isNumber:Ds,isBoolean:Zr,isObject:Ge,isPlainObject:tt,isEmptyObject:en,isReadableStream:cn,isRequest:dn,isResponse:un,isHeaders:mn,isUndefined:ze,isDate:tn,isFile:sn,isBlob:an,isRegExp:kn,isFunction:Y,isStream:nn,isURLSearchParams:ln,isTypedArray:wn,isFileList:rn,forEach:Qe,merge:At,extend:hn,trim:pn,stripBOM:fn,inherits:xn,toFlatObject:yn,kindOf:dt,kindOfTest:ne,endsWith:gn,toArray:bn,forEachEntry:jn,matchAll:vn,isHTMLForm:Nn,hasOwnProperty:Kt,hasOwnProp:Kt,reduceDescriptors:$s,freezeMethods:En,toObjectSet:Pn,toCamelCase:Sn,noop:An,toFiniteNumber:Cn,findKey:Fs,global:je,isContextDefined:Ls,isSpecCompliantForm:Tn,toJSONObject:Rn,isAsyncFn:In,isThenable:On,setImmediate:Us,asap:Mn,isIterable:_n};function T(e,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}x.inherits(T,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const Bs=T.prototype,qs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qs[e]={value:e}});Object.defineProperties(T,qs);Object.defineProperty(Bs,"isAxiosError",{value:!0});T.from=(e,s,a,r,n,i)=>{const o=Object.create(Bs);return x.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),T.call(o,e.message,s,a,r,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Dn=null;function Ct(e){return x.isPlainObject(e)||x.isArray(e)}function Hs(e){return x.endsWith(e,"[]")?e.slice(0,-2):e}function Xt(e,s,a){return e?e.concat(s).map(function(n,i){return n=Hs(n),!a&&i?"["+n+"]":n}).join(a?".":""):s}function Fn(e){return x.isArray(e)&&!e.some(Ct)}const Ln=x.toFlatObject(x,{},null,function(s){return/^is[A-Z]/.test(s)});function mt(e,s,a){if(!x.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,a=x.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,p){return!x.isUndefined(p[v])});const r=a.metaTokens,n=a.visitor||u,i=a.dots,o=a.indexes,d=(a.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(s);if(!x.isFunction(n))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(x.isDate(g))return g.toISOString();if(x.isBoolean(g))return g.toString();if(!d&&x.isBlob(g))throw new T("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(g)||x.isTypedArray(g)?d&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,p){let N=g;if(g&&!p&&typeof g=="object"){if(x.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(x.isArray(g)&&Fn(g)||(x.isFileList(g)||x.endsWith(v,"[]"))&&(N=x.toArray(g)))return v=Hs(v),N.forEach(function(w,E){!(x.isUndefined(w)||w===null)&&s.append(o===!0?Xt([v],E,i):o===null?v:v+"[]",c(w))}),!1}return Ct(g)?!0:(s.append(Xt(p,v,i),c(g)),!1)}const f=[],y=Object.assign(Ln,{defaultVisitor:u,convertValue:c,isVisitable:Ct});function h(g,v){if(!x.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),x.forEach(g,function(N,j){(!(x.isUndefined(N)||N===null)&&n.call(s,N,x.isString(j)?j.trim():j,v,y))===!0&&h(N,v?v.concat(j):[j])}),f.pop()}}if(!x.isObject(e))throw new TypeError("data must be an object");return h(e),s}function Zt(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function $t(e,s){this._pairs=[],e&&mt(e,this,s)}const zs=$t.prototype;zs.append=function(s,a){this._pairs.push([s,a])};zs.toString=function(s){const a=s?function(r){return s.call(this,r,Zt)}:Zt;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function $n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ws(e,s,a){if(!s)return e;const r=a&&a.encode||$n;x.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(s,a):i=x.isURLSearchParams(s)?s.toString():new $t(s,a).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class es{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){x.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Vs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Un=typeof URLSearchParams<"u"?URLSearchParams:$t,Bn=typeof FormData<"u"?FormData:null,qn=typeof Blob<"u"?Blob:null,Hn={isBrowser:!0,classes:{URLSearchParams:Un,FormData:Bn,Blob:qn},protocols:["http","https","file","blob","url","data"]},Ut=typeof window<"u"&&typeof document<"u",Tt=typeof navigator=="object"&&navigator||void 0,zn=Ut&&(!Tt||["ReactNative","NativeScript","NS"].indexOf(Tt.product)<0),Wn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vn=Ut&&window.location.href||"http://localhost",Jn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ut,hasStandardBrowserEnv:zn,hasStandardBrowserWebWorkerEnv:Wn,navigator:Tt,origin:Vn},Symbol.toStringTag,{value:"Module"})),H={...Jn,...Hn};function Gn(e,s){return mt(e,new H.classes.URLSearchParams,{visitor:function(a,r,n,i){return H.isNode&&x.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Qn(e){return x.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Yn(e){const s={},a=Object.keys(e);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],s[i]=e[i];return s}function Js(e){function s(a,r,n,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=a.length;return o=!o&&x.isArray(n)?n.length:o,d?(x.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!x.isObject(n[o]))&&(n[o]=[]),s(a,r,n[o],i)&&x.isArray(n[o])&&(n[o]=Yn(n[o])),!l)}if(x.isFormData(e)&&x.isFunction(e.entries)){const a={};return x.forEachEntry(e,(r,n)=>{s(Qn(r),n,a,0)}),a}return null}function Kn(e,s,a){if(x.isString(e))try{return(s||JSON.parse)(e),x.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const Ye={transitional:Vs,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=x.isObject(s);if(i&&x.isHTMLForm(s)&&(s=new FormData(s)),x.isFormData(s))return n?JSON.stringify(Js(s)):s;if(x.isArrayBuffer(s)||x.isBuffer(s)||x.isStream(s)||x.isFile(s)||x.isBlob(s)||x.isReadableStream(s))return s;if(x.isArrayBufferView(s))return s.buffer;if(x.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Gn(s,this.formSerializer).toString();if((l=x.isFileList(s))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return mt(l?{"files[]":s}:s,d&&new d,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Kn(s)):s}],transformResponse:[function(s){const a=this.transitional||Ye.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(x.isResponse(s)||x.isReadableStream(s))return s;if(s&&x.isString(s)&&(r&&!this.responseType||n)){const o=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(l){if(o)throw l.name==="SyntaxError"?T.from(l,T.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:H.classes.FormData,Blob:H.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],e=>{Ye.headers[e]={}});const Xn=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zn=e=>{const s={};let a,r,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),a=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!a||s[a]&&Xn[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},ts=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function st(e){return e===!1||e==null?e:x.isArray(e)?e.map(st):String(e)}function ei(e){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)s[r[1]]=r[2];return s}const ti=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yt(e,s,a,r,n){if(x.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!x.isString(s)){if(x.isString(r))return s.indexOf(r)!==-1;if(x.isRegExp(r))return r.test(s)}}function si(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function ai(e,s){const a=x.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(n,i,o){return this[r].call(this,s,n,i,o)},configurable:!0})})}let K=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function i(l,d,c){const u=_e(d);if(!u)throw new Error("header name must be a non-empty string");const f=x.findKey(n,u);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||d]=st(l))}const o=(l,d)=>x.forEach(l,(c,u)=>i(c,u,d));if(x.isPlainObject(s)||s instanceof this.constructor)o(s,a);else if(x.isString(s)&&(s=s.trim())&&!ti(s))o(Zn(s),a);else if(x.isObject(s)&&x.isIterable(s)){let l={},d,c;for(const u of s){if(!x.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?x.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,a)}else s!=null&&i(a,s,r);return this}get(s,a){if(s=_e(s),s){const r=x.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return ei(n);if(x.isFunction(a))return a.call(this,n,r);if(x.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=_e(s),s){const r=x.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||yt(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function i(o){if(o=_e(o),o){const l=x.findKey(r,o);l&&(!a||yt(r,r[l],l,a))&&(delete r[l],n=!0)}}return x.isArray(s)?s.forEach(i):i(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!s||yt(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const a=this,r={};return x.forEach(this,(n,i)=>{const o=x.findKey(r,i);if(o){a[o]=st(n),delete a[i];return}const l=s?si(i):String(i).trim();l!==i&&delete a[i],a[l]=st(n),r[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return x.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&x.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[ts]=this[ts]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=_e(o);r[l]||(ai(n,o),r[l]=!0)}return x.isArray(s)?s.forEach(i):i(s),this}};K.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(K.prototype,({value:e},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(r){this[a]=r}}});x.freezeMethods(K);function gt(e,s){const a=this||Ye,r=s||a,n=K.from(r.headers);let i=r.data;return x.forEach(e,function(l){i=l.call(a,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function Gs(e){return!!(e&&e.__CANCEL__)}function Oe(e,s,a){T.call(this,e??"canceled",T.ERR_CANCELED,s,a),this.name="CanceledError"}x.inherits(Oe,T,{__CANCEL__:!0});function Qs(e,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):s(new T("Request failed with status code "+a.status,[T.ERR_BAD_REQUEST,T.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function ri(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function ni(e,s){e=e||10;const a=new Array(e),r=new Array(e);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(d){const c=Date.now(),u=r[i];o||(o=c),a[n]=d,r[n]=c;let f=i,y=0;for(;f!==n;)y+=a[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-o<s)return;const h=u&&c-u;return h?Math.round(y*1e3/h):void 0}}function ii(e,s){let a=0,r=1e3/s,n,i;const o=(c,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-a;f>=r?o(c,u):(n=c,i||(i=setTimeout(()=>{i=null,o(n)},r-f)))},()=>n&&o(n)]}const nt=(e,s,a=3)=>{let r=0;const n=ni(50,250);return ii(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-r,c=n(d),u=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(f)},a)},ss=(e,s)=>{const a=e!=null;return[r=>s[0]({lengthComputable:a,total:e,loaded:r}),s[1]]},as=e=>(...s)=>x.asap(()=>e(...s)),oi=H.hasStandardBrowserEnv?((e,s)=>a=>(a=new URL(a,H.origin),e.protocol===a.protocol&&e.host===a.host&&(s||e.port===a.port)))(new URL(H.origin),H.navigator&&/(msie|trident)/i.test(H.navigator.userAgent)):()=>!0,li=H.hasStandardBrowserEnv?{write(e,s,a,r,n,i){const o=[e+"="+encodeURIComponent(s)];x.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),x.isString(r)&&o.push("path="+r),x.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ci(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function di(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function Ys(e,s,a){let r=!ci(s);return e&&(r||a==!1)?di(e,s):s}const rs=e=>e instanceof K?{...e}:e;function Ee(e,s){s=s||{};const a={};function r(c,u,f,y){return x.isPlainObject(c)&&x.isPlainObject(u)?x.merge.call({caseless:y},c,u):x.isPlainObject(u)?x.merge({},u):x.isArray(u)?u.slice():u}function n(c,u,f,y){if(x.isUndefined(u)){if(!x.isUndefined(c))return r(void 0,c,f,y)}else return r(c,u,f,y)}function i(c,u){if(!x.isUndefined(u))return r(void 0,u)}function o(c,u){if(x.isUndefined(u)){if(!x.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in s)return r(c,u);if(f in e)return r(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,f)=>n(rs(c),rs(u),f,!0)};return x.forEach(Object.keys({...e,...s}),function(u){const f=d[u]||n,y=f(e[u],s[u],u);x.isUndefined(y)&&f!==l||(a[u]=y)}),a}const Ks=e=>{const s=Ee({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;s.headers=o=K.from(o),s.url=Ws(Ys(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(x.isFormData(a)){if(H.hasStandardBrowserEnv||H.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[c,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(H.hasStandardBrowserEnv&&(r&&x.isFunction(r)&&(r=r(s)),r||r!==!1&&oi(s.url))){const c=n&&i&&li.read(i);c&&o.set(n,c)}return s},ui=typeof XMLHttpRequest<"u",mi=ui&&function(e){return new Promise(function(a,r){const n=Ks(e);let i=n.data;const o=K.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=n,u,f,y,h,g;function v(){h&&h(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function N(){if(!p)return;const w=K.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:w,config:e,request:p};Qs(function(k){a(k),v()},function(k){r(k),v()},O),p=null}"onloadend"in p?p.onloadend=N:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(N)},p.onabort=function(){p&&(r(new T("Request aborted",T.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new T("Network Error",T.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let E=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const O=n.transitional||Vs;n.timeoutErrorMessage&&(E=n.timeoutErrorMessage),r(new T(E,O.clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,e,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&x.forEach(o.toJSON(),function(E,O){p.setRequestHeader(O,E)}),x.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),l&&l!=="json"&&(p.responseType=n.responseType),c&&([y,g]=nt(c,!0),p.addEventListener("progress",y)),d&&p.upload&&([f,h]=nt(d),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(u=w=>{p&&(r(!w||w.type?new Oe(null,e,p):w),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const j=ri(n.url);if(j&&H.protocols.indexOf(j)===-1){r(new T("Unsupported protocol "+j+":",T.ERR_BAD_REQUEST,e));return}p.send(i||null)})},pi=(e,s)=>{const{length:a}=e=e?e.filter(Boolean):[];if(s||a){let r=new AbortController,n;const i=function(c){if(!n){n=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof T?u:new Oe(u instanceof Error?u.message:u))}};let o=s&&setTimeout(()=>{o=null,i(new T(`timeout ${s} of ms exceeded`,T.ETIMEDOUT))},s);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>x.asap(l),d}},hi=function*(e,s){let a=e.byteLength;if(a<s){yield e;return}let r=0,n;for(;r<a;)n=r+s,yield e.slice(r,n),r=n},fi=async function*(e,s){for await(const a of xi(e))yield*hi(a,s)},xi=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},ns=(e,s,a,r)=>{const n=fi(e,s);let i=0,o,l=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await n.next();if(c){l(),d.close();return}let f=u.byteLength;if(a){let y=i+=f;a(y)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},pt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xs=pt&&typeof ReadableStream=="function",yi=pt&&(typeof TextEncoder=="function"?(e=>s=>e.encode(s))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Zs=(e,...s)=>{try{return!!e(...s)}catch{return!1}},gi=Xs&&Zs(()=>{let e=!1;const s=new Request(H.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!s}),is=64*1024,Rt=Xs&&Zs(()=>x.isReadableStream(new Response("").body)),it={stream:Rt&&(e=>e.body)};pt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!it[s]&&(it[s]=x.isFunction(e[s])?a=>a[s]():(a,r)=>{throw new T(`Response type '${s}' is not supported`,T.ERR_NOT_SUPPORT,r)})})})(new Response);const bi=async e=>{if(e==null)return 0;if(x.isBlob(e))return e.size;if(x.isSpecCompliantForm(e))return(await new Request(H.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(x.isArrayBufferView(e)||x.isArrayBuffer(e))return e.byteLength;if(x.isURLSearchParams(e)&&(e=e+""),x.isString(e))return(await yi(e)).byteLength},wi=async(e,s)=>{const a=x.toFiniteNumber(e.getContentLength());return a??bi(s)},ji=pt&&(async e=>{let{url:s,method:a,data:r,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:y}=Ks(e);c=c?(c+"").toLowerCase():"text";let h=pi([n,i&&i.toAbortSignal()],o),g;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(d&&gi&&a!=="get"&&a!=="head"&&(p=await wi(u,r))!==0){let O=new Request(s,{method:"POST",body:r,duplex:"half"}),S;if(x.isFormData(r)&&(S=O.headers.get("content-type"))&&u.setContentType(S),O.body){const[k,R]=ss(p,nt(as(d)));r=ns(O.body,is,k,R)}}x.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;g=new Request(s,{...y,signal:h,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:N?f:void 0});let j=await fetch(g,y);const w=Rt&&(c==="stream"||c==="response");if(Rt&&(l||w&&v)){const O={};["status","statusText","headers"].forEach(I=>{O[I]=j[I]});const S=x.toFiniteNumber(j.headers.get("content-length")),[k,R]=l&&ss(S,nt(as(l),!0))||[];j=new Response(ns(j.body,is,k,()=>{R&&R(),v&&v()}),O)}c=c||"text";let E=await it[x.findKey(it,c)||"text"](j,e);return!w&&v&&v(),await new Promise((O,S)=>{Qs(O,S,{data:E,headers:K.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:g})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new T("Network Error",T.ERR_NETWORK,e,g),{cause:N.cause||N}):T.from(N,N&&N.code,e,g)}}),It={http:Dn,xhr:mi,fetch:ji};x.forEach(It,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const os=e=>`- ${e}`,vi=e=>x.isFunction(e)||e===null||e===!1,ea={getAdapter:e=>{e=x.isArray(e)?e:[e];const{length:s}=e;let a,r;const n={};for(let i=0;i<s;i++){a=e[i];let o;if(r=a,!vi(a)&&(r=It[(o=String(a)).toLowerCase()],r===void 0))throw new T(`Unknown adapter '${o}'`);if(r)break;n[o||"#"+i]=r}if(!r){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?i.length>1?`since :
`+i.map(os).join(`
`):" "+os(i[0]):"as no adapter specified";throw new T("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:It};function bt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oe(null,e)}function ls(e){return bt(e),e.headers=K.from(e.headers),e.data=gt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ea.getAdapter(e.adapter||Ye.adapter)(e).then(function(r){return bt(e),r.data=gt.call(e,e.transformResponse,r),r.headers=K.from(r.headers),r},function(r){return Gs(r)||(bt(e),r&&r.response&&(r.response.data=gt.call(e,e.transformResponse,r.response),r.response.headers=K.from(r.response.headers))),Promise.reject(r)})}const ta="1.11.0",ht={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{ht[e]=function(r){return typeof r===e||"a"+(s<1?"n ":" ")+e}});const cs={};ht.transitional=function(s,a,r){function n(i,o){return"[Axios v"+ta+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(s===!1)throw new T(n(o," has been removed"+(a?" in "+a:"")),T.ERR_DEPRECATED);return a&&!cs[o]&&(cs[o]=!0,console.warn(n(o," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,o,l):!0}};ht.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function Ni(e,s,a){if(typeof e!="object")throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],o=s[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new T("option "+i+" must be "+d,T.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new T("Unknown option "+i,T.ERR_BAD_OPTION)}}const at={assertOptions:Ni,validators:ht},le=at.validators;let Se=class{constructor(s){this.defaults=s||{},this.interceptors={request:new es,response:new es}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Ee(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&at.assertOptions(r,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),n!=null&&(x.isFunction(n)?a.paramsSerializer={serialize:n}:at.assertOptions(n,{encode:le.function,serialize:le.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),at.assertOptions(a,{baseUrl:le.spelling("baseURL"),withXsrfToken:le.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&x.merge(i.common,i[a.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),a.headers=K.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(a)===!1||(d=d&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,f=0,y;if(!d){const g=[ls.bind(this),void 0];for(g.unshift(...l),g.push(...c),y=g.length,u=Promise.resolve(a);f<y;)u=u.then(g[f++],g[f++]);return u}y=l.length;let h=a;for(f=0;f<y;){const g=l[f++],v=l[f++];try{h=g(h)}catch(p){v.call(this,p);break}}try{u=ls.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,y=c.length;f<y;)u=u.then(c[f++],c[f++]);return u}getUri(s){s=Ee(this.defaults,s);const a=Ys(s.baseURL,s.url,s.allowAbsoluteUrls);return Ws(a,s.params,s.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(s){Se.prototype[s]=function(a,r){return this.request(Ee(r||{},{method:s,url:a,data:(r||{}).data}))}});x.forEach(["post","put","patch"],function(s){function a(r){return function(i,o,l){return this.request(Ee(l||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Se.prototype[s]=a(),Se.prototype[s+"Form"]=a(!0)});let Si=class sa{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},s(function(i,o,l){r.reason||(r.reason=new Oe(i,o,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new sa(function(n){s=n}),cancel:s}}};function ki(e){return function(a){return e.apply(null,a)}}function Ei(e){return x.isObject(e)&&e.isAxiosError===!0}const Ot={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ot).forEach(([e,s])=>{Ot[s]=e});function aa(e){const s=new Se(e),a=Os(Se.prototype.request,s);return x.extend(a,Se.prototype,s,{allOwnKeys:!0}),x.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return aa(Ee(e,n))},a}const $=aa(Ye);$.Axios=Se;$.CanceledError=Oe;$.CancelToken=Si;$.isCancel=Gs;$.VERSION=ta;$.toFormData=mt;$.AxiosError=T;$.Cancel=$.CanceledError;$.all=function(s){return Promise.all(s)};$.spread=ki;$.isAxiosError=Ei;$.mergeConfig=Ee;$.AxiosHeaders=K;$.formToJSON=e=>Js(x.isHTMLForm(e)?new FormData(e):e);$.getAdapter=ea.getAdapter;$.HttpStatusCode=Ot;$.default=$;const{Axios:Eo,AxiosError:Po,CanceledError:Ao,isCancel:Co,CancelToken:To,VERSION:Ro,all:Io,Cancel:Oo,isAxiosError:Mo,spread:_o,toFormData:Do,AxiosHeaders:Fo,HttpStatusCode:Lo,formToJSON:$o,getAdapter:Uo,mergeConfig:Bo}=$,Pi=()=>"/api",Ai=Pi(),A=$.create({baseURL:Ai,withCredentials:!0,headers:{"Content-Type":"application/json"}});A.interceptors.request.use(e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e});A.interceptors.response.use(e=>e,async e=>{var a,r,n,i,o,l,d,c;const s=e.config;if(((a=e.response)==null?void 0:a.status)===413){const u=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||"File too large",f=((l=(o=(i=e.response)==null?void 0:i.data)==null?void 0:o.error)==null?void 0:l.suggestion)||"Please use a smaller file.";return L.error(`${u} ${f}`,{duration:6e3,style:{maxWidth:"400px"}}),Promise.reject(e)}return((d=e.response)==null?void 0:d.status)===500?(L.error("Server error. Please try again or contact support.",{duration:5e3}),Promise.reject(e)):(((c=e.response)==null?void 0:c.status)===401&&s._retry,Promise.reject(e))});const se={register:e=>A.post("/auth/register",e),login:e=>A.post("/auth/login",e),logout:e=>A.post("/auth/logout",e),forgotPassword:e=>A.post("/auth/forgot-password",e),resetPassword:e=>A.post("/auth/reset-password",e),changePassword:e=>A.put("/auth/change-password",e),verifyEmail:e=>A.get(`/auth/verify-email?token=${e}`),resendVerification:()=>A.post("/auth/resend-verification"),refreshToken:e=>A.post("/auth/refresh",e),getMe:()=>A.get("/auth/me"),deleteAccount:e=>A.delete("/auth/delete-account",{data:e}),updateProfile:e=>A.put("/users/profile",e)},ds={uploadSingle:e=>A.post("/images/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),uploadMultiple:e=>A.post("/images/upload-multiple",e,{headers:{"Content-Type":"multipart/form-data"}}),deletePhoto:e=>A.delete("/images/delete",{data:e}),reorderPhotos:e=>A.put("/images/reorder",e)},us={getMatches:()=>A.get("/matches"),createMatch:e=>A.post("/matches",e),updateMatchStatus:(e,s)=>A.put(`/matches/${e}/status`,s),getMatchDetails:e=>A.get(`/matches/${e}`),getPotentialMatches:e=>A.get("/users/matches",{params:e}),getPendingMatches:()=>A.get("/matches/pending"),getAcceptedMatches:()=>A.get("/matches/accepted")},ms={getConversations:()=>A.get("/messages/conversations"),getConversation:(e,s)=>A.get(`/messages/conversation/${e}`,{params:s}),sendMessage:e=>A.post("/messages",e),markAsRead:e=>A.put(`/messages/read/${e}`),getUnreadCount:()=>A.get("/messages/unread/count"),deleteMessage:e=>A.delete(`/messages/${e}`)},Ci={getProfile:()=>A.get("/users/profile"),updateProfile:e=>A.put("/users/profile",e),getPotentialMatches:e=>A.get("/users/matches",{params:e}),getMyMatches:()=>A.get("/users/matches/my"),deleteAccount:()=>A.delete("/users/account")},$e={getCurrencies:()=>A.get("/payments/currencies"),estimatePayment:e=>A.post("/payments/estimate",e),createPayment:e=>A.post("/payments/create",e),getPaymentStatus:e=>A.get(`/payments/status/${e}`),createSubscription:e=>A.post("/payments/subscription",e),getPaymentHistory:e=>A.get("/payments/history",{params:e}),createNOWPayments:e=>A.post("/payments/nowpayments/create",e)},Ae=Qr((e,s)=>({user:null,loading:!0,error:null,isAuthenticated:!1,signUp:async a=>{var r,n,i;e({loading:!0,error:null});try{console.log("Starting signup process...");const o=await se.register(a);if(o.data.success){console.log("Signup successful:",o.data);const l=(r=o.data.data)==null?void 0:r.tokens;l!=null&&l.accessToken&&(localStorage.setItem("accessToken",l.accessToken),console.log("Access token stored")),l!=null&&l.refreshToken&&(localStorage.setItem("refreshToken",l.refreshToken),console.log("Refresh token stored"));const d=o.data.data.user;e({user:d,loading:!1,isAuthenticated:!0,error:null}),console.log("User data set in store:",d)}else throw new Error(o.data.message||"Signup failed")}catch(o){console.error("Signup error:",o);const l=((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||o.message||"Signup failed. Please try again.";throw e({error:l,loading:!1,user:null,isAuthenticated:!1}),o}},signIn:async a=>{var r,n;e({loading:!0,error:null});try{console.log("Starting signin process...");const i=await se.login(a);if(i.data.success){console.log("Signin successful:",i.data);const o=i.data.data.tokens;o!=null&&o.accessToken&&(o!=null&&o.refreshToken)?(localStorage.setItem("accessToken",o.accessToken),localStorage.setItem("refreshToken",o.refreshToken),console.log("Tokens stored successfully")):console.warn("Missing tokens in response");const l=i.data.data.user;e({user:l,loading:!1,isAuthenticated:!0,error:null}),console.log("User signed in:",l)}else throw new Error(i.data.message||"Login failed")}catch(i){console.error("Signin error:",i);const o=((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Login failed. Please check your credentials.";throw e({error:o,loading:!1,user:null,isAuthenticated:!1}),i}},signOut:async()=>{e({loading:!0,error:null});try{const a=localStorage.getItem("refreshToken");a&&(console.log("Sending logout request to server..."),await se.logout({refreshToken:a}))}catch(a){console.error("Logout API error:",a)}finally{console.log("Clearing tokens and user data..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,loading:!1,isAuthenticated:!1,error:null}),console.log("User signed out successfully")}},checkAuth:async()=>{var r;if(!localStorage.getItem("accessToken")){console.log("No access token found"),e({user:null,loading:!1,isAuthenticated:!1});return}e({loading:!0,error:null});try{console.log("Checking authentication status...");const n=await se.getMe();if(n.data.success){const i=n.data.data.user;console.log("Auth check successful:",i),e({user:i,loading:!1,isAuthenticated:!0,error:null})}else throw console.log("Auth check failed - invalid response"),new Error("Invalid response from server")}catch(n){if(console.error("Auth check error:",n),((r=n.response)==null?void 0:r.status)===401&&(console.log("Token expired, attempting refresh..."),await s().refreshToken()))try{const o=await se.getMe();if(o.data.success){const l=o.data.data.user;e({user:l,loading:!1,isAuthenticated:!0,error:null});return}}catch(o){console.error("Retry auth check failed:",o)}console.log("Clearing invalid auth data..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,loading:!1,isAuthenticated:!1,error:null})}},updateProfile:async a=>{var n,i;const r=s().user;if(!r)throw new Error("No user logged in");e({loading:!0,error:null});try{console.log("Updating profile:",a);const o=await se.updateProfile(a);if(o!=null&&o.data.success){const l={...r,...o.data.data.user};console.log("Profile updated successfully:",l),e({user:l,loading:!1,error:null})}else throw new Error((o==null?void 0:o.data.message)||"Profile update failed")}catch(o){console.error("Profile update error:",o);const l=((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||o.message||"Profile update failed";throw e({error:l,loading:!1}),o}},verifyEmail:async a=>{var r,n;e({loading:!0,error:null});try{console.log("Verifying email with token...");const i=await se.verifyEmail(a);if(i.data.success){console.log("Email verified successfully");const o=s().user;e(o?{user:{...o,isVerified:!0},loading:!1,error:null}:{loading:!1,error:null})}else throw new Error(i.data.message||"Email verification failed")}catch(i){console.error("Email verification error:",i);const o=((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Email verification failed";throw e({error:o,loading:!1}),i}},resendVerification:async()=>{var a,r;e({loading:!0,error:null});try{console.log("Resending verification email...");const n=await se.resendVerification();if(n.data.success)console.log("Verification email sent successfully"),e({loading:!1,error:null});else throw new Error(n.data.message||"Failed to resend verification email")}catch(n){console.error("Resend verification error:",n);const i=((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||n.message||"Failed to resend verification email";throw e({error:i,loading:!1}),n}},forgotPassword:async a=>{var r,n;e({loading:!0,error:null});try{console.log("Sending forgot password request...");const i=await se.forgotPassword({email:a});if(i.data.success)console.log("Password reset email sent"),e({loading:!1,error:null});else throw new Error(i.data.message||"Failed to send reset email")}catch(i){console.error("Forgot password error:",i);const o=((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to send reset email";throw e({error:o,loading:!1}),i}},resetPassword:async(a,r,n)=>{var i,o;e({loading:!0,error:null});try{console.log("Resetting password...");const l=await se.resetPassword({token:a,userId:r,newPassword:n});if(l.data.success)console.log("Password reset successfully"),e({loading:!1,error:null});else throw new Error(l.data.message||"Password reset failed")}catch(l){console.error("Reset password error:",l);const d=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||l.message||"Password reset failed";throw e({error:d,loading:!1}),l}},changePassword:async(a,r)=>{var n,i;e({loading:!0,error:null});try{console.log("Changing password...");const o=await se.changePassword({currentPassword:a,newPassword:r});if(o.data.success)console.log("Password changed successfully"),e({loading:!1,error:null});else throw new Error(o.data.message||"Password change failed")}catch(o){console.error("Change password error:",o);const l=((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||o.message||"Password change failed";throw e({error:l,loading:!1}),o}},refreshToken:async()=>{const a=localStorage.getItem("refreshToken");if(!a)return console.log("No refresh token available"),!1;try{console.log("Attempting to refresh access token...");const r=await se.refreshToken({refreshToken:a});if(r.data.success){const{accessToken:n,refreshToken:i}=r.data.data.tokens;return localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",i),console.log("Tokens refreshed successfully"),!0}else return console.log("Token refresh failed - invalid response"),!1}catch(r){return console.error("Token refresh error:",r),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,isAuthenticated:!1,error:null}),!1}},isTokenValid:()=>{const a=localStorage.getItem("accessToken");if(!a)return!1;try{return a.split(".").length===3}catch{return!1}},clearError:()=>{e({error:null})}}));let ps=!1;ps||(ps=!0,setTimeout(()=>{console.log("Initializing auth check..."),Ae.getState().checkAuth()},100));const Ti=()=>{const e=X(),{user:s}=Ae();return pe.useEffect(()=>{s&&e("/dashboard")},[s,e]),t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-lavender-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"0.5s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(B,{className:"w-12 h-12 text-white",fill:"currentColor"})}),t.jsx(m.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-5xl font-friendly font-bold bg-gradient-to-r from-coral-500 to-peach-500 bg-clip-text text-transparent mb-3",children:"SoulSync"}),t.jsx(m.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-warm-700 text-xl font-medium mb-2",children:"Where Hearts Align with AI"}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"flex items-center justify-center gap-2 text-warm-600 text-sm",children:[t.jsx(Ue,{className:"w-4 h-4 text-mint-500"}),t.jsx("span",{children:"Powered by Emotion. Perfected by AI."}),t.jsx(wt,{className:"w-4 h-4 text-gold-400"})]}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"flex items-center justify-center gap-4 mt-4 text-xs text-warm-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(fe,{className:"w-3 h-3 text-gold-400 fill-current"}),t.jsx("span",{children:"4.9/5 Rating"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ce,{className:"w-3 h-3 text-sky-400"}),t.jsx("span",{children:"10K+ Matches"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ma,{className:"w-3 h-3 text-sage-500"}),t.jsx("span",{children:"Human Touch"})]})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"friendly-card p-8 space-y-4",children:[t.jsx(Ne,{to:"/signup",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"friendly-button w-full flex items-center justify-center gap-2 font-semibold",children:["Start Your Journey",t.jsx(Mt,{className:"w-5 h-5"})]})}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-warm-600",children:"Already have an account? "}),t.jsx(Ne,{to:"/login",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign In"})]})]}),t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},className:"text-center mt-6 text-xs text-warm-500",children:t.jsx("p",{children:"By continuing, you agree to our Terms & Privacy Policy"})})]})]})},Ri={user:null,currentStep:0,personalityAnswers:{},compatibilityAnswers:{},hasPayment:!1,hasPremium:!1,subscription:null,currentMatch:null,acceptedMatch:null,rejectedMatches:[],dailyMatchCount:0,lastMatchDate:new Date().toDateString(),messages:[]},ra=b.createContext(null);function Ii(e,s){var a,r;switch(s.type){case"SET_USER":return{...e,user:s.payload,hasPremium:((a=s.payload)==null?void 0:a.hasPremium)||!1,subscription:((r=s.payload)==null?void 0:r.subscription)||null};case"SET_STEP":return{...e,currentStep:s.payload};case"SET_PERSONALITY_ANSWERS":return{...e,personalityAnswers:s.payload};case"SET_COMPATIBILITY_ANSWERS":return{...e,compatibilityAnswers:s.payload};case"SET_PAYMENT_STATUS":return{...e,hasPayment:s.payload};case"SET_PREMIUM_STATUS":return{...e,hasPremium:s.payload.hasPremium,subscription:s.payload.subscription};case"SET_MATCH":return{...e,currentMatch:s.payload};case"ACCEPT_MATCH":return{...e,acceptedMatch:s.payload,currentMatch:null,dailyMatchCount:e.dailyMatchCount+1,lastMatchDate:new Date().toDateString()};case"REJECT_MATCH":{const n=new Date().toDateString(),i=e.lastMatchDate!==n;return{...e,rejectedMatches:[...e.rejectedMatches,s.payload],currentMatch:null,dailyMatchCount:i?1:e.dailyMatchCount+1,lastMatchDate:n}}case"RESET_DAILY_MATCHES":return{...e,dailyMatchCount:0,lastMatchDate:new Date().toDateString(),rejectedMatches:[]};case"ADD_MESSAGE":return{...e,messages:[...e.messages,{id:Date.now().toString(),senderId:s.payload.senderId,content:s.payload.content,timestamp:new Date}]};default:return e}}function Oi({children:e}){const[s,a]=b.useReducer(Ii,Ri);return t.jsx(ra.Provider,{value:{state:s,dispatch:a},children:e})}function ie(){const e=b.useContext(ra);if(!e)throw new Error("useApp must be used within AppProvider");return e}const na=[{id:"love_language",category:"personality",question:"What's your primary love language?",type:"multiple",emoji:"",weight:9,options:[{value:"words",label:"Words of Affirmation",emoji:""},{value:"quality",label:"Quality Time",emoji:""},{value:"gifts",label:"Receiving Gifts",emoji:""},{value:"touch",label:"Physical Touch",emoji:""},{value:"service",label:"Acts of Service",emoji:""}]},{id:"ideal_sunday",category:"lifestyle",question:"Describe your ideal Sunday:",type:"multiple",emoji:"",weight:7,options:[{value:"adventure",label:"Outdoor Adventure",emoji:""},{value:"cozy",label:"Cozy Home Vibes",emoji:""},{value:"social",label:"Friends & Family",emoji:""},{value:"cultural",label:"Museums & Art",emoji:""},{value:"active",label:"Sports & Fitness",emoji:""}]},{id:"red_flag",category:"values",question:"What's your biggest red flag in dating?",type:"multiple",emoji:"",weight:10,options:[{value:"dishonesty",label:"Dishonesty",emoji:""},{value:"selfish",label:"Self-Centered",emoji:""},{value:"lazy",label:"No Ambition",emoji:""},{value:"rude",label:"Rude to Service Staff",emoji:""},{value:"phone",label:"Always on Phone",emoji:""}]},{id:"relationship_goal",category:"relationship",question:"What do you want in your next relationship?",type:"multiple",emoji:"",weight:10,options:[{value:"serious",label:"Something Serious",emoji:""},{value:"fun",label:"Fun & Casual",emoji:""},{value:"growth",label:"Personal Growth",emoji:""},{value:"adventure",label:"Adventure Partner",emoji:""},{value:"stability",label:"Stability & Comfort",emoji:""}]},{id:"conflict_style",category:"communication",question:"How do you handle conflict in relationships?",type:"multiple",emoji:"",weight:9,options:[{value:"direct",label:"Address it head-on",emoji:""},{value:"avoid",label:"Give space, then discuss",emoji:""},{value:"compromise",label:"Find middle ground",emoji:""},{value:"listen",label:"Listen first, then respond",emoji:""}]},{id:"spontaneity",category:"personality",question:"Are you more spontaneous or planned?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Very Planned","Very Spontaneous"]},{id:"emotional_intelligence",category:"personality",question:"Rate your emotional intelligence:",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Still Learning","Very High"]},{id:"social_energy",category:"lifestyle",question:"After a long week, you prefer:",type:"multiple",emoji:"",weight:7,options:[{value:"party",label:"Going out with friends",emoji:""},{value:"date",label:"Intimate dinner for two",emoji:""},{value:"home",label:"Cozy night at home",emoji:""},{value:"adventure",label:"Trying something new",emoji:""}]},{id:"communication_style",category:"communication",question:"Your communication style is:",type:"multiple",emoji:"",weight:8,options:[{value:"direct",label:"Direct and honest",emoji:""},{value:"gentle",label:"Gentle and thoughtful",emoji:""},{value:"playful",label:"Playful and humorous",emoji:""},{value:"deep",label:"Deep and meaningful",emoji:""}]},{id:"life_goals",category:"values",question:"Your biggest life goal is:",type:"multiple",emoji:"",weight:9,options:[{value:"career",label:"Career success",emoji:""},{value:"family",label:"Building a family",emoji:""},{value:"travel",label:"Exploring the world",emoji:""},{value:"impact",label:"Making a difference",emoji:""},{value:"growth",label:"Personal growth",emoji:""}]},{id:"relocation",category:"relationship",question:"Would you relocate for love?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Never","Absolutely"]},{id:"morning_person",category:"lifestyle",question:"Are you a morning person or night owl?",type:"scale",emoji:"",weight:5,min:1,max:10,labels:["Night Owl","Morning Person"]},{id:"risk_tolerance",category:"personality",question:"How do you feel about taking risks?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Very Cautious","Love Taking Risks"]},{id:"social_preference",category:"lifestyle",question:"Do you prefer small gatherings or big parties?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Small Groups","Big Parties"]},{id:"decision_making",category:"personality",question:"How do you make important decisions?",type:"multiple",emoji:"",weight:7,options:[{value:"logical",label:"Logic and analysis",emoji:""},{value:"intuitive",label:"Trust my gut feeling",emoji:""},{value:"research",label:"Extensive research",emoji:""},{value:"advice",label:"Seek advice from others",emoji:""}]},{id:"stress_management",category:"personality",question:"How do you handle stress?",type:"multiple",emoji:"",weight:7,options:[{value:"exercise",label:"Exercise and movement",emoji:""},{value:"meditation",label:"Meditation and mindfulness",emoji:""},{value:"social",label:"Talk to friends/family",emoji:""},{value:"creative",label:"Creative activities",emoji:""},{value:"nature",label:"Spend time in nature",emoji:""}]},{id:"money_attitude",category:"values",question:"What's your attitude toward money?",type:"multiple",emoji:"",weight:8,options:[{value:"saver",label:"Save for the future",emoji:""},{value:"spender",label:"Enjoy it while you can",emoji:""},{value:"investor",label:"Invest for growth",emoji:""},{value:"balanced",label:"Balance saving and spending",emoji:""}]},{id:"family_importance",category:"values",question:"How important is family in your life?",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Not Very Important","Extremely Important"]},{id:"career_ambition",category:"values",question:"How ambitious are you about your career?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Work to Live","Live to Work"]},{id:"physical_activity",category:"lifestyle",question:"How important is physical fitness to you?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Not Important","Very Important"]},{id:"travel_frequency",category:"lifestyle",question:"How often do you like to travel?",type:"multiple",emoji:"",weight:6,options:[{value:"rarely",label:"Rarely travel",emoji:""},{value:"yearly",label:"Once or twice a year",emoji:""},{value:"quarterly",label:"Every few months",emoji:""},{value:"monthly",label:"Monthly adventures",emoji:""},{value:"nomad",label:"Digital nomad lifestyle",emoji:""}]},{id:"learning_style",category:"personality",question:"How do you prefer to learn new things?",type:"multiple",emoji:"",weight:5,options:[{value:"reading",label:"Reading and research",emoji:""},{value:"hands_on",label:"Hands-on experience",emoji:""},{value:"discussion",label:"Discussion and debate",emoji:""},{value:"visual",label:"Visual and multimedia",emoji:""}]},{id:"humor_style",category:"personality",question:"What's your sense of humor like?",type:"multiple",emoji:"",weight:7,options:[{value:"witty",label:"Witty and clever",emoji:""},{value:"silly",label:"Silly and goofy",emoji:""},{value:"sarcastic",label:"Sarcastic and dry",emoji:""},{value:"wholesome",label:"Wholesome and clean",emoji:""},{value:"dark",label:"Dark and edgy",emoji:""}]},{id:"pet_preference",category:"lifestyle",question:"What's your relationship with pets?",type:"multiple",emoji:"",weight:6,options:[{value:"dog_lover",label:"Dog lover",emoji:""},{value:"cat_lover",label:"Cat lover",emoji:""},{value:"both",label:"Love all animals",emoji:""},{value:"allergic",label:"Allergic to pets",emoji:""},{value:"no_pets",label:"Prefer no pets",emoji:""}]},{id:"music_taste",category:"lifestyle",question:"What music moves your soul?",type:"multiple",emoji:"",weight:5,options:[{value:"pop",label:"Pop and mainstream",emoji:""},{value:"rock",label:"Rock and alternative",emoji:""},{value:"electronic",label:"Electronic and EDM",emoji:""},{value:"classical",label:"Classical and jazz",emoji:""},{value:"hip_hop",label:"Hip-hop and R&B",emoji:""},{value:"indie",label:"Indie and folk",emoji:""}]},{id:"food_adventure",category:"lifestyle",question:"How adventurous are you with food?",type:"scale",emoji:"",weight:5,min:1,max:10,labels:["Stick to Favorites","Try Anything Once"]},{id:"technology_comfort",category:"lifestyle",question:"How comfortable are you with technology?",type:"scale",emoji:"",weight:4,min:1,max:10,labels:["Basic User","Tech Enthusiast"]},{id:"environmental_consciousness",category:"values",question:"How important is environmental sustainability to you?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Not a Priority","Very Important"]},{id:"political_engagement",category:"values",question:"How engaged are you with politics?",type:"scale",emoji:"",weight:6,min:1,max:10,labels:["Not Interested","Very Engaged"]},{id:"spirituality",category:"values",question:"How important is spirituality in your life?",type:"scale",emoji:"",weight:8,min:1,max:10,labels:["Not Important","Very Important"]},{id:"work_life_balance",category:"values",question:"How do you prioritize work-life balance?",type:"scale",emoji:"",weight:7,min:1,max:10,labels:["Work First","Life First"]}],ke=(e,s,a=[])=>{let r=na.filter(i=>!a.includes(i.id));return e!=="all"&&(r=r.filter(i=>i.category===e)),r.sort(()=>.5-Math.random()).slice(0,s)},Mi=(e,s=[])=>na.filter(r=>r.weight>=8&&!s.includes(r.id)).sort(()=>.5-Math.random()).slice(0,e),_i=()=>{const[e,s]=b.useState(0),[a,r]=b.useState({}),[n,i]=b.useState([]),o=X(),{dispatch:l}=ie();b.useEffect(()=>{const v=ke("personality",3),p=ke("lifestyle",2),N=ke("values",2),j=[...v,...p,...N];i(j)},[]);const d=(v,p)=>{r(N=>({...N,[v]:p}))},c=()=>{e<n.length-1?s(v=>v+1):(l({type:"SET_PERSONALITY_ANSWERS",payload:a}),o("/payment"))},u=()=>{e>0&&s(v=>v-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full"})});const f=(e+1)/n.length*100,y=n[e],h=a[y.id],g=()=>{var v,p,N;switch(y.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(v=y.options)==null?void 0:v.map((j,w)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},onClick:()=>d(y.id,j.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${h===j.value?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400 hover:bg-pink-400/10"}`,children:[j.emoji&&t.jsx("span",{className:"text-2xl",children:j.emoji}),t.jsx("span",{className:"font-medium",children:j.label})]},j.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(p=y.labels)==null?void 0:p[0]}),t.jsx("span",{children:(N=y.labels)==null?void 0:N[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:y.min,max:y.max,value:h||y.min,onChange:j=>d(y.id,parseInt(j.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #ec4899 0%, #ec4899 ${((h||y.min)-y.min)/(y.max-y.min)*100}%, rgba(255,255,255,0.2) ${((h||y.min)-y.min)/(y.max-y.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:y.max-y.min+1},(j,w)=>t.jsx("span",{className:"text-xs text-gray-500",children:y.min+w},w))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-pink-400",children:h||y.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>d(y.id,!0),className:`p-6 rounded-xl border-2 transition-all ${h===!0?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>d(y.id,!1),className:`p-6 rounded-xl border-2 transition-all ${h===!1?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mb-4",children:t.jsx(B,{className:"w-8 h-8 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Let's get to know the real you"}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${f}%`},className:"bg-gradient-to-r from-pink-500 to-purple-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[y.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:y.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:y.question})]}),g()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(ye,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,disabled:h==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Continue":"Next",t.jsx(_t,{className:"w-5 h-5"})]})]})]})})};/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Q||(Q={}));var he;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(he||(he={}));var hs;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(hs||(hs={}));var U=function(){return U=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},U.apply(this,arguments)};function ia(e,s){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}function fs(e,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,i;r<n;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return e.concat(i||Array.prototype.slice.call(s))}var We="data-react-paypal-script-id",ve={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},Di="Failed to load the PayPal JS SDK script.",oa="paypal",Fi="usePayPalScriptReducer must be used within a PayPalScriptProvider";function Li(e){return e===void 0&&(e=oa),window[e]}function $i(e){for(var s="",a=0;a<e.length;a++){var r=e[a].charCodeAt(0)*a;e[a+1]&&(r+=e[a+1].charCodeAt(0)*(a-1)),s+=String.fromCharCode(97+Math.abs(r)%26)}return s}function Ui(e){var s=e.reactComponentName,a=e.sdkComponentKey,r=e.sdkRequestedComponents,n=r===void 0?"":r,i=e.sdkDataNamespace,o=i===void 0?oa:i,l=a.charAt(0).toUpperCase().concat(a.substring(1)),d="Unable to render <".concat(s," /> because window.").concat(o,".").concat(l," is undefined."),c=typeof n=="string"?n:n.join(",");if(!c.includes(a)){var u=[c,a].filter(Boolean).join();d+=`
To fix the issue, add '`.concat(a,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(u,"'}}>`.")}return d}function la(e){var s=e,a=We;s[a];var r=ia(s,[a+""]);return"react-paypal-js-".concat($i(JSON.stringify(r)))}function Bi(e){var s=self.document.querySelector("script[".concat(We,'="').concat(e,'"]'));s!=null&&s.parentNode&&s.parentNode.removeChild(s)}function qi(e,s){var a,r;switch(s.type){case he.LOADING_STATUS:return typeof s.value=="object"?U(U({},e),{loadingStatus:s.value.state,loadingStatusErrorMessage:s.value.message}):U(U({},e),{loadingStatus:s.value});case he.RESET_OPTIONS:return Bi(e.options[We]),U(U({},e),{loadingStatus:Q.PENDING,options:U(U((a={},a[ve.DATA_SDK_INTEGRATION_SOURCE]=ve.DATA_LIBRARY_VALUE,a),s.value),(r={},r[We]="".concat(la(s.value)),r))});case he.SET_BRAINTREE_INSTANCE:return U(U({},e),{braintreePayPalCheckoutInstance:s.value});default:return e}}var ca=b.createContext(null);function Hi(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(Fi)}function zi(){var e=Hi(b.useContext(ca)),s=U(U({},e),{isInitial:e.loadingStatus===Q.INITIAL,isPending:e.loadingStatus===Q.PENDING,isResolved:e.loadingStatus===Q.RESOLVED,isRejected:e.loadingStatus===Q.REJECTED});return[s,e.dispatch]}b.createContext({});function Wi(e){var s=b.useRef(new Proxy({},{get:function(a,r,n){return typeof a[r]=="function"?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return a[r].apply(a,i)}:Reflect.get(a,r,n)}}));return s.current=Object.assign(s.current,e),s.current}var Bt=function(e){var s,a=e.className,r=a===void 0?"":a,n=e.disabled,i=n===void 0?!1:n,o=e.children,l=e.forceReRender,d=l===void 0?[]:l,c=ia(e,["className","disabled","children","forceReRender"]),u=i?{opacity:.38}:{},f="".concat(r," ").concat(i?"paypal-buttons-disabled":"").trim(),y=b.useRef(null),h=b.useRef(null),g=Wi(c),v=zi()[0],p=v.isResolved,N=v.options,j=b.useState(null),w=j[0],E=j[1],O=b.useState(!0),S=O[0],k=O[1],R=b.useState(null),I=R[1];function C(){h.current!==null&&h.current.close().catch(function(){})}return!((s=h.current)===null||s===void 0)&&s.updateProps&&h.current.updateProps({message:c.message}),b.useEffect(function(){if(p===!1)return C;var M=Li(N.dataNamespace);if(M===void 0||M.Buttons===void 0)return I(function(){throw new Error(Ui({reactComponentName:Bt.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[ve.DATA_NAMESPACE]}))}),C;var q=function(_,P){E(P),typeof c.onInit=="function"&&c.onInit(_,P)};try{h.current=M.Buttons(U(U({},g),{onInit:q}))}catch(_){return I(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(_))})}return h.current.isEligible()===!1?(k(!1),C):(y.current&&h.current.render(y.current).catch(function(_){y.current===null||y.current.children.length===0||I(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(_))})}),C)},fs(fs([p],d,!0),[c.fundingSource],!1)),b.useEffect(function(){w!==null&&(i===!0?w.disable().catch(function(){}):w.enable().catch(function(){}))},[i,w]),pe.createElement(pe.Fragment,null,S?pe.createElement("div",{ref:y,style:u,className:f}):o)};Bt.displayName="PayPalButtons";function Vi(e,s){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}function Ji(e,s){var a=document.querySelector('script[src="'.concat(e,'"]'));if(a===null)return null;var r=da(e,s),n=a.cloneNode();if(delete n.dataset.uidAuto,Object.keys(n.dataset).length!==Object.keys(r.dataset).length)return null;var i=!0;return Object.keys(n.dataset).forEach(function(o){n.dataset[o]!==r.dataset[o]&&(i=!1)}),i?a:null}function Gi(e){var s=e.url,a=e.attributes,r=e.onSuccess,n=e.onError,i=da(s,a);i.onerror=n,i.onload=r,document.head.insertBefore(i,document.head.firstElementChild)}function Qi(e){var s=e.sdkBaseUrl,a=e.environment,r=Vi(e,["sdkBaseUrl","environment"]),n=s||Xi(a),i=r,o=Object.keys(i).filter(function(c){return typeof i[c]<"u"&&i[c]!==null&&i[c]!==""}).reduce(function(c,u){var f=i[u].toString();return u=Yi(u),u.substring(0,4)==="data"||u==="crossorigin"?c.attributes[u]=f:c.queryParams[u]=f,c},{queryParams:{},attributes:{}}),l=o.queryParams,d=o.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(d["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(n,"?").concat(Ki(l)),attributes:d}}function Yi(e){var s=function(a,r){return(r?"-":"")+a.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,s)}function Ki(e){var s="";return Object.keys(e).forEach(function(a){s.length!==0&&(s+="&"),s+=a+"="+e[a]}),s}function Xi(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function da(e,s){s===void 0&&(s={});var a=document.createElement("script");return a.src=e,Object.keys(s).forEach(function(r){a.setAttribute(r,s[r]),r==="data-csp-nonce"&&a.setAttribute("nonce",s["data-csp-nonce"])}),a}function Zi(e,s){if(s===void 0&&(s=Promise),ua(e,s),typeof document>"u")return s.resolve(null);var a=Qi(e),r=a.url,n=a.attributes,i=n["data-namespace"]||"paypal",o=xs(i);return n["data-js-sdk-library"]||(n["data-js-sdk-library"]="paypal-js"),Ji(r,n)&&o?s.resolve(o):eo({url:r,attributes:n},s).then(function(){var l=xs(i);if(l)return l;throw new Error("The window.".concat(i," global variable is not available."))})}function eo(e,s){s===void 0&&(s=Promise),ua(e,s);var a=e.url,r=e.attributes;if(typeof a!="string"||a.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new s(function(n,i){if(typeof document>"u")return n();Gi({url:a,attributes:r,onSuccess:function(){return n()},onError:function(){var o=new Error('The script "'.concat(a,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function xs(e){return window[e]}function ua(e,s){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var a=e.environment;if(a&&a!=="production"&&a!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof s<"u"&&typeof s!="function")throw new Error("Expected PromisePonyfill to be a function.")}var to=function(e){var s,a=e.options,r=a===void 0?{clientId:"test"}:a,n=e.children,i=e.deferLoading,o=i===void 0?!1:i,l=b.useReducer(qi,{options:U(U({},r),(s={},s[ve.DATA_JS_SDK_LIBRARY]=ve.DATA_LIBRARY_VALUE,s[ve.DATA_SDK_INTEGRATION_SOURCE]=ve.DATA_LIBRARY_VALUE,s[We]="".concat(la(r)),s)),loadingStatus:o?Q.INITIAL:Q.PENDING}),d=l[0],c=l[1];return b.useEffect(function(){if(o===!1&&d.loadingStatus===Q.INITIAL)return c({type:he.LOADING_STATUS,value:Q.PENDING});if(d.loadingStatus===Q.PENDING){var u=!0;return Zi(d.options).then(function(){u&&c({type:he.LOADING_STATUS,value:Q.RESOLVED})}).catch(function(f){console.error("".concat(Di," ").concat(f)),u&&c({type:he.LOADING_STATUS,value:{state:Q.REJECTED,message:String(f)}})}),function(){u=!1}}},[d.options,o,d.loadingStatus]),pe.createElement(ca.Provider,{value:U(U({},d),{dispatch:c})},n)};function ys(){}b.createContext({cardFieldsForm:null,fields:{},registerField:ys,unregisterField:ys});const so=({amount:e,currency:s,description:a,onSuccess:r,onError:n,onPending:i})=>{const o=async()=>{try{i();const c=(await $e.createNOWPayments({amount:e,currency:s,description:a})).data;c.success?c.data.payment.hostedUrl&&(window.open(c.data.payment.hostedUrl,"_blank"),l(c.data.payment.id)):n(c.message||"Failed to create payment")}catch{n("Failed to initiate payment")}},l=async d=>{const c=setInterval(async()=>{try{const f=(await $e.getPaymentStatus(d)).data;f.success&&f.data.payment.status==="completed"?(clearInterval(c),r()):f.success&&f.data.payment.status==="failed"&&(clearInterval(c),n("Payment failed"))}catch(u){console.error("Payment status check error:",u)}},5e3);setTimeout(()=>{clearInterval(c),n("Payment timeout")},9e5)};return t.jsxs("button",{onClick:o,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(jt,{className:"w-5 h-5"}),"Pay with NOWPayments ($",e,")"]})},ao=()=>{const[e,s]=b.useState(!1),[a,r]=b.useState(""),[n,i]=b.useState(!1),[o,l]=b.useState("crypto"),[d,c]=b.useState(null),[u,f]=b.useState("pending"),y=X(),{dispatch:h}=ie(),g={clientId:"AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUXlkA59kJXE7M6R",currency:"USD",intent:"capture"},v=async()=>{try{s(!0),r("");const S=await $e.createPayment({amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer"}),{payment:k}=S.data.data;c(k.id),k.hostedUrl&&window.open(k.hostedUrl,"_blank"),p(k.id)}catch(S){console.error("Crypto payment creation error:",S),r("Failed to create payment. Please try again."),s(!1)}},p=async S=>{const k=setInterval(async()=>{try{const R=await $e.getPaymentStatus(S),{payment:I}=R.data.data;I.status==="completed"?(f("completed"),i(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),clearInterval(k),setTimeout(()=>{y("/compatibility-quiz")},2e3)):I.status==="failed"&&(f("failed"),r("Payment failed. Please try again."),s(!1),clearInterval(k))}catch(R){console.error("Payment status check error:",R)}},5e3);setTimeout(()=>{clearInterval(k),u==="pending"&&(r("Payment timeout. Please try again."),s(!1))},6e5)},N=(S,k)=>(s(!0),r(""),k.order.create({purchase_units:[{amount:{value:"10.00",currency_code:"USD"},description:"SoulSync AI Matchmaking - Limited Launch Offer"}],application_context:{brand_name:"SoulSync",user_action:"PAY_NOW"}})),j=async(S,k)=>{try{const R=await k.order.capture();await $e.createPayment({amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer",provider:"paypal",providerId:R.id}),console.log("PayPal payment completed:",R),i(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{y("/compatibility-quiz")},2e3)}catch(R){console.error("PayPal payment error:",R),r("Payment failed. Please try again."),s(!1)}},w=S=>{console.error("PayPal error:",S),r("Payment failed. Please try again."),s(!1)},E=()=>{s(!1),r("Payment was cancelled.")},O=()=>{s(!0),r(""),setTimeout(()=>{i(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{y("/compatibility-quiz")},2e3)},2e3)};return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full mb-6",children:t.jsx(vt,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Payment Successful! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:"Welcome to SoulSync! Let's find your perfect match."}),t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full"})]})}):t.jsx(to,{options:g,children:t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mb-4",children:t.jsx(Te,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Limited Launch Offer"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Unlock SoulSync AI Matchmaking & Premium Chat"}),t.jsxs("div",{className:"bg-gradient-to-r from-pink-500/20 to-purple-600/20 border border-pink-500/30 rounded-xl p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(fe,{className:"w-5 h-5 text-yellow-400",fill:"currentColor"}),t.jsx("span",{className:"text-2xl font-bold text-white",children:"$10"}),t.jsx("span",{className:"text-gray-400 line-through",children:"$29"})]}),t.jsx("p",{className:"text-sm text-gray-300",children:"We're invite-only. Your payment ensures real users & accurate matching."})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Fe,{className:"w-5 h-5 text-yellow-400"}),"What You Get:"]}),t.jsx("div",{className:"space-y-3",children:["AI-Powered Compatibility Matching","Unlimited Premium Chat Features","Advanced Personality Analysis","Smart Date Location Finder","Priority Match Recommendations"].map((S,k)=>t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+k*.1},className:"flex items-center gap-3",children:[t.jsx(vt,{className:"w-5 h-5 text-green-400"}),t.jsx("span",{className:"text-gray-300",children:S})]},S))})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[t.jsx(Nt,{className:"w-5 h-5"}),"Payment Method"]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("crypto"),className:`p-3 rounded-xl border-2 transition-all text-center ${o==="crypto"?"border-orange-500 bg-orange-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-orange-400"}`,children:[t.jsx(Ht,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"Crypto"}),t.jsx("div",{className:"text-xs opacity-75",children:"Recommended"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("paypal"),className:`p-3 rounded-xl border-2 transition-all text-center ${o==="paypal"?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx(Nt,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"PayPal"}),t.jsx("div",{className:"text-xs opacity-75",children:"Fallback"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("nowpayments"),className:`p-3 rounded-xl border-2 transition-all text-center ${o==="nowpayments"?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx(jt,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"NOW"}),t.jsx("div",{className:"text-xs opacity-75",children:"Payments"})]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("demo"),className:`p-3 rounded-xl border-2 transition-all text-center ${o==="demo"?"border-green-500 bg-green-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-green-400"}`,children:[t.jsx(zt,{className:"w-6 h-6 mx-auto mb-2"}),t.jsx("div",{className:"font-medium",children:"Demo"}),t.jsx("div",{className:"text-xs opacity-75",children:"Testing"})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Secure Payment"}),t.jsx("p",{className:"text-sm text-gray-400",children:o==="crypto"?"Pay securely with Bitcoin, Ethereum, or other cryptocurrencies":o==="paypal"?"Pay securely with PayPal or credit card":"Demo payment for testing purposes"})]}),a&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:a})}),o==="crypto"&&d&&t.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-orange-500/20 border border-orange-500/30 rounded-lg p-3 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(jt,{className:"w-4 h-4 text-orange-400"}),t.jsx("span",{className:"text-orange-400 text-sm font-medium",children:"Crypto Payment"})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:"Payment page opened in new tab. Please complete payment there."}),t.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Status: ",u==="pending"?"Waiting for payment...":u]})]}),o==="crypto"?t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:v,disabled:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(Ht,{className:"w-5 h-5"}),e?"Creating Payment...":"Pay with Crypto ($10)"]}):o==="paypal"?t.jsx("div",{className:"paypal-button-container",children:t.jsx(Bt,{style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",height:45},createOrder:N,onApprove:j,onError:w,onCancel:E,disabled:e})}):o==="nowpayments"?t.jsx(so,{amount:10,currency:"USD",description:"SoulSync AI Matchmaking - Limited Launch Offer",onSuccess:()=>{i(!0),h({type:"SET_PAYMENT_STATUS",payload:!0}),setTimeout(()=>{y("/compatibility-quiz")},2e3)},onError:S=>{r(S),s(!1)},onPending:()=>{s(!0),r("")}}):t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:O,disabled:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(zt,{className:"w-5 h-5"}),e?"Processing Demo Payment...":"Complete Demo Payment ($10)"]}),e&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300",children:o==="crypto"?"Creating crypto payment...":"Processing payment..."})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsxs("p",{className:"text-xs text-gray-400 flex items-center justify-center gap-1",children:[t.jsx(Te,{className:"w-3 h-3"}),o==="crypto"?"Secured by Coinbase Commerce & blockchain technology":o==="paypal"?"Secured by PayPal & 256-bit SSL encryption":"Demo mode - No real payment processed"]})})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>y(-1),className:"text-gray-400 hover:text-white transition-colors text-sm",children:" Back to quiz"})})]})})})},ro=()=>{const[e,s]=b.useState(0),[a,r]=b.useState({}),[n,i]=b.useState([]),o=X(),{dispatch:l,state:d}=ie();b.useEffect(()=>{const p=Object.keys(d.personalityAnswers),N=Mi(4,p),j=ke("communication",2,p),w=ke("relationship",2,p),E=ke("compatibility",1,p),O=[...N,...j,...w,...E].slice(0,8);i(O)},[d.personalityAnswers]);const c=(p,N)=>{r(j=>({...j,[p]:N}))},u=()=>{if(e<n.length-1)s(p=>p+1);else{const p={...d.personalityAnswers,...a};l({type:"SET_COMPATIBILITY_ANSWERS",payload:p}),o("/ai-matching")}},f=()=>{e>0&&s(p=>p-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full"})});const y=(e+1)/n.length*100,h=n[e],g=a[h.id],v=()=>{var p,N,j;switch(h.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(p=h.options)==null?void 0:p.map((w,E)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},onClick:()=>c(h.id,w.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${g===w.value?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400 hover:bg-purple-400/10"}`,children:[w.emoji&&t.jsx("span",{className:"text-2xl",children:w.emoji}),t.jsx("span",{className:"font-medium",children:w.label})]},w.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(N=h.labels)==null?void 0:N[0]}),t.jsx("span",{children:(j=h.labels)==null?void 0:j[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:h.min,max:h.max,value:g||h.min,onChange:w=>c(h.id,parseInt(w.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #8b5cf6 0%, #8b5cf6 ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:h.max-h.min+1},(w,E)=>t.jsx("span",{className:"text-xs text-gray-500",children:h.min+E},E))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-purple-400",children:g||h.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>c(h.id,!0),className:`p-6 rounded-xl border-2 transition-all ${g===!0?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>c(h.id,!1),className:`p-6 rounded-xl border-2 transition-all ${g===!1?"border-purple-500 bg-purple-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-purple-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full mb-4",children:t.jsx(Ue,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"The magic begins here"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Our AI engine needs your honesty "}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${y}%`},className:"bg-gradient-to-r from-purple-500 to-blue-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[h.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:h.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:h.question}),h.weight>=8&&t.jsx("div",{className:"inline-flex items-center gap-1 bg-yellow-500/20 border border-yellow-500/30 rounded-full px-3 py-1 mb-4",children:t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"High Impact Question"})})]}),v()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(ye,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,disabled:g==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Find My Match":"Next",t.jsx(_t,{className:"w-5 h-5"})]})]})]})})},no=()=>{const[e,s]=b.useState(0),[a,r]=b.useState(0),[n,i]=b.useState(!1),[o,l]=b.useState(null),d=X(),{dispatch:c,state:u}=ie(),f=b.useMemo(()=>[{icon:Ue,text:"Analyzing your personality profile...",duration:3e3},{icon:B,text:"Processing emotional compatibility vectors...",duration:4e3},{icon:ce,text:"Scanning potential matches...",duration:5e3},{icon:Fe,text:"Calculating relationship chemistry...",duration:3e3}],[]),y=b.useCallback(async()=>{try{i(!0),l(null);const v=u.hasPremium?10:2;if(u.dailyMatchCount>=v)return l(`Daily match limit reached! ${u.hasPremium?"Premium users can match with 10 people per day.":"Free users can only match with 2 people per day."} Please try again tomorrow.`),null;const p=await Ci.getPotentialMatches({limit:20,offset:0}),{matches:N}=p.data.data;return N.length===0?(l("No potential matches found. Please try again later."),null):N}catch(v){return console.error("Error fetching potential matches:",v),l("Failed to fetch potential matches. Please try again."),null}finally{i(!1)}},[u.hasPremium,u.dailyMatchCount]),h=b.useCallback(()=>{let v=7;return v+=Math.random()*3,Math.min(10,Math.max(7,v))},[]);b.useEffect(()=>{const v=f.reduce((j,w)=>j+w.duration,0);let p=0;const N=setInterval(()=>{p+=100;const j=p/v*100;s(j);let w=0;for(let E=0;E<f.length;E++)if(w+=f[E].duration,p<=w){r(E);break}p>=v&&(clearInterval(N),setTimeout(async()=>{try{const E=await y();if(!E)return;const O=u.rejectedMatches.map(k=>k.id),S=E.filter(k=>!O.includes(k.id));if(S.length===0){c({type:"RESET_DAILY_MATCHES"});const R=E.map(C=>{var M;return{...C,age:C.age||25,bio:C.bio||"No bio available",interests:C.interests||[],photo:((M=C.photos)==null?void 0:M[0])||"/default-avatar.png",compatibility:Math.round(h()*10)/10}});R.sort((C,M)=>M.compatibility-C.compatibility);const I=R[0];I?(c({type:"SET_MATCH",payload:I}),d("/match-reveal")):l("No compatible matches found. Please try again later.")}else{const k=S.map(I=>{var C;return{...I,age:I.age||25,bio:I.bio||"No bio available",interests:I.interests||[],photo:((C=I.photos)==null?void 0:C[0])||"/default-avatar.png",compatibility:Math.round(h()*10)/10}});k.sort((I,C)=>C.compatibility-I.compatibility);const R=k[0];R?(c({type:"SET_MATCH",payload:R}),d("/match-reveal")):l("No compatible matches found. Please try again later.")}}catch(E){console.error("Error in matching process:",E),l("Failed to find matches. Please try again.")}},1e3))},100);return()=>clearInterval(N)},[f,y,u.rejectedMatches,u.compatibilityAnswers,c,d,h]);const g=()=>{l(null),s(0),r(0),window.location.reload()};return o?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-600 rounded-full mb-6",children:t.jsx(Be,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Oops! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:o}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Try Again"})]})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsxs(m.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:4,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-full mb-8 relative",children:[t.jsx(B,{className:"w-12 h-12 text-white",fill:"currentColor"}),[...Array(6)].map((v,p)=>t.jsx(m.div,{className:"absolute w-2 h-2 bg-white rounded-full",animate:{rotate:[0,360],x:[20,-20,20],y:[20,-20,20]},transition:{duration:3+p*.5,repeat:1/0,ease:"linear",delay:p*.5},style:{top:"50%",left:"50%",transform:`rotate(${p*60}deg) translateX(40px)`}},p))]}),t.jsx(m.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"SoulSyncing You Now..."}),t.jsx(m.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-300 text-lg mb-8 max-w-sm mx-auto",children:"Your answers are being analyzed by our AI compatibility engine. We're finding someone who gets you. "}),t.jsx("div",{className:"space-y-6 mb-8",children:f.map((v,p)=>{const N=v.icon,j=p===a,w=p<a;return t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:j||w?1:.4,x:0,scale:j?1.05:1},transition:{delay:p*.2},className:`flex items-center gap-4 p-4 rounded-xl backdrop-blur-sm ${j?"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30":"bg-white/5 border border-white/10"}`,children:[t.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full ${j||w?"bg-gradient-to-r from-pink-500 to-purple-500":"bg-white/10"}`,children:t.jsx(N,{className:"w-6 h-6 text-white"})}),t.jsx("div",{className:"flex-1 text-left",children:t.jsx("p",{className:`font-medium ${j?"text-white":"text-gray-400"}`,children:v.text})}),j&&t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full"})]},p)})}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-3 mb-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${e}%`},className:"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 h-3 rounded-full relative overflow-hidden",transition:{duration:.5},children:t.jsx(m.div,{animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12"})})}),t.jsxs("p",{className:"text-gray-400 text-sm",children:[Math.round(e),"% Complete"]}),n&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-5 h-5 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300",children:"Finding your perfect match..."})]}),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((v,p)=>t.jsx(m.div,{className:"absolute text-pink-400/20",initial:{y:"100vh",x:Math.random()*window.innerWidth},animate:{y:"-10vh",x:Math.random()*window.innerWidth,rotate:[0,360]},transition:{duration:Math.random()*10+10,repeat:1/0,delay:Math.random()*5,ease:"linear"},children:t.jsx(B,{className:"w-4 h-4",fill:"currentColor"})},p))})]})})},io=({user:e,isOpen:s,onClose:a,onAction:r,showActions:n=!0})=>{const[i,o]=b.useState(0),l=e.photos||[],d=()=>{l.length>1&&o(f=>(f+1)%l.length)},c=()=>{l.length>1&&o(f=>(f-1+l.length)%l.length)},u=f=>{f.target===f.currentTarget&&a()};return s?t.jsx(xe,{children:t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:u,children:t.jsxs(m.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl overflow-hidden max-w-md w-full max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e.name}),e.compatibility&&t.jsxs("div",{className:"flex items-center gap-1 bg-pink-100 px-2 py-1 rounded-full",children:[t.jsx(fe,{className:"w-4 h-4 text-pink-500 fill-current"}),t.jsxs("span",{className:"text-pink-600 font-semibold text-sm",children:[e.compatibility,"/10"]})]})]}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:t.jsx(Dt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsx("div",{className:"relative aspect-square bg-gray-100",children:l.length>0?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:l[i],alt:`${e.name} - Photo ${i+1}`,className:"w-full h-full object-cover"}),l.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:c,className:"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors",children:t.jsx(pa,{className:"w-5 h-5"})}),t.jsx("button",{onClick:d,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors",children:t.jsx(Mt,{className:"w-5 h-5"})}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:l.map((f,y)=>t.jsx("button",{onClick:()=>o(y),className:`w-2 h-2 rounded-full transition-all ${y===i?"bg-white scale-125":"bg-white/50"}`},y))})]})]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-400",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-2 flex items-center justify-center",children:t.jsx(ha,{className:"w-8 h-8"})}),t.jsx("p",{children:"No photos available"})]})})}),t.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(qe,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.age," years old"]})]}),e.location&&t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(Ce,{className:"w-4 h-4"}),t.jsx("span",{children:e.location})]})]}),e.bio&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"About"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.bio})]}),e.interests&&e.interests.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.interests.map((f,y)=>t.jsx("span",{className:"px-3 py-1 bg-coral-100 text-coral-700 rounded-full text-sm",children:f},y))})]})]}),n&&r&&t.jsxs("div",{className:"p-4 border-t border-gray-200 flex gap-3",children:[t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r("pass"),className:"flex-1 py-3 px-6 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Pass"}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r("like"),className:"flex-1 py-3 px-6 bg-gradient-to-r from-pink-500 to-coral-500 text-white rounded-xl font-semibold hover:from-pink-600 hover:to-coral-600 transition-all flex items-center justify-center gap-2",children:[t.jsx(B,{className:"w-5 h-5 fill-current"}),"Like"]})]})]})})}):null},oo=()=>{var v;const[e,s]=b.useState(!1),[a,r]=b.useState(!1),[n,i]=b.useState(!1),o=X(),{state:l,dispatch:d}=ie(),c=l.currentMatch,u=[{id:"2",name:"Alex",age:26,bio:"Coffee enthusiast and weekend hiker. Looking for someone to explore the city with.",interests:["Coffee","Hiking","Art","Music"],compatibility:9.2,photo:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1212984/pexels-photo-1212984.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"San Francisco, CA"},{id:"3",name:"Jordan",age:30,bio:"Bookworm by day, chef by night. Love trying new recipes and cozy conversations.",interests:["Reading","Cooking","Wine","Theater"],compatibility:8.9,photo:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1819483/pexels-photo-1819483.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"Oakland, CA"},{id:"4",name:"Sam",age:29,bio:"Fitness enthusiast and dog lover. Always up for outdoor adventures and good conversations.",interests:["Fitness","Dogs","Outdoor","Photography"],compatibility:8.7,photo:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1065084/pexels-photo-1065084.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1559486/pexels-photo-1559486.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"Berkeley, CA"},{id:"5",name:"Riley",age:27,bio:"Creative soul with a passion for music and art. Looking for deep connections and shared experiences.",interests:["Music","Art","Writing","Travel"],compatibility:8.5,photo:"https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=400",photos:["https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=400","https://images.pexels.com/photos/1385472/pexels-photo-1385472.jpeg?auto=compress&cs=tinysrgb&w=400"],location:"San Jose, CA"}];if(!c)return o("/ai-matching"),null;const f=[{label:"Emotional Intelligence",score:Math.round((c.compatibility-1)*10)/10},{label:"Communication Style",score:Math.round((c.compatibility-.3)*10)/10},{label:"Life Goals",score:Math.round((c.compatibility+.1)*10)/10},{label:"Humor Compatibility",score:Math.round((c.compatibility-.4)*10)/10},{label:"Values Alignment",score:Math.round((c.compatibility-.1)*10)/10}],y=async()=>{var p,N,j;s(!0);try{await us.createMatch({matchedUserId:c.id,compatibilityScore:c.compatibility}),d({type:"ACCEPT_MATCH",payload:c}),o("/chat")}catch(w){console.error("Error creating match:",w),(j=(N=(p=w.response)==null?void 0:p.data)==null?void 0:N.message)!=null&&j.includes("Daily match limit")?(L.error("Daily match limit reached! You can only match with 2 people per day."),r(!0)):L.error("Failed to create match. Please try again."),s(!1)}},h=async()=>{var p,N,j;s(!0);try{await us.createMatch({matchedUserId:c.id,compatibilityScore:c.compatibility}),d({type:"REJECT_MATCH",payload:c});const w=new Date().toDateString(),O=l.lastMatchDate!==w?1:l.dailyMatchCount+1,S=l.hasPremium?10:2;if(O>=S)r(!0),s(!1);else{const k=[...l.rejectedMatches.map(I=>I.id),c.id],R=u.find(I=>!k.includes(I.id));R?setTimeout(()=>{d({type:"SET_MATCH",payload:R}),s(!1)},1500):(r(!0),s(!1))}}catch(w){console.error("Error creating match:",w),(j=(N=(p=w.response)==null?void 0:p.data)==null?void 0:N.message)!=null&&j.includes("Daily match limit")?(L.error("Daily match limit reached! You can only match with 2 people per day."),r(!0)):L.error("Failed to process match. Please try again."),s(!1)}},g=p=>{i(!1),p==="like"?y():h()};return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mb-6",children:t.jsx(Be,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Daily Match Limit Reached"}),t.jsx("p",{className:"text-gray-300 text-lg mb-6 max-w-sm mx-auto",children:"You've seen your 2 matches for today. Quality over quantity - come back tomorrow for fresh connections! "}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Why the limit?"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("p",{children:" Prevents decision fatigue"}),t.jsx("p",{children:" Ensures thoughtful connections"}),t.jsx("p",{children:" Better matches with fresh perspective"}),t.jsx("p",{children:" Quality over quantity approach"})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o("/"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Return Tomorrow"}),t.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"New matches available in 24 hours"})]})}):t.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"w-full max-w-lg",children:[t.jsx(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-4",children:t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 border border-white/20 rounded-full px-4 py-2",children:[t.jsx(B,{className:"w-4 h-4 text-pink-400",fill:"currentColor"}),t.jsxs("span",{className:"text-white text-sm",children:["Match ",l.dailyMatchCount+1," of 2 today"]})]})}),t.jsx(m.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.5,duration:1,ease:"easeOut"},className:"text-center mb-6",children:t.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-full px-6 py-3",children:[t.jsx(wt,{className:"w-5 h-5 text-yellow-400"}),t.jsx("span",{className:"text-white font-semibold",children:"Perfect Match Found!"}),t.jsx(wt,{className:"w-5 h-5 text-yellow-400"})]})}),t.jsxs(m.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"relative inline-block",children:[t.jsx("img",{src:c.photo||((v=c.photos)==null?void 0:v[0])||"https://via.placeholder.com/150",alt:c.name,className:"w-32 h-32 rounded-full object-cover border-4 border-gradient-to-r from-pink-500 to-purple-500 shadow-xl"}),t.jsx(m.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.8,type:"spring"},className:"absolute -top-2 -right-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full p-2 border-4 border-white/20",children:t.jsx("div",{className:"text-white text-xs font-bold",children:c.compatibility})})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mt-4",children:[t.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Meet ",c.name]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[t.jsx(fe,{className:"w-5 h-5 text-yellow-400",fill:"currentColor"}),t.jsxs("span",{className:"text-2xl font-bold text-pink-400",children:[c.compatibility,"/10"]}),t.jsx("span",{className:"text-gray-300",children:"compatibility match"})]}),t.jsx("p",{className:"text-gray-300 text-sm max-w-sm mx-auto",children:"SoulSync says you two really feel each other "})]})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.9},children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:["About ",c.name]}),t.jsx("p",{className:"text-gray-300",children:c.bio}),c.location&&t.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[" ",c.location]})]}),c.photos&&c.photos.length>1&&t.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"bg-white/5 rounded-lg p-3",children:t.jsxs("p",{className:"text-gray-300 text-sm",children:[" ",c.photos.length," photos available in full profile"]})}),t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1},children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Shared Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:c.interests.map((p,N)=>t.jsx(m.span,{initial:{scale:0},animate:{scale:1},transition:{delay:1.3+N*.1},className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 text-pink-300 px-3 py-1 rounded-full text-sm",children:p},p))})]}),t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Compatibility Breakdown"}),t.jsx("div",{className:"space-y-3",children:f.map((p,N)=>t.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.7+N*.1},className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300 text-sm",children:p.label}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 h-2 bg-white/10 rounded-full overflow-hidden",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${p.score/10*100}%`},transition:{delay:1.9+N*.1,duration:.5},className:"h-full bg-gradient-to-r from-pink-500 to-purple-600 rounded-full"})}),t.jsx("span",{className:"text-pink-400 font-semibold text-sm",children:p.score})]})]},p.label))})]})]}),t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"px-6 pb-4",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(!0),className:"w-full bg-white/10 border border-white/20 text-white py-3 px-6 rounded-xl font-medium mb-4 hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[t.jsx(He,{className:"w-5 h-5"}),"View Full Profile"]})})]},c.id),t.jsx(xe,{children:!e&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:2.2},className:"mt-6 flex gap-4",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,className:"flex-1 bg-white/10 border border-red-500/30 text-red-400 py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-red-500/10 transition-all",children:[t.jsx(Dt,{className:"w-5 h-5"}),"Pass"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:y,className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 hover:shadow-lg transition-all",children:[t.jsx(B,{className:"w-5 h-5",fill:"currentColor"}),"Like"]})]})}),t.jsx(xe,{children:e&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-8 h-8 border-2 border-pink-400 border-t-transparent rounded-full mb-2"}),t.jsx("p",{className:"text-gray-300",children:l.dailyMatchCount>=1?"Finding your next match...":"Processing your choice..."})]})}),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[...Array(15)].map((p,N)=>t.jsx(m.div,{className:"absolute text-pink-400/40",initial:{y:window.innerHeight+50,x:Math.random()*window.innerWidth,rotate:0,scale:Math.random()*.5+.5},animate:{y:-50,rotate:360,x:Math.random()*window.innerWidth},transition:{duration:Math.random()*3+4,delay:Math.random()*2,ease:"easeOut"},children:t.jsx(B,{className:"w-6 h-6",fill:"currentColor"})},N))})]}),t.jsx(io,{user:{...c,photos:c.photos||[c.photo].filter(Boolean)},isOpen:n,onClose:()=>i(!1),onAction:g,showActions:!0})]})},lo=()=>{var l,d;const[e,s]=b.useState(!1),a=X(),{state:r,dispatch:n}=ie(),i=[{icon:fa,label:"Edit Profile",path:"/edit-profile"},{icon:Nt,label:"Billing & Payments",path:"/billing"},{icon:ce,label:"Refer Friends",path:"/refer-friend"},{icon:B,label:"Match History",path:"/match-history"},{icon:bs,label:"Notifications",path:"/notifications"},{icon:Ze,label:"Privacy & Safety",path:"/privacy"},{icon:ws,label:"Settings",path:"/settings"},{icon:ce,label:"Production Features",path:"/production-features"},{icon:xa,label:"Help & Support",path:"/help"}],o=()=>{n({type:"SET_USER",payload:null}),a("/")};return t.jsxs("div",{className:"relative",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!e),className:"relative flex items-center justify-center w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full border-2 border-white/20 hover:border-white/40 transition-all",children:[t.jsx(be,{className:"w-5 h-5 text-white"}),t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-slate-900"})]}),t.jsx(xe,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),t.jsxs(m.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute top-12 right-0 w-72 backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl z-50 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(be,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:((l=r.user)==null?void 0:l.name)||"User"}),t.jsx("p",{className:"text-gray-400 text-sm",children:(d=r.user)==null?void 0:d.email})]})]}),t.jsxs("div",{className:"mt-3 inline-flex items-center gap-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-full px-3 py-1",children:[t.jsx(gs,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"Premium Member"})]})]}),t.jsx("div",{className:"py-2",children:i.map((c,u)=>t.jsxs(m.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},onClick:()=>{a(c.path),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-white/5 transition-all group",children:[t.jsx(c.icon,{className:"w-5 h-5 group-hover:text-pink-400 transition-colors"}),t.jsx("span",{className:"flex-1 text-left",children:c.label}),t.jsx(Mt,{className:"w-4 h-4 opacity-50 group-hover:opacity-100 transition-opacity"})]},c.label))}),t.jsx("div",{className:"border-t border-white/10 p-2",children:t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-xl transition-all",children:[t.jsx(js,{className:"w-5 h-5"}),t.jsx("span",{children:"Sign Out"})]})})]})]})})]})},co=()=>{var O;const[e,s]=b.useState(""),[a,r]=b.useState(!0),[n,i]=b.useState(!1),[o,l]=b.useState(null),[d,c]=b.useState([]),u=b.useRef(null),f=X(),{state:y,dispatch:h}=ie(),g=y.acceptedMatch||y.currentMatch,v=["I see you love travel! What's your dream destination? ","Your photography skills look amazing! What's your favorite subject? ","Fellow foodie here! What's your go-to comfort food? ","I love that you're into yoga! How long have you been practicing? "],p=["You both love sushi  ask about their favorite place!","They mentioned hiking  share your favorite trail!","Perfect time to suggest meeting up! "],N=async S=>{try{const k=await ms.getConversation(S,{limit:50,offset:0}),{messages:R}=k.data.data;h({type:"SET_MESSAGES",payload:R.map(I=>({id:I.id,senderId:I.senderId,content:I.content,timestamp:new Date(I.createdAt),isRead:I.isRead}))})}catch(k){console.error("Error fetching messages:",k),l("Failed to load messages")}};if(b.useEffect(()=>{g&&N(g.id)},[g]),b.useEffect(()=>{var S;(S=u.current)==null||S.scrollIntoView({behavior:"smooth"})},[y.messages]),b.useEffect(()=>{y.messages.length===0&&g&&(h({type:"ADD_MESSAGE",payload:{senderId:g.id,content:"Hey! I'm so excited we matched! Your profile really caught my attention "}}),setTimeout(()=>{h({type:"ADD_MESSAGE",payload:{senderId:g.id,content:"Our compatibility score is incredible! I'd love to get to know you better "}})},2e3))},[g,y.messages.length,h]),!g)return f("/"),null;const j=async S=>{var k;if(!(!S.trim()||!g))try{i(!0),l(null),await ms.sendMessage({receiverId:g.id,content:S.trim()}),h({type:"ADD_MESSAGE",payload:{senderId:((k=y.user)==null?void 0:k.id)||"user",content:S.trim(),timestamp:new Date}}),s(""),r(!1),y.messages.filter(R=>{var I;return R.senderId===((I=y.user)==null?void 0:I.id)}).length>=4&&setTimeout(()=>{h({type:"ADD_MESSAGE",payload:{senderId:g.id,content:"This conversation is going so well! Would you like to meet up sometime? I know a great place we could check out together "}}),setTimeout(()=>{E(!0)},3e3)},1500)}catch(R){console.error("Error sending message:",R),l("Failed to send message. Please try again.")}finally{i(!1)}},[w,E]=b.useState(!1);return o?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-500 to-pink-600 rounded-full mb-6",children:t.jsx(Be,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Oops! "}),t.jsx("p",{className:"text-gray-300 text-lg mb-6",children:o}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Try Again"})]})}):t.jsxs("div",{className:"min-h-screen flex flex-col",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border-b border-white/20 p-4 flex items-center gap-4",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(ye,{className:"w-5 h-5 text-white"})}),t.jsx("img",{src:g.photo||((O=g.photos)==null?void 0:O[0])||"https://via.placeholder.com/48",alt:g.name,className:"w-12 h-12 rounded-full object-cover border-2 border-pink-500/50"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-white font-semibold",children:g.name}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-400",children:[t.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Online now"]})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-pink-500/20 border border-pink-500/30 rounded-full px-3 py-1",children:[t.jsx(B,{className:"w-4 h-4 text-pink-400",fill:"currentColor"}),t.jsx("span",{className:"text-pink-400 font-semibold text-sm",children:g.compatibility||"9.2"})]}),t.jsx(lo,{})]}),t.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[t.jsx(xe,{children:y.messages.map(S=>{var R;const k=S.senderId===((R=y.user)==null?void 0:R.id);return t.jsx(m.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:500,damping:30},className:`flex ${k?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${k?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-white/10 backdrop-blur-sm text-gray-100 border border-white/20"} ${k?"rounded-br-sm":"rounded-bl-sm"}`,children:[t.jsx("p",{children:S.content}),t.jsx("p",{className:`text-xs mt-1 ${k?"text-pink-100":"text-gray-400"}`,children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},S.id||Math.random())})}),y.messages.length>2&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:"SoulSync AI suggests:"})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:p[Math.floor(Math.random()*p.length)]})]}),t.jsx(xe,{children:w&&t.jsxs(m.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(Ce,{className:"w-5 h-5 text-pink-400"}),t.jsx("span",{className:"text-white font-semibold",children:"Things are heating up!"})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Want to meet? Enter your zip codes, and we'll find a romantic spot midway."}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f("/date-planner"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2",children:[t.jsx(qe,{className:"w-4 h-4"}),"Plan Our Date"]})]})}),t.jsx("div",{ref:u})]}),a&&t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border-t border-white/10",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-3 text-center",children:"Conversation starters:"}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map((S,k)=>t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(S),disabled:n,className:"bg-white/10 backdrop-blur-sm border border-white/20 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap hover:bg-pink-500/20 hover:border-pink-500/30 hover:text-white transition-all disabled:opacity-50",children:S},k))})]}),t.jsxs("div",{className:"p-4 border-t border-white/10",children:[t.jsxs("form",{onSubmit:S=>{S.preventDefault(),j(e)},className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:e,onChange:S=>s(S.target.value),placeholder:"Type a message...",disabled:n,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-6 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all disabled:opacity-50"}),t.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(ya,{className:"w-5 h-5 text-gray-400"})})]}),t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:!e.trim()||n,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white p-3 rounded-full disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:t.jsx(ga,{className:"w-5 h-5"})})]}),n&&t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-center",children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-4 h-4 border-2 border-pink-400 border-t-transparent rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300 text-sm",children:"Sending message..."})]})]})]})},uo=()=>{const[e,s]=b.useState(""),[a,r]=b.useState(""),[n,i]=b.useState(""),[o,l]=b.useState(!1),[d,c]=b.useState([]),[u,f]=b.useState(null),y=X(),{state:h}=ie(),g=h.currentMatch,v=[{value:"romantic",label:"Romantic Dinner",emoji:""},{value:"casual",label:"Casual Coffee",emoji:""},{value:"active",label:"Active Date",emoji:""},{value:"cultural",label:"Cultural Experience",emoji:""},{value:"drinks",label:"Cocktails & Drinks",emoji:""}],p=[{id:1,name:"The Velvet Room",type:"Italian Restaurant",rating:4.8,priceRange:"$$$",description:"Candlelit Italian dining with intimate ambiance",address:"123 Romance St",distance:"15 min from both",image:"https://images.pexels.com/photos/67468/pexels-photo-67468.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Candlelit","Wine Selection","Outdoor Seating"]},{id:2,name:"Sunset Rooftop",type:"Wine Bar",rating:4.9,priceRange:"$$",description:"Stunning city views with craft cocktails",address:"456 Skyline Ave",distance:"12 min from both",image:"https://images.pexels.com/photos/1581384/pexels-photo-1581384.jpeg?auto=compress&cs=tinysrgb&w=400",features:["City Views","Craft Cocktails","Live Music"]},{id:3,name:"Garden Caf",type:"Coffee & Brunch",rating:4.7,priceRange:"$$",description:"Charming garden setting perfect for conversation",address:"789 Garden Way",distance:"18 min from both",image:"https://images.pexels.com/photos/1307698/pexels-photo-1307698.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Garden Setting","Brunch Menu","Pet Friendly"]}],N=async()=>{!e||!a||!n||(l(!0),await new Promise(w=>setTimeout(w,2e3)),c(p),l(!1))},j=w=>{f(w)};return g?t.jsx("div",{className:"min-h-screen p-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>y(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(ye,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Plan Your Date"}),t.jsxs("p",{className:"text-gray-300",children:["with ",g.name]})]})]}),d.length?t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Perfect Spots Found! "}),t.jsx("p",{className:"text-gray-300",children:"Romantic locations midway between you both"})]}),t.jsx("div",{className:"space-y-4",children:d.map(w=>t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:`backdrop-blur-xl border-2 rounded-2xl overflow-hidden cursor-pointer transition-all ${(u==null?void 0:u.id)===w.id?"border-pink-500 bg-pink-500/10":"border-white/20 bg-white/10 hover:border-pink-400/50"}`,onClick:()=>j(w),children:t.jsxs("div",{className:"flex",children:[t.jsx("img",{src:w.image,alt:w.name,className:"w-32 h-32 object-cover"}),t.jsxs("div",{className:"flex-1 p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:w.name}),t.jsx("p",{className:"text-gray-400 text-sm",children:w.type})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(fe,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"}),t.jsx("span",{className:"text-white font-medium",children:w.rating}),t.jsx("span",{className:"text-gray-400 ml-2",children:w.priceRange})]})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-3",children:w.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ce,{className:"w-4 h-4"}),w.distance]}),t.jsx("div",{children:w.address})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:w.features.map((E,O)=>t.jsx("span",{className:"bg-white/10 text-gray-300 px-2 py-1 rounded-full text-xs",children:E},O))})]})]})},w.id))}),u&&t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"backdrop-blur-xl bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(qe,{className:"w-6 h-6 text-pink-400"}),"Perfect Choice!"]}),t.jsxs("p",{className:"text-gray-300 mb-4",children:["This Friday at 7PM at ",u.name,"? We'll notify ",g.name," about your date suggestion!"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2",children:[t.jsx(qe,{className:"w-5 h-5"}),"Confirm Date"]}),t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white/10 border border-white/20 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2",children:[t.jsx(ba,{className:"w-5 h-5"}),"View on Map"]})]})]})]}):t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"What kind of date?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(w=>t.jsxs(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(w.value),className:`p-4 rounded-xl border-2 transition-all text-left ${n===w.value?"border-pink-500 bg-pink-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-pink-400"}`,children:[t.jsx("div",{className:"text-2xl mb-2",children:w.emoji}),t.jsx("div",{className:"font-medium",children:w.label})]},w.value))})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Ce,{className:"w-6 h-6"}),"Location Details"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Zip Code"}),t.jsx("input",{type:"text",value:e,onChange:w=>s(w.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",placeholder:"Enter your zip code",maxLength:5})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[g.name,"'s Zip Code"]}),t.jsx("input",{type:"text",value:a,onChange:w=>r(w.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",placeholder:"Enter their zip code",maxLength:5})]})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,disabled:!e||!a||!n||o,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:o?t.jsxs(t.Fragment,{children:[t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Finding Perfect Spots..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ce,{className:"w-5 h-5"}),"Find Date Locations"]})})]})]})}):(y("/"),null)},mo=()=>{const[e,s]=b.useState(0),[a,r]=b.useState({}),[n,i]=b.useState([]),o=X(),{dispatch:l,state:d}=ie();b.useEffect(()=>{const p=Object.keys(d.compatibilityAnswers),N=ke("all",5,p);i(N)},[d.compatibilityAnswers]);const c=(p,N)=>{r(j=>({...j,[p]:N}))},u=()=>{if(e<n.length-1)s(p=>p+1);else{const p={...d.compatibilityAnswers,...a};l({type:"SET_COMPATIBILITY_ANSWERS",payload:p}),o("/ai-matching")}},f=()=>{e>0&&s(p=>p-1)};if(n.length===0)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(m.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full"})});const y=(e+1)/n.length*100,h=n[e],g=a[h.id],v=()=>{var p,N,j;switch(h.type){case"multiple":return t.jsx("div",{className:"grid gap-3",children:(p=h.options)==null?void 0:p.map((w,E)=>t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},onClick:()=>c(h.id,w.value),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-3 ${g===w.value?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400 hover:bg-blue-400/10"}`,children:[w.emoji&&t.jsx("span",{className:"text-2xl",children:w.emoji}),t.jsx("span",{className:"font-medium",children:w.label})]},w.value))});case"scale":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[t.jsx("span",{children:(N=h.labels)==null?void 0:N[0]}),t.jsx("span",{children:(j=h.labels)==null?void 0:j[1]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:h.min,max:h.max,value:g||h.min,onChange:w=>c(h.id,parseInt(w.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) ${((g||h.min)-h.min)/(h.max-h.min)*100}%, rgba(255,255,255,0.2) 100%)`}}),t.jsx("div",{className:"flex justify-between mt-2",children:Array.from({length:h.max-h.min+1},(w,E)=>t.jsx("span",{className:"text-xs text-gray-500",children:h.min+E},E))})]}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-2xl font-bold text-blue-400",children:g||h.min})})]});case"boolean":return t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>c(h.id,!0),className:`p-6 rounded-xl border-2 transition-all ${g===!0?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Yes"})]}),t.jsxs(m.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>c(h.id,!1),className:`p-6 rounded-xl border-2 transition-all ${g===!1?"border-blue-500 bg-blue-500/20 text-white":"border-white/20 bg-white/5 text-gray-300 hover:border-blue-400"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"No"})]})]});default:return null}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full mb-4",children:t.jsx(wa,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Let's find you better matches"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"A few more questions to improve your compatibility "}),t.jsxs("p",{className:"text-gray-300",children:["Question ",e+1," of ",n.length]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mt-4",children:t.jsx(m.div,{initial:{width:0},animate:{width:`${y}%`},className:"bg-gradient-to-r from-blue-500 to-cyan-600 h-2 rounded-full",transition:{duration:.5}})})]}),t.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[h.emoji&&t.jsx("div",{className:"text-6xl mb-4",children:h.emoji}),t.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:h.question}),h.weight>=8&&t.jsx("div",{className:"inline-flex items-center gap-1 bg-yellow-500/20 border border-yellow-500/30 rounded-full px-3 py-1 mb-4",children:t.jsx("span",{className:"text-yellow-400 text-xs font-medium",children:"High Impact Question"})})]}),v()]},e),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:e===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(ye,{className:"w-5 h-5"}),"Previous"]}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,disabled:g==null,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e===n.length-1?"Find Better Matches":"Next",t.jsx(_t,{className:"w-5 h-5"})]})]})]})})},po=()=>{var y,h;const[e,s]=b.useState(""),[a,r]=b.useState(!1),[n,i]=b.useState(!1),o=X(),{state:l}=ie(),d=`SOUL${(h=(y=l.user)==null?void 0:y.id)==null?void 0:h.slice(-6).toUpperCase()}`,c=`https://soulsync.ai/join?ref=${d}`,u=()=>{navigator.clipboard.writeText(c),r(!0),setTimeout(()=>r(!1),2e3)},f=g=>{g.preventDefault(),e&&(i(!0),s(""),setTimeout(()=>i(!1),3e3))};return t.jsx("div",{className:"min-h-screen p-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(m.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(-1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsx(ye,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Refer Friends"}),t.jsx("p",{className:"text-gray-300",children:"Share the love, earn rewards"})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-xl bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-2xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(gs,{className:"w-8 h-8 text-pink-400"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Earn $5 for Each Friend"}),t.jsx("p",{className:"text-gray-300",children:"They get 50% off, you get rewarded"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-pink-400",children:"$5"}),t.jsx("div",{className:"text-sm text-gray-300",children:"Per successful referral"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"50%"}),t.jsx("div",{className:"text-sm text-gray-300",children:"Friend's discount"})]})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(ce,{className:"w-5 h-5"}),"Your Referral Code"]}),t.jsx("div",{className:"bg-white/5 border border-white/20 rounded-xl p-4 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-2xl font-mono font-bold text-pink-400",children:d}),t.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"flex items-center gap-2 bg-pink-500/20 border border-pink-500/30 text-pink-300 px-3 py-2 rounded-lg text-sm",children:[a?t.jsx(vt,{className:"w-4 h-4"}):t.jsx(ja,{className:"w-4 h-4"}),a?"Copied!":"Copy"]})]})}),t.jsx("div",{className:"bg-white/5 border border-white/20 rounded-xl p-3",children:t.jsx("p",{className:"text-gray-300 text-sm break-all",children:c})})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(Ft,{className:"w-5 h-5"}),"Send Personal Invite"]}),t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsx("input",{type:"email",value:e,onChange:g=>s(g.target.value),placeholder:"Friend's email address",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all",required:!0}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:!e||n,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all",children:n?"Invite Sent! ":"Send Invite"})]})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[t.jsx(vs,{className:"w-5 h-5"}),"Share on Social"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.open(`https://twitter.com/intent/tweet?text=Just found my perfect match on SoulSync!  Join me with my referral code: ${d}&url=${c}`,"_blank"),className:"bg-blue-500/20 border border-blue-500/30 text-blue-300 py-3 px-4 rounded-xl font-medium hover:bg-blue-500/30 transition-all",children:"Share on Twitter"}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=${c}`,"_blank"),className:"bg-blue-600/20 border border-blue-600/30 text-blue-300 py-3 px-4 rounded-xl font-medium hover:bg-blue-600/30 transition-all",children:"Share on Facebook"})]})]})]})})},ho=()=>{const[e,s]=b.useState("analytics"),[a,r]=b.useState({totalUsers:0,activeMatches:0,successRate:0,revenue:0});b.useEffect(()=>{const o=setInterval(()=>{r(l=>({totalUsers:Math.min(l.totalUsers+Math.floor(Math.random()*3),19247),activeMatches:Math.min(l.activeMatches+Math.floor(Math.random()*2),8934),successRate:Math.min(l.successRate+.1,94.7),revenue:Math.min(l.revenue+Math.floor(Math.random()*50),127450)}))},2e3);return()=>clearInterval(o)},[]);const n={analytics:{title:"Behavioral Analytics & ML Pipeline",icon:Wt,items:[{title:"User Interaction Tracking",description:"Track swipes, message response rates, and conversation quality to improve matching algorithms",icon:He,status:"active"},{title:"Machine Learning Pipeline",description:"Continuous learning from successful matches to refine compatibility scoring",icon:Ue,status:"active"},{title:"A/B Testing Framework",description:"Test question variations, UI optimizations, and matching algorithms",icon:ft,status:"development"},{title:"Retention Analytics",description:"Track daily/monthly active users and match success rates",icon:ce,status:"active"}]},security:{title:"Security & Trust Features",icon:Ze,items:[{title:"Identity Verification",description:"Phone/email verification and AI-powered photo authentication",icon:St,status:"active"},{title:"Privacy Controls",description:"Granular privacy settings with end-to-end encryption",icon:Te,status:"active"},{title:"Safety Features",description:"Block/report functionality, background checks, emergency contacts",icon:Ze,status:"development"},{title:"GDPR Compliance",description:"Full compliance with GDPR, CCPA for global market expansion",icon:St,status:"active"}]},engagement:{title:"Engagement & Growth",icon:Fe,items:[{title:"Push Notifications",description:"Smart notifications for new matches, messages, and engagement",icon:Fe,status:"development"},{title:"Gamification",description:"Daily match limits, streak rewards, and achievement systems",icon:fe,status:"active"},{title:"Viral Mechanics",description:"Referral tracking, social proof, and viral sharing features",icon:ce,status:"active"},{title:"Conversion Funnels",description:"Track user journey and optimize drop-off points",icon:ft,status:"active"}]},monetization:{title:"Revenue Streams",icon:Ke,items:[{title:"Freemium Model",description:"Basic matching free, premium AI insights and features paid",icon:B,status:"active"},{title:"Subscription Tiers",description:"Multiple levels: Basic ($10), Premium ($25), Elite ($50)",icon:fe,status:"active"},{title:"Transaction Fees",description:"Commission on successful date bookings and experiences",icon:Ke,status:"development"},{title:"Partnership Revenue",description:"Restaurant/venue partnerships, experience packages",icon:ce,status:"development"}]}},i=[{id:"analytics",label:"Analytics & ML",icon:Wt},{id:"security",label:"Security & Trust",icon:Ze},{id:"engagement",label:"Engagement",icon:Fe},{id:"monetization",label:"Revenue",icon:Ke}];return t.jsx("div",{className:"min-h-screen p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"SoulSync Production Dashboard"}),t.jsx("p",{className:"text-gray-300 text-lg",children:"AI-Powered Dating Platform - Production Ready Features"})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(ce,{className:"w-6 h-6 text-blue-400"}),t.jsx("span",{className:"text-gray-300",children:"Total Users"})]}),t.jsx("div",{className:"text-3xl font-bold text-white",children:a.totalUsers.toLocaleString()}),t.jsx("div",{className:"text-green-400 text-sm",children:"+12% this month"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(B,{className:"w-6 h-6 text-pink-400"}),t.jsx("span",{className:"text-gray-300",children:"Active Matches"})]}),t.jsx("div",{className:"text-3xl font-bold text-white",children:a.activeMatches.toLocaleString()}),t.jsx("div",{className:"text-green-400 text-sm",children:"+8% this week"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(ft,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{className:"text-gray-300",children:"Success Rate"})]}),t.jsxs("div",{className:"text-3xl font-bold text-white",children:[a.successRate.toFixed(1),"%"]}),t.jsx("div",{className:"text-green-400 text-sm",children:"Industry leading"})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Ke,{className:"w-6 h-6 text-yellow-400"}),t.jsx("span",{className:"text-gray-300",children:"Monthly Revenue"})]}),t.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",a.revenue.toLocaleString()]}),t.jsx("div",{className:"text-green-400 text-sm",children:"+24% growth"})]})]}),t.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl overflow-hidden",children:[t.jsx("div",{className:"flex border-b border-white/10",children:i.map(o=>{const l=o.icon;return t.jsxs("button",{onClick:()=>s(o.id),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 transition-all ${e===o.id?"bg-gradient-to-r from-pink-500/20 to-purple-500/20 text-white border-b-2 border-pink-500":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[t.jsx(l,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:o.label})]},o.id)})}),t.jsx("div",{className:"p-8",children:t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[pe.createElement(n[e].icon,{className:"w-8 h-8 text-pink-400"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:n[e].title})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n[e].items.map((o,l)=>t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-white/5 border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-xl",children:pe.createElement(o.icon,{className:"w-6 h-6 text-pink-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:o.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.status==="active"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:o.status==="active"?"Live":"In Development"})]}),t.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:o.description})]})]})},o.title))})]},e)})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 backdrop-blur-xl bg-gradient-to-r from-pink-500/10 to-purple-500/10 border border-pink-500/20 rounded-2xl p-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Ue,{className:"w-8 h-8 text-purple-400"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:"AI Matching Insights"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"19M+"}),t.jsx("div",{className:"text-gray-300",children:"Compatibility Vectors"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:"94.7%"}),t.jsx("div",{className:"text-gray-300",children:"Match Accuracy"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"2.3s"}),t.jsx("div",{className:"text-gray-300",children:"Average Match Time"})]})]})]})]})})},fo=()=>{const[e,s]=b.useState(""),[a,r]=b.useState(""),[n,i]=b.useState(!1),[o,l]=b.useState(!1),d=X(),{signIn:c}=Ae(),u=async f=>{var y,h,g,v;f.preventDefault(),l(!0);try{await c({email:e,password:a}),L.success("Login successful!"),d("/app")}catch(p){(h=(y=p.response)==null?void 0:y.data)!=null&&h.errors?p.response.data.errors.forEach(N=>L.error(N.msg)):(v=(g=p.response)==null?void 0:g.data)!=null&&v.message?L.error(p.response.data.message):L.error("An unexpected error occurred")}finally{l(!1)}};return t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 right-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 left-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 right-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:t.jsxs(Ne,{to:"/",className:"inline-flex items-center gap-2 text-warm-600 hover:text-warm-800 transition-colors",children:[t.jsx(ye,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to home"})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(B,{className:"w-10 h-10 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-4xl font-friendly font-bold text-warm-800 mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-warm-600",children:"Sign in to continue your journey"})]}),t.jsxs(m.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onSubmit:u,className:"friendly-card p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-warm-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none"}),t.jsx("input",{id:"email",type:"email",value:e,onChange:f=>s(f.target.value),required:!0,className:"friendly-input w-full pl-12 pr-4",placeholder:"Enter your email",style:{paddingLeft:44}})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-warm-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none"}),t.jsx("input",{id:"password",type:n?"text":"password",value:a,onChange:f=>r(f.target.value),required:!0,className:"friendly-input w-full pl-12 pr-12",placeholder:"Enter your password",style:{paddingLeft:44,paddingRight:44}}),t.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors",tabIndex:-1,"aria-label":n?"Hide password":"Show password",children:n?t.jsx(kt,{className:"w-5 h-5"}):t.jsx(He,{className:"w-5 h-5"})})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"friendly-button w-full font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:o?t.jsx("span",{className:"loading-dots",children:"Signing In"}):"Sign In"})]}),t.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center space-y-4",children:[t.jsx(Ne,{to:"/forgot-password",className:"text-sm text-warm-500 hover:text-coral-500 transition-colors",children:"Forgot your password?"}),t.jsxs("div",{className:"text-warm-600",children:["Don't have an account?"," ",t.jsx(Ne,{to:"/register",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign up"})]})]})]})]})},xo=({photos:e,onPhotosUpdate:s,maxPhotos:a=6,minPhotos:r=2,className:n="",isRequired:i=!0,showError:o=!1,errorMessage:l=`Please upload at least ${r} photos`})=>{const[d,c]=b.useState(!1),[u,f]=b.useState(null),[y,h]=b.useState(""),[g,v]=b.useState(0),p=b.useRef(null),N=10*1024*1024,j=5*1024*1024,w=2048,E=P=>i&&P.length<r?(h(`At least ${r} photos are required`),!1):(h(""),!0),O=P=>{if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(P.type))return"Only JPEG, PNG, and WebP images are allowed";if(P.size>N)return`File size (${(P.size/1048576).toFixed(1)}MB) exceeds 10MB limit. Please compress your image or choose a smaller one.`;if(P.size>j){const F=(P.size/1048576).toFixed(1);console.warn(`Large file detected: ${F}MB. Consider compressing for faster upload.`)}return null},S=P=>new Promise(D=>{const F=document.createElement("canvas"),z=F.getContext("2d"),Z=new Image;Z.onload=()=>{let{width:J,height:W}=Z;J>W?J>w&&(W=W*w/J,J=w):W>w&&(J=J*w/W,W=w),F.width=J,F.height=W,z==null||z.drawImage(Z,0,0,J,W),F.toBlob(ee=>{if(ee){const ae=new File([ee],P.name,{type:P.type,lastModified:Date.now()});D(ae)}else D(P)},P.type,.8)},Z.src=URL.createObjectURL(P)}),k=async P=>{var F,z,Z,J;if(P.length===0)return;const D=a-e.length;if(P.length>D){L.error(`Can only add ${D} more photos (max ${a})`);return}c(!0),v(0);try{const W=Array.from(P);let ee=[];for(let ae=0;ae<W.length;ae++){const te=W[ae];v(ae/W.length*30);const Me=O(te);if(Me){L.error(`${te.name}: ${Me}`),c(!1),v(0);return}if(te.size>j){L.info(`Compressing ${te.name} for optimal upload...`);const oe=await S(te);ee.push(oe)}else ee.push(te)}v(40);for(let ae=0;ae<ee.length;ae++){const te=ee[ae],Me=new FormData;Me.append("image",te);try{v(40+(ae+1)/ee.length*60);const oe=await ds.uploadSingle(Me);if(oe.data.success){const qt=[...e,oe.data.data.imageUrl];s(qt),E(qt)}else throw new Error(oe.data.message||"Upload failed")}catch(oe){console.error("Upload error for file:",te.name,oe),((F=oe.response)==null?void 0:F.status)===413?L.error(`${te.name} is too large for upload. Please compress it to under 5MB.`,{duration:6e3}):((z=oe.response)==null?void 0:z.status)===500?L.error(`Server error uploading ${te.name}. Please try again or contact support.`,{duration:6e3}):L.error(((J=(Z=oe.response)==null?void 0:Z.data)==null?void 0:J.message)||`Failed to upload ${te.name}. Please try again.`)}}ee.length>0&&L.success(`Successfully uploaded ${ee.length} photo(s)!`)}catch(W){console.error("File processing error:",W),L.error("Failed to process images. Please try again.")}finally{c(!1),v(0)}},R=P=>{P.target.files&&k(P.target.files)},I=P=>{P.preventDefault(),P.stopPropagation();const D=P.dataTransfer.files;D.length>0&&k(D)},C=P=>{P.preventDefault(),P.stopPropagation()},M=async(P,D)=>{var F,z;try{const Z=await ds.deletePhoto({imageUrl:P});if(Z.data.success){const J=e.filter((W,ee)=>ee!==D);s(J),E(J),L.success("Photo deleted successfully")}else L.error(Z.data.message||"Failed to delete photo")}catch(Z){console.error("Delete error:",Z),L.error(((z=(F=Z.response)==null?void 0:F.data)==null?void 0:z.message)||"Failed to delete photo")}},q=e.length>=r,_=(o||y)&&!q;return t.jsxs("div",{className:`space-y-4 ${n}`,children:[t.jsxs("div",{onDrop:I,onDragOver:C,onClick:()=>{var P;return!d&&!e.length>=a&&((P=p.current)==null?void 0:P.click())},className:`border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all ${_?"border-red-300 bg-red-50 hover:border-red-400":e.length>=a?"border-gray-300 bg-gray-50 cursor-not-allowed":d?"border-blue-300 bg-blue-50":"border-warm-300 hover:border-coral-400 hover:bg-coral-50"}`,children:[t.jsx("input",{ref:p,type:"file",multiple:!0,accept:"image/*",onChange:R,className:"hidden",disabled:d||e.length>=a}),d?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(va,{className:"w-8 h-8 text-blue-500 animate-spin"}),t.jsx("p",{className:"text-warm-600",children:"Processing images..."}),t.jsx("div",{className:"w-full max-w-xs bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),t.jsxs("p",{className:"text-xs text-warm-500",children:[Math.round(g),"% complete"]})]}):e.length>=a?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Be,{className:"w-8 h-8 text-orange-500"}),t.jsxs("p",{className:"text-warm-600",children:["Maximum ",a," photos reached"]}),t.jsx("p",{className:"text-sm text-warm-500",children:"Delete a photo to add new ones"})]}):t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Na,{className:`w-8 h-8 ${_?"text-red-500":"text-coral-500"}`}),t.jsxs("div",{children:[t.jsx("p",{className:`font-medium ${_?"text-red-700":"text-warm-700"}`,children:"Drop photos here or click to upload"}),t.jsxs("p",{className:`text-sm ${_?"text-red-600":"text-warm-500"}`,children:[e.length,"/",a," photos  Minimum ",r," required"]})]}),t.jsxs("div",{className:"bg-warm-100 rounded-lg p-3 mt-2",children:[t.jsx("p",{className:"text-xs text-warm-600 font-medium mb-1",children:" Photo Tips:"}),t.jsxs("ul",{className:"text-xs text-warm-600 space-y-1",children:[t.jsx("li",{children:" Maximum 10MB per photo"}),t.jsx("li",{children:" JPEG, PNG, or WebP formats"}),t.jsx("li",{children:" High quality photos get more matches!"}),t.jsx("li",{children:" We'll automatically optimize large photos"})]})]})]})]}),_&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Be,{className:"w-5 h-5 text-red-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-red-600 text-sm font-medium",children:y||l}),t.jsxs("p",{className:"text-red-500 text-xs mt-1",children:["Add at least ",r-e.length," more photo(s) to continue"]})]})]})}),q&&e.length>=r&&t.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-center gap-2",children:[t.jsx(St,{className:"w-4 h-4 text-green-500"}),t.jsxs("p",{className:"text-green-600 text-sm",children:["Perfect! You've added ",e.length," photo",e.length>1?"s":""]})]}),e.length>0&&t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.jsx(xe,{children:e.map((P,D)=>t.jsxs(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative group aspect-square rounded-xl overflow-hidden bg-warm-100 border-2 border-transparent hover:border-coral-300 transition-all",children:[t.jsx("img",{src:P,alt:`Photo ${D+1}`,className:"w-full h-full object-cover",loading:"lazy"}),t.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:D+1}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx("button",{onClick:F=>{F.stopPropagation(),M(P,D)},className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:t.jsx(Dt,{className:"w-4 h-4"})}),t.jsx("div",{className:"p-2 bg-white/20 text-white rounded-full cursor-move",children:t.jsx(Sa,{className:"w-4 h-4"})})]}),D===0&&t.jsx("div",{className:"absolute bottom-2 left-2 bg-coral-500 text-white text-xs px-2 py-1 rounded-full",children:"Primary"})]},P))})}),e.length>0&&t.jsx("div",{className:"bg-peach-50 border border-peach-200 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-warm-600",children:[t.jsx(ka,{className:"w-4 h-4 inline mr-1"}),"Drag photos to reorder. Your first photo will be your main profile picture."]})})]})},yo=()=>{var I;const[e,s]=b.useState({name:"",email:"",password:"",confirmPassword:"",age:"",bio:"",location:"",interests:""}),[a,r]=b.useState([]),[n,i]=b.useState({}),[o,l]=b.useState(""),[d,c]=b.useState(!1),[u,f]=b.useState(!1),[y,h]=b.useState(!1),[g,v]=b.useState(!1),p=X(),{signUp:N}=Ae(),j=(C,M)=>{switch(C){case"name":return M.trim().length<2?"Name must be at least 2 characters":M.trim().length>50?"Name must be less than 50 characters":"";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M)?"":"Please enter a valid email address";case"password":return M.length<6?"Password must be at least 6 characters":M.length>100?"Password is too long":"";case"confirmPassword":return M!==e.password?"Passwords do not match":"";case"age":const _=parseInt(M);return isNaN(_)?"Please enter a valid age":_<18?"You must be at least 18 years old":_>100?"Please enter a valid age":"";default:return""}},w=C=>{const{name:M,value:q}=C.target;if(s(_=>({..._,[M]:q})),n[M]){const _=j(M,q);i(P=>({...P,[M]:_}))}},E=C=>{const{name:M,value:q}=C.target,_=j(M,q);i(P=>({...P,[M]:_}))},O=()=>{const C={};return C.name=j("name",e.name),C.email=j("email",e.email),C.password=j("password",e.password),C.confirmPassword=j("confirmPassword",e.confirmPassword),C.age=j("age",e.age),a.length<2?(l("Please upload at least 2 photos to create your profile"),c(!0),C.general="Please complete all required fields including photos"):(l(""),c(!1)),i(C),!Object.values(C).some(M=>M)&&a.length>=2},S=()=>{var M,q,_;const C={name:e.name.trim(),email:e.email.trim().toLowerCase(),password:e.password,age:parseInt(e.age)};return(M=e.bio)!=null&&M.trim()&&(C.bio=e.bio.trim()),(q=e.location)!=null&&q.trim()&&(C.location=e.location.trim()),(_=e.interests)!=null&&_.trim()&&(C.interests=e.interests.split(",").map(P=>P.trim()).filter(P=>P.length>0)),a.length>0&&(C.photos=a),C},k=async C=>{var M,q,_,P;if(C.preventDefault(),!O()){L.error("Please fix the errors in the form");return}v(!0);try{const D=S();console.log("Sending signup payload:",D),await N(D),L.success("Account created successfully! Please check your email to verify your account."),p("/login")}catch(D){if(console.error("Signup error:",D),(q=(M=D.response)==null?void 0:M.data)!=null&&q.errors){const F={};D.response.data.errors.forEach(z=>{z.path&&(F[z.path]=z.msg)}),i(z=>({...z,...F}))}else(P=(_=D.response)==null?void 0:_.data)!=null&&P.message?D.response.data.message.includes("email already exists")?i(F=>({...F,email:"This email is already registered"})):i(F=>({...F,general:D.response.data.message})):i(F=>({...F,general:"An unexpected error occurred. Please try again."}))}finally{v(!1)}},R=()=>e.name.trim().length>=2&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&e.password.length>=6&&e.password===e.confirmPassword&&parseInt(e.age)>=18&&a.length>=2&&!Object.values(n).some(C=>C);return t.jsxs("div",{className:"min-h-screen warm-gradient flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-coral-200 rounded-full opacity-20 animate-bounce-gentle"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-mint-200 rounded-full opacity-30 animate-bounce-gentle",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-peach-200 rounded-full opacity-25 animate-bounce-gentle",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-lavender-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"0.5s"}})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl relative z-10",children:[t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:t.jsxs(Ne,{to:"/",className:"inline-flex items-center gap-2 text-warm-600 hover:text-warm-800 transition-colors",children:[t.jsx(ye,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to home"})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-coral-400 to-peach-400 rounded-full mb-6 shadow-coral",children:t.jsx(B,{className:"w-10 h-10 text-white",fill:"currentColor"})}),t.jsx("h1",{className:"text-4xl font-friendly font-bold text-warm-800 mb-2",children:"Join SoulSync"}),t.jsx("p",{className:"text-warm-600",children:"Start your journey to find true connection"})]}),t.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"friendly-card p-8 space-y-8",children:[n.general&&t.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-red-600 text-sm",children:n.general})}),t.jsxs("form",{onSubmit:k,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:"Required Information"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-warm-700",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:w,onBlur:E,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.name?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your full name",autoComplete:"name"})]}),n.name&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.name})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-warm-700",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:w,onBlur:E,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.email?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your email address",autoComplete:"email"})]}),n.email&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.email})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"age",className:"block text-sm font-medium text-warm-700",children:["Age ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"age",name:"age",type:"number",min:18,max:100,value:e.age,onChange:w,onBlur:E,required:!0,className:`friendly-input w-full pl-10 pr-4 py-3 ${n.age?"border-red-300 focus:border-red-500":""}`,placeholder:"Enter your age",autoComplete:"age"})]}),n.age&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.age})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-warm-700",children:["Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"password",name:"password",type:u?"text":"password",value:e.password,onChange:w,onBlur:E,required:!0,className:`friendly-input w-full pl-10 pr-12 py-3 ${n.password?"border-red-300 focus:border-red-500":""}`,placeholder:"Create a secure password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors z-10",children:u?t.jsx(kt,{className:"w-5 h-5"}):t.jsx(He,{className:"w-5 h-5"})})]}),n.password&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.password})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-warm-700",children:["Confirm Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:y?"text":"password",value:e.confirmPassword,onChange:w,onBlur:E,required:!0,className:`friendly-input w-full pl-10 pr-12 py-3 ${n.confirmPassword?"border-red-300 focus:border-red-500":""}`,placeholder:"Confirm your password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>h(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-warm-400 hover:text-warm-600 transition-colors z-10",children:y?t.jsx(kt,{className:"w-5 h-5"}):t.jsx(He,{className:"w-5 h-5"})})]}),n.confirmPassword&&t.jsx(m.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-sm",children:n.confirmPassword})]})]}),t.jsxs("div",{className:"border-t border-peach-200 pt-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:["Profile Photos ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("p",{className:"text-sm text-warm-600 mb-4",children:"Add at least 2 photos to make your profile stand out and attract meaningful connections"}),t.jsx(xo,{photos:a,onPhotosUpdate:r,maxPhotos:6,minPhotos:2,isRequired:!0,showError:d,errorMessage:o})]}),t.jsxs("div",{className:"border-t border-peach-200 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-warm-800 mb-4",children:"Optional Profile Details"}),t.jsx("p",{className:"text-sm text-warm-600 mb-4",children:"Help others get to know you better"}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-warm-700",children:"Tell us about yourself"}),t.jsx("textarea",{id:"bio",name:"bio",value:e.bio,onChange:w,className:"friendly-input w-full p-3 resize-none",rows:3,maxLength:500,placeholder:"Share something about your personality, hobbies, or what you're looking for..."}),t.jsxs("p",{className:"text-xs text-warm-500",children:[((I=e.bio)==null?void 0:I.length)||0,"/500 characters"]})]}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-warm-700",children:"Where are you based?"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"location",name:"location",type:"text",value:e.location,onChange:w,className:"friendly-input w-full pl-10 pr-4 py-3",maxLength:100,placeholder:"e.g., San Francisco, CA"})]})]}),t.jsxs("div",{className:"space-y-1 mb-4",children:[t.jsx("label",{htmlFor:"interests",className:"block text-sm font-medium text-warm-700",children:"Your interests"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-400 pointer-events-none z-10"}),t.jsx("input",{id:"interests",name:"interests",type:"text",value:e.interests,onChange:w,className:"friendly-input w-full pl-10 pr-4 py-3",placeholder:"hiking, music, cooking, travel"})]}),t.jsx("p",{className:"text-xs text-warm-500",children:"Separate interests with commas"})]})]}),t.jsx(m.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g||!R(),className:"friendly-button w-full font-semibold disabled:opacity-50 disabled:cursor-not-allowed py-4",children:g?t.jsx("span",{className:"loading-dots",children:"Creating Account"}):"Create Account"}),!R()&&t.jsx("p",{className:"text-sm text-warm-500 text-center",children:"Please fill in all required fields correctly and upload at least 2 photos"})]})]}),t.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center",children:t.jsxs("div",{className:"text-warm-600",children:["Already have an account?"," ",t.jsx(Ne,{to:"/login",className:"text-coral-500 hover:text-coral-600 font-medium transition-colors",children:"Sign in"})]})})]})]})};class De{static async callOpenAI(s){try{const a=await A.post("/ai/analyze-compatibility",{prompt:s});return JSON.stringify(a.data)}catch(a){return console.error("AI analysis request failed:",a),JSON.stringify({score:7,reasoning:"AI analysis temporarily unavailable. This is a fallback response.",conversation_starters:["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]})}}static async findMatches(s,a=10){try{const r=await A.get(`/matches/candidates?userId=${s}&limit=${a}`),{currentUser:n,candidates:i}=r.data;if(!i||i.length===0)return[];const o=i.map(async d=>{const c=this.createAnalysisPrompt(n,d),u=await this.callOpenAI(c),f=this.parseAIResponse(u);return{candidate:d,compatibility_score:f.score,reasoning:f.reasoning,conversation_starters:f.conversation_starters}});return(await Promise.all(o)).sort((d,c)=>c.compatibility_score-d.compatibility_score)}catch(r){throw console.error("Error finding matches:",r),r}}static createAnalysisPrompt(s,a){return`
Analyze the compatibility between these two people:

Person 1 (${s.name}, ${s.age}):
- Bio: ${s.bio}
- Interests: ${s.interests.join(", ")}
- Personality: ${JSON.stringify(s.personality_answers)}
- Compatibility preferences: ${JSON.stringify(s.compatibility_answers)}

Person 2 (${a.name}, ${a.age}):
- Bio: ${a.bio}
- Interests: ${a.interests.join(", ")}
- Personality: ${JSON.stringify(a.personality_answers)}
- Compatibility preferences: ${JSON.stringify(a.compatibility_answers)}

Please provide:
1. A compatibility score from 1-10
2. Detailed reasoning for the score
3. 3 conversation starters they could use

Format your response as JSON:
{
  "score": 8.5,
  "reasoning": "Detailed explanation...",
  "conversation_starters": ["Starter 1", "Starter 2", "Starter 3"]
}
    `}static parseAIResponse(s){try{const a=s.match(/\{[\s\S]*\}/);if(a){const r=JSON.parse(a[0]);return{score:Math.min(10,Math.max(1,r.score||5)),reasoning:r.reasoning||"Compatibility analysis completed.",conversation_starters:r.conversation_starters||["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]}}}catch(a){console.error("Error parsing AI response:",a)}return{score:7,reasoning:"AI analysis completed successfully.",conversation_starters:["What brings you to SoulSync?","Tell me about your perfect day.","What's something you're passionate about?"]}}static async saveMatch(s,a,r){try{await A.post("/matches",{userId:s,matchedUserId:a,compatibilityScore:r})}catch(n){throw console.error("Error saving match:",n),n}}static async updateMatchStatus(s,a){try{await A.put(`/matches/${s}`,{status:a})}catch(r){throw console.error("Error updating match status:",r),r}}}const go=()=>{const[e,s]=b.useState("discover"),[a,r]=b.useState([]),[n,i]=b.useState(!1),[o,l]=b.useState(0),d=X(),{user:c,profile:u,signOut:f}=Ae();b.useEffect(()=>{if(!c){d("/login");return}e==="discover"&&y()},[c,e,d]);const y=async()=>{if(c){i(!0);try{const N=await De.findMatches(c.id,10);r(N.map(j=>({id:j.candidate.id,name:j.candidate.name,age:j.candidate.age,bio:j.candidate.bio,interests:j.candidate.interests,photos:j.candidate.photos,compatibility_score:j.compatibility_score,reasoning:j.reasoning,conversation_starters:j.conversation_starters})))}catch(N){console.error("Error loading matches:",N)}finally{i(!1)}}},h=async N=>{if(c)try{await De.saveMatch(c.id,N.id,N.compatibility_score),await De.updateMatchStatus(N.id,"accepted"),l(j=>j+1),d("/chat",{state:{match:N}})}catch(j){console.error("Error accepting match:",j)}},g=async N=>{if(c)try{await De.saveMatch(c.id,N.id,N.compatibility_score),await De.updateMatchStatus(N.id,"rejected"),l(j=>j+1)}catch(j){console.error("Error rejecting match:",j)}},v=async()=>{await f(),d("/")},p=a[o];return!c||!u?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[t.jsx("header",{className:"bg-white/10 backdrop-blur-lg border-b border-white/20",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(B,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"SoulSync"})]}),t.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[t.jsxs("button",{onClick:()=>s("discover"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="discover"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(Pa,{className:"w-5 h-5"}),t.jsx("span",{children:"Discover"})]}),t.jsxs("button",{onClick:()=>s("matches"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="matches"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(ce,{className:"w-5 h-5"}),t.jsx("span",{children:"Matches"})]}),t.jsxs("button",{onClick:()=>s("messages"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e==="messages"?"bg-pink-500 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[t.jsx(vs,{className:"w-5 h-5"}),t.jsx("span",{children:"Messages"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"relative p-2 text-gray-300 hover:text-white",children:[t.jsx(bs,{className:"w-6 h-6"}),t.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-white/10",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(be,{className:"w-4 h-4 text-white"})}),t.jsx("span",{className:"text-white hidden md:block",children:u.name})]}),t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:t.jsxs("div",{className:"py-2",children:[t.jsxs("button",{onClick:()=>d("/profile"),className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-300 hover:text-white hover:bg-white/10",children:[t.jsx(be,{className:"w-4 h-4"}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:()=>d("/settings"),className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-300 hover:text-white hover:bg-white/10",children:[t.jsx(ws,{className:"w-4 h-4"}),t.jsx("span",{children:"Settings"})]}),t.jsxs("button",{onClick:v,className:"w-full flex items-center space-x-2 px-4 py-2 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[t.jsx(js,{className:"w-4 h-4"}),t.jsx("span",{children:"Sign Out"})]})]})})]})]})]})})}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[e==="discover"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(be,{className:"w-8 h-8 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:u.name}),t.jsxs("p",{className:"text-gray-400",children:[u.age," years old  ",u.location]}),t.jsx("p",{className:"text-gray-300 mt-2",children:u.bio})]})]})}),n?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):p?t.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl overflow-hidden",children:[t.jsxs("div",{className:"relative h-96 bg-gradient-to-br from-pink-500/20 to-purple-600/20",children:[p.photos[0]?t.jsx("img",{src:p.photos[0],alt:p.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(be,{className:"w-24 h-24 text-white/50"})}),t.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-lg rounded-full px-3 py-1",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(fe,{className:"w-4 h-4 text-yellow-400 fill-current"}),t.jsxs("span",{className:"text-white font-semibold",children:[p.compatibility_score,"/10"]})]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-white",children:[p.name,", ",p.age]}),t.jsx("p",{className:"text-gray-300 mt-2",children:p.bio})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Interests"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.interests.map((N,j)=>t.jsx("span",{className:"px-3 py-1 bg-pink-500/20 text-pink-300 rounded-full text-sm",children:N},j))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Why you're compatible"}),t.jsx("p",{className:"text-gray-300 text-sm",children:p.reasoning})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Conversation Starters"}),t.jsx("div",{className:"space-y-2",children:p.conversation_starters.map((N,j)=>t.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-gray-300 text-sm",children:['"',N,'"']},j))})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(p),className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Pass"}),t.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(p),className:"flex-1 py-3 px-6 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all",children:"Like"})]})]})]},p.id):t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(B,{className:"w-12 h-12 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No more matches"}),t.jsx("p",{className:"text-gray-400",children:"Check back later for new potential matches!"}),t.jsx("button",{onClick:y,className:"mt-4 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all",children:"Refresh"})]})]}),e==="matches"&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Matches"}),t.jsx("p",{className:"text-gray-400",children:"This feature is coming soon!"})]}),e==="messages"&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Messages"}),t.jsx("p",{className:"text-gray-400",children:"This feature is coming soon!"})]})]})]})},re=({children:e})=>{const{user:s,loading:a}=Ae();return a?t.jsx("div",{className:"min-h-screen warm-gradient flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-coral-200 border-t-coral-500 rounded-full animate-spin"}),t.jsx("p",{className:"text-warm-600 font-medium",children:"Loading your experience..."})]})}):s?t.jsx(t.Fragment,{children:e}):t.jsx(Ia,{to:"/login",replace:!0})};function bo(){const{user:e}=Ae(),{dispatch:s}=ie();return b.useEffect(()=>{s(e?{type:"SET_USER",payload:e}:{type:"SET_USER",payload:null})},[e,s]),t.jsx(Ta,{children:t.jsxs("div",{className:"min-h-screen warm-gradient",children:[t.jsx(xe,{mode:"wait",children:t.jsxs(Ra,{children:[t.jsx(G,{path:"/",element:t.jsx(Ti,{})}),t.jsx(G,{path:"/login",element:t.jsx(fo,{})}),t.jsx(G,{path:"/signup",element:t.jsx(yo,{})}),t.jsx(G,{path:"/dashboard",element:t.jsx(re,{children:t.jsx(go,{})})}),t.jsx(G,{path:"/personality-quiz",element:t.jsx(re,{children:t.jsx(_i,{})})}),t.jsx(G,{path:"/payment",element:t.jsx(re,{children:t.jsx(ao,{})})}),t.jsx(G,{path:"/compatibility-quiz",element:t.jsx(re,{children:t.jsx(ro,{})})}),t.jsx(G,{path:"/ai-matching",element:t.jsx(re,{children:t.jsx(no,{})})}),t.jsx(G,{path:"/match-reveal",element:t.jsx(re,{children:t.jsx(oo,{})})}),t.jsx(G,{path:"/chat",element:t.jsx(re,{children:t.jsx(co,{})})}),t.jsx(G,{path:"/date-planner",element:t.jsx(re,{children:t.jsx(uo,{})})}),t.jsx(G,{path:"/additional-questions",element:t.jsx(re,{children:t.jsx(mo,{})})}),t.jsx(G,{path:"/refer-friend",element:t.jsx(re,{children:t.jsx(po,{})})}),t.jsx(G,{path:"/production-features",element:t.jsx(re,{children:t.jsx(ho,{})})})]})}),t.jsx(vr,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 154, 139, 0.2)",color:"#2d3748",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},success:{iconTheme:{primary:"#22c55e",secondary:"white"}},error:{iconTheme:{primary:"#ef4444",secondary:"white"}}}})]})})}function wo(){return t.jsx(Oi,{children:t.jsx(bo,{})})}Ns(document.getElementById("root")).render(t.jsx(b.StrictMode,{children:t.jsx(wo,{})}));
